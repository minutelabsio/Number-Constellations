/*!
 * jQuery JavaScript Library v2.1.0
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-01-23T21:10Z
 */

/*!
 * Sizzle CSS Selector Engine v1.10.16
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-01-13
 */

/**
 * @license
 * Lo-Dash 1.2.1 (Custom Build) lodash.com/license
 * Build: `lodash modern`
 * Underscore.js 1.4.4 underscorejs.org/LICENSE
 */

/** @license MIT License (c) copyright 2011-2013 original author or authors */

/**
 * A lightweight CommonJS Promises/A and when() implementation
 * when is part of the cujo.js family of libraries (http://cujojs.com/)
 *
 * Licensed under the MIT License at:
 * http://www.opensource.org/licenses/mit-license.php
 *
 * @author Brian Cavalier
 * @author John Hann
 * @version 2.5.1
 */

// Copyright 2013 jQuery Foundation and other contributors

/*
 * KineticJS JavaScript Framework v5.0.1
 * http://www.kineticjs.com/
 * Copyright 2013, Eric Rowell
 * Licensed under the MIT or GPL Version 2 licenses.
 * Date: 2014-01-21
 *
 * Copyright (C) 2011 - 2013 by Eric Rowell
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */

/*

     StackBlur - a fast almost Gaussian Blur For Canvas

     Version:   0.5
     Author:    Mario Klingemann
     Contact:   mario@quasimondo.com
     Website:   http://www.quasimondo.com/StackBlurForCanvas
     Twitter:   @quasimondo

     In case you find this class useful - especially in commercial projects -
     I am not totally unhappy for a small donation to my PayPal account
     mario@quasimondo.de

     Or support me on flattr:
     https://flattr.com/thing/72791/StackBlur-a-fast-almost-Gaussian-Blur-Effect-for-CanvasJavascript

     Copyright (c) 2010 Mario Klingemann

     Permission is hereby granted, free of charge, to any person
     obtaining a copy of this software and associated documentation
     files (the "Software"), to deal in the Software without
     restriction, including without limitation the rights to use,
     copy, modify, merge, publish, distribute, sublicense, and/or sell
     copies of the Software, and to permit persons to whom the
     Software is furnished to do so, subject to the following
     conditions:

     The above copyright notice and this permission notice shall be
     included in all copies or substantial portions of the Software.

     THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
     EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
     OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
     NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
     HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
     WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
     FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
     OTHER DEALINGS IN THE SOFTWARE.
     */

/**
   * Emboss Filter
   * @function
   * @memberof Kinetic.Filters
   * @param {Object} imageData
   * Pixastic Lib - Emboss filter - v0.1.0
   * Copyright (c) 2008 Jacob Seidelin, jseidelin@nihilogic.dk, http://blog.nihilogic.dk/
   * License: [http://www.pixastic.com/lib/license.txt]
   */

/**
     * Sepia Filter
     * Based on: Pixastic Lib - Sepia filter - v0.1.0
     * Copyright (c) 2008 Jacob Seidelin, jseidelin@nihilogic.dk, http://blog.nihilogic.dk/
     * @function
     * @memberof Kinetic.Filters
     * @param {Object} imageData
     * @author Jacob Seidelin <jseidelin@nihilogic.dk>
     * @license MPL v1.1 [http://www.pixastic.com/lib/license.txt]
     */

/**
   * Solarize Filter
   * @function
   * @memberof Kinetic.Filters
   * @param {Object} imageData
   * Pixastic Lib - Solarize filter - v0.1.0
   * Copyright (c) 2008 Jacob Seidelin, jseidelin@nihilogic.dk, http://blog.nihilogic.dk/
   * License: [http://www.pixastic.com/lib/license.txt]
   */

/*! Hammer.JS - v1.0.6 - 2014-01-02
 * http://eightmedia.github.com/hammer.js
 *
 * Copyright (c) 2014 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */

/*! jQuery plugin for Hammer.JS - v1.0.1 - 2014-02-03
 * http://eightmedia.github.com/hammer.js
 *
 * Copyright (c) 2014 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */

/**
 * dat-gui JavaScript Controller Library
 * http://code.google.com/p/dat-gui
 *
 * Copyright 2011 Data Arts Team, Google Creative Lab
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 */

/**
 * math.js
 * https://github.com/josdejong/mathjs
 *
 * Math.js is an extensive math library for JavaScript and Node.js,
 * It features real and complex numbers, units, matrices, a large set of
 * mathematical functions, and a flexible expression parser.
 *
 * @version 0.18.0
 * @date    2014-01-18
 *
 * @license
 * Copyright (C) 2013-2014 Jos de Jong <wjosdejong@gmail.com>
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy
 * of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License.
 */

/**
 * @license RequireJS text 2.0.10 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

/** @license
 * RequireJS plugin for loading JSON files
 * - depends on Text plugin and it was HEAVILY "inspired" by it as well.
 * Author: Miller Medeiros
 * Version: 0.3.2 (2013/08/17)
 * Released under the MIT license
 */

(function(e,t){typeof module=="object"&&typeof module.exports=="object"?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)})(typeof window!="undefined"?window:this,function(window,noGlobal){function isArraylike(e){var t=e.length,n=jQuery.type(e);return n==="function"||jQuery.isWindow(e)?!1:e.nodeType===1&&t?!0:n==="array"||t===0||typeof t=="number"&&t>0&&t-1 in e}function winnow(e,t,n){if(jQuery.isFunction(t))return jQuery.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return jQuery.grep(e,function(e){return e===t!==n});if(typeof t=="string"){if(risSimple.test(t))return jQuery.filter(t,e,n);t=jQuery.filter(t,e)}return jQuery.grep(e,function(e){return indexOf.call(t,e)>=0!==n})}function sibling(e,t){while((e=e[t])&&e.nodeType!==1);return e}function createOptions(e){var t=optionsCache[e]={};return jQuery.each(e.match(rnotwhite)||[],function(e,n){t[n]=!0}),t}function completed(){document.removeEventListener("DOMContentLoaded",completed,!1),window.removeEventListener("load",completed,!1),jQuery.ready()}function Data(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=jQuery.expando+Math.random()}function dataAttr(e,t,n){var r;if(n===undefined&&e.nodeType===1){r="data-"+t.replace(rmultiDash,"-$1").toLowerCase(),n=e.getAttribute(r);if(typeof n=="string"){try{n=n==="true"?!0:n==="false"?!1:n==="null"?null:+n+""===n?+n:rbrace.test(n)?jQuery.parseJSON(n):n}catch(i){}data_user.set(e,t,n)}else n=undefined}return n}function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(e){}}function manipulationTarget(e,t){return jQuery.nodeName(e,"table")&&jQuery.nodeName(t.nodeType!==11?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function disableScript(e){return e.type=(e.getAttribute("type")!==null)+"/"+e.type,e}function restoreScript(e){var t=rscriptTypeMasked.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function setGlobalEval(e,t){var n=0,r=e.length;for(;n<r;n++)data_priv.set(e[n],"globalEval",!t||data_priv.get(t[n],"globalEval"))}function cloneCopyEvent(e,t){var n,r,i,s,o,u,a,f;if(t.nodeType!==1)return;if(data_priv.hasData(e)){s=data_priv.access(e),o=data_priv.set(t,s),f=s.events;if(f){delete o.handle,o.events={};for(i in f)for(n=0,r=f[i].length;n<r;n++)jQuery.event.add(t,i,f[i][n])}}data_user.hasData(e)&&(u=data_user.access(e),a=jQuery.extend({},u),data_user.set(t,a))}function getAll(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return t===undefined||t&&jQuery.nodeName(e,t)?jQuery.merge([e],n):n}function fixInput(e,t){var n=t.nodeName.toLowerCase();if(n==="input"&&rcheckableType.test(e.type))t.checked=e.checked;else if(n==="input"||n==="textarea")t.defaultValue=e.defaultValue}function actualDisplay(e,t){var n=jQuery(t.createElement(e)).appendTo(t.body),r=window.getDefaultComputedStyle?window.getDefaultComputedStyle(n[0]).display:jQuery.css(n[0],"display");return n.detach(),r}function defaultDisplay(e){var t=document,n=elemdisplay[e];if(!n){n=actualDisplay(e,t);if(n==="none"||!n)iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=iframe[0].contentDocument,t.write(),t.close(),n=actualDisplay(e,t),iframe.detach();elemdisplay[e]=n}return n}function curCSS(e,t,n){var r,i,s,o,u=e.style;return n=n||getStyles(e),n&&(o=n.getPropertyValue(t)||n[t]),n&&(o===""&&!jQuery.contains(e.ownerDocument,e)&&(o=jQuery.style(e,t)),rnumnonpx.test(o)&&rmargin.test(t)&&(r=u.width,i=u.minWidth,s=u.maxWidth,u.minWidth=u.maxWidth=u.width=o,o=n.width,u.width=r,u.minWidth=i,u.maxWidth=s)),o!==undefined?o+"":o}function addGetHookIf(e,t){return{get:function(){if(e()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}function vendorPropName(e,t){if(t in e)return t;var n=t[0].toUpperCase()+t.slice(1),r=t,i=cssPrefixes.length;while(i--){t=cssPrefixes[i]+n;if(t in e)return t}return r}function setPositiveNumber(e,t,n){var r=rnumsplit.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function augmentWidthOrHeight(e,t,n,r,i){var s=n===(r?"border":"content")?4:t==="width"?1:0,o=0;for(;s<4;s+=2)n==="margin"&&(o+=jQuery.css(e,n+cssExpand[s],!0,i)),r?(n==="content"&&(o-=jQuery.css(e,"padding"+cssExpand[s],!0,i)),n!=="margin"&&(o-=jQuery.css(e,"border"+cssExpand[s]+"Width",!0,i))):(o+=jQuery.css(e,"padding"+cssExpand[s],!0,i),n!=="padding"&&(o+=jQuery.css(e,"border"+cssExpand[s]+"Width",!0,i)));return o}function getWidthOrHeight(e,t,n){var r=!0,i=t==="width"?e.offsetWidth:e.offsetHeight,s=getStyles(e),o=jQuery.css(e,"boxSizing",!1,s)==="border-box";if(i<=0||i==null){i=curCSS(e,t,s);if(i<0||i==null)i=e.style[t];if(rnumnonpx.test(i))return i;r=o&&(support.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+augmentWidthOrHeight(e,t,n||(o?"border":"content"),r,s)+"px"}function showHide(e,t){var n,r,i,s=[],o=0,u=e.length;for(;o<u;o++){r=e[o];if(!r.style)continue;s[o]=data_priv.get(r,"olddisplay"),n=r.style.display,t?(!s[o]&&n==="none"&&(r.style.display=""),r.style.display===""&&isHidden(r)&&(s[o]=data_priv.access(r,"olddisplay",defaultDisplay(r.nodeName)))):s[o]||(i=isHidden(r),(n&&n!=="none"||!i)&&data_priv.set(r,"olddisplay",i?n:jQuery.css(r,"display")))}for(o=0;o<u;o++){r=e[o];if(!r.style)continue;if(!t||r.style.display==="none"||r.style.display==="")r.style.display=t?s[o]||"":"none"}return e}function Tween(e,t,n,r,i){return new Tween.prototype.init(e,t,n,r,i)}function createFxNow(){return setTimeout(function(){fxNow=undefined}),fxNow=jQuery.now()}function genFx(e,t){var n,r=0,i={height:e};t=t?1:0;for(;r<4;r+=2-t)n=cssExpand[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function createTween(e,t,n){var r,i=(tweeners[t]||[]).concat(tweeners["*"]),s=0,o=i.length;for(;s<o;s++)if(r=i[s].call(n,t,e))return r}function defaultPrefilter(e,t,n){var r,i,s,o,u,a,f,l=this,c={},h=e.style,p=e.nodeType&&isHidden(e),d=data_priv.get(e,"fxshow");n.queue||(u=jQuery._queueHooks(e,"fx"),u.unqueued==null&&(u.unqueued=0,a=u.empty.fire,u.empty.fire=function(){u.unqueued||a()}),u.unqueued++,l.always(function(){l.always(function(){u.unqueued--,jQuery.queue(e,"fx").length||u.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],f=jQuery.css(e,"display"),f==="none"&&(f=defaultDisplay(e.nodeName)),f==="inline"&&jQuery.css(e,"float")==="none"&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",l.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(r in t){i=t[r];if(rfxtypes.exec(i)){delete t[r],s=s||i==="toggle";if(i===(p?"hide":"show")){if(i!=="show"||!d||d[r]===undefined)continue;p=!0}c[r]=d&&d[r]||jQuery.style(e,r)}}if(!jQuery.isEmptyObject(c)){d?"hidden"in d&&(p=d.hidden):d=data_priv.access(e,"fxshow",{}),s&&(d.hidden=!p),p?jQuery(e).show():l.done(function(){jQuery(e).hide()}),l.done(function(){var t;data_priv.remove(e,"fxshow");for(t in c)jQuery.style(e,t,c[t])});for(r in c)o=createTween(p?d[r]:0,r,l),r in d||(d[r]=o.start,p&&(o.end=o.start,o.start=r==="width"||r==="height"?1:0))}}function propFilter(e,t){var n,r,i,s,o;for(n in e){r=jQuery.camelCase(n),i=t[r],s=e[n],jQuery.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=jQuery.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function Animation(e,t,n){var r,i,s=0,o=animationPrefilters.length,u=jQuery.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;var t=fxNow||createFxNow(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;for(;o<a;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),s<1&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:jQuery.extend({},t),opts:jQuery.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:fxNow||createFxNow(),duration:n.duration,tweens:[],createTween:function(t,n){var r=jQuery.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;i=!0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;propFilter(l,f.opts.specialEasing);for(;s<o;s++){r=animationPrefilters[s].call(f,e,l,f.opts);if(r)return r}return jQuery.map(l,createTween,f),jQuery.isFunction(f.opts.start)&&f.opts.start.call(e,f),jQuery.fx.timer(jQuery.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function addToPrefiltersOrTransports(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(n))while(r=s[i++])r[0]==="+"?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function inspectPrefiltersOrTransports(e,t,n,r){function o(u){var a;return i[u]=!0,jQuery.each(e[u]||[],function(e,u){var f=u(t,n,r);if(typeof f=="string"&&!s&&!i[f])return t.dataTypes.unshift(f),o(f),!1;if(s)return!(a=f)}),a}var i={},s=e===transports;return o(t.dataTypes[0])||!i["*"]&&o("*")}function ajaxExtend(e,t){var n,r,i=jQuery.ajaxSettings.flatOptions||{};for(n in t)t[n]!==undefined&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&jQuery.extend(!0,e,r),e}function ajaxHandleResponses(e,t,n){var r,i,s,o,u=e.contents,a=e.dataTypes;while(a[0]==="*")a.shift(),r===undefined&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in u)if(u[i]&&u[i].test(r)){a.unshift(i);break}if(a[0]in n)s=a[0];else{for(i in n){if(!a[0]||e.converters[i+" "+a[0]]){s=i;break}o||(o=i)}s=s||o}if(s)return s!==a[0]&&a.unshift(s),n[s]}function ajaxConvert(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s){e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift();if(s)if(s==="*")s=a;else if(a!=="*"&&a!==s){o=f[a+" "+s]||f["* "+s];if(!o)for(i in f){u=i.split(" ");if(u[1]===s){o=f[a+" "+u[0]]||f["* "+u[0]];if(o){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}}}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}}return{state:"success",data:t}}function buildParams(e,t,n,r){var i;if(jQuery.isArray(t))jQuery.each(t,function(t,i){n||rbracket.test(e)?r(e,i):buildParams(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&jQuery.type(t)==="object")for(i in t)buildParams(e+"["+i+"]",t[i],n,r);else r(e,t)}function getWindow(e){return jQuery.isWindow(e)?e:e.nodeType===9&&e.defaultView}var arr=[],slice=arr.slice,concat=arr.concat,push=arr.push,indexOf=arr.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,trim="".trim,support={},document=window.document,version="2.1.0",jQuery=function(e,t){return new jQuery.fn.init(e,t)},rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(e,t){return t.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(e){return e!=null?e<0?this[e+this.length]:this[e]:slice.call(this)},pushStack:function(e){var t=jQuery.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return jQuery.each(this,e,t)},map:function(e){return this.pushStack(jQuery.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:push,sort:arr.sort,splice:arr.splice},jQuery.extend=jQuery.fn.extend=function(){var e,t,n,r,i,s,o=arguments[0]||{},u=1,a=arguments.length,f=!1;typeof o=="boolean"&&(f=o,o=arguments[u]||{},u++),typeof o!="object"&&!jQuery.isFunction(o)&&(o={}),u===a&&(o=this,u--);for(;u<a;u++)if((e=arguments[u])!=null)for(t in e){n=o[t],r=e[t];if(o===r)continue;f&&r&&(jQuery.isPlainObject(r)||(i=jQuery.isArray(r)))?(i?(i=!1,s=n&&jQuery.isArray(n)?n:[]):s=n&&jQuery.isPlainObject(n)?n:{},o[t]=jQuery.extend(f,s,r)):r!==undefined&&(o[t]=r)}return o},jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return jQuery.type(e)==="function"},isArray:Array.isArray,isWindow:function(e){return e!=null&&e===e.window},isNumeric:function(e){return e-parseFloat(e)>=0},isPlainObject:function(e){if(jQuery.type(e)!=="object"||e.nodeType||jQuery.isWindow(e))return!1;try{if(e.constructor&&!hasOwn.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return e==null?e+"":typeof e=="object"||typeof e=="function"?class2type[toString.call(e)]||"object":typeof e},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code),code&&(code.indexOf("use strict")===1?(script=document.createElement("script"),script.text=code,document.head.appendChild(script).parentNode.removeChild(script)):indirect(code))},camelCase:function(e){return e.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,s=e.length,o=isArraylike(e);if(n)if(o)for(;i<s;i++){r=t.apply(e[i],n);if(r===!1)break}else for(i in e){r=t.apply(e[i],n);if(r===!1)break}else if(o)for(;i<s;i++){r=t.call(e[i],i,e[i]);if(r===!1)break}else for(i in e){r=t.call(e[i],i,e[i]);if(r===!1)break}return e},trim:function(e){return e==null?"":trim.call(e)},makeArray:function(e,t){var n=t||[];return e!=null&&(isArraylike(Object(e))?jQuery.merge(n,typeof e=="string"?[e]:e):push.call(n,e)),n},inArray:function(e,t,n){return t==null?-1:indexOf.call(t,e,n)},merge:function(e,t){var n=+t.length,r=0,i=e.length;for(;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length,u=!n;for(;s<o;s++)r=!t(e[s],s),r!==u&&i.push(e[s]);return i},map:function(e,t,n){var r,i=0,s=e.length,o=isArraylike(e),u=[];if(o)for(;i<s;i++)r=t(e[i],i,n),r!=null&&u.push(r);else for(i in e)r=t(e[i],i,n),r!=null&&u.push(r);return concat.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return typeof t=="string"&&(n=e[t],t=e,e=n),jQuery.isFunction(e)?(r=slice.call(arguments,2),i=function(){return e.apply(t||this,r.concat(slice.call(arguments)))},i.guid=e.guid=e.guid||jQuery.guid++,i):undefined},now:Date.now,support:support}),jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){class2type["[object "+t+"]"]=t.toLowerCase()});var Sizzle=function(e){function rt(e,t,r,i){var s,o,u,a,f,h,v,m,w,E;(t?t.ownerDocument||t:b)!==c&&l(t),t=t||c,r=r||[];if(!e||typeof e!="string")return r;if((a=t.nodeType)!==1&&a!==9)return[];if(p&&!i){if(s=G.exec(e))if(u=s[1]){if(a===9){o=t.getElementById(u);if(!o||!o.parentNode)return r;if(o.id===u)return r.push(o),r}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(u))&&g(t,o)&&o.id===u)return r.push(o),r}else{if(s[2])return _.apply(r,t.getElementsByTagName(e)),r;if((u=s[3])&&n.getElementsByClassName&&t.getElementsByClassName)return _.apply(r,t.getElementsByClassName(u)),r}if(n.qsa&&(!d||!d.test(e))){m=v=y,w=t,E=a===9&&e;if(a===1&&t.nodeName.toLowerCase()!=="object"){h=dt(e),(v=t.getAttribute("id"))?m=v.replace(Z,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",f=h.length;while(f--)h[f]=m+vt(h[f]);w=Y.test(e)&&ht(t.parentNode)||t,E=h.join(",")}if(E)try{return _.apply(r,w.querySelectorAll(E)),r}catch(S){}finally{v||t.removeAttribute("id")}}}return xt(e.replace(R,"$1"),t,r,i)}function it(){function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function st(e){return e[y]=!0,e}function ot(e){var t=c.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ut(e,t){var n=e.split("|"),i=e.length;while(i--)r.attrHandle[n[i]]=t}function at(e,t){var n=t&&e,r=n&&e.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||k)-(~e.sourceIndex||k);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ft(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function lt(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function ct(e){return st(function(t){return t=+t,st(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function ht(e){return e&&typeof e.getElementsByTagName!==C&&e}function pt(){}function dt(e,t){var n,i,s,o,u,a,f,l=x[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=r.preFilter;while(u){if(!n||(i=U.exec(u)))i&&(u=u.slice(i[0].length)||u),a.push(s=[]);n=!1;if(i=z.exec(u))n=i.shift(),s.push({value:n,type:i[0].replace(R," ")}),u=u.slice(n.length);for(o in r.filter)(i=$[o].exec(u))&&(!f[o]||(i=f[o](i)))&&(n=i.shift(),s.push({value:n,type:o,matches:i}),u=u.slice(n.length));if(!n)break}return t?u.length:u?rt.error(e):x(e,a).slice(0)}function vt(e){var t=0,n=e.length,r="";for(;t<n;t++)r+=e[t].value;return r}function mt(e,t,n){var r=t.dir,i=n&&r==="parentNode",s=E++;return t.first?function(t,n,s){while(t=t[r])if(t.nodeType===1||i)return e(t,n,s)}:function(t,n,o){var u,a,f=[w,s];if(o){while(t=t[r])if(t.nodeType===1||i)if(e(t,n,o))return!0}else while(t=t[r])if(t.nodeType===1||i){a=t[y]||(t[y]={});if((u=a[r])&&u[0]===w&&u[1]===s)return f[2]=u[2];a[r]=f;if(f[2]=e(t,n,o))return!0}}}function gt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function yt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function bt(e,t,n,r,i,s){return r&&!r[y]&&(r=bt(r)),i&&!i[y]&&(i=bt(i,s)),st(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||St(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?yt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=yt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?P.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=yt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):_.apply(o,g)})}function wt(e){var t,n,i,s=e.length,o=r.relative[e[0].type],a=o||r.relative[" "],f=o?1:0,l=mt(function(e){return e===t},a,!0),c=mt(function(e){return P.call(t,e)>-1},a,!0),h=[function(e,n,r){return!o&&(r||n!==u)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];for(;f<s;f++)if(n=r.relative[e[f].type])h=[mt(gt(h),n)];else{n=r.filter[e[f].type].apply(null,e[f].matches);if(n[y]){i=++f;for(;i<s;i++)if(r.relative[e[i].type])break;return bt(f>1&&gt(h),f>1&&vt(e.slice(0,f-1).concat({value:e[f-2].type===" "?"*":""})).replace(R,"$1"),n,f<i&&wt(e.slice(f,i)),i<s&&wt(e=e.slice(i)),i<s&&vt(e))}h.push(n)}return gt(h)}function Et(e,t){var n=t.length>0,i=e.length>0,s=function(s,o,a,f,l){var h,p,d,v=0,m="0",g=s&&[],y=[],b=u,E=s||i&&r.find.TAG("*",l),S=w+=b==null?1:Math.random()||.1,x=E.length;l&&(u=o!==c&&o);for(;m!==x&&(h=E[m])!=null;m++){if(i&&h){p=0;while(d=e[p++])if(d(h,o,a)){f.push(h);break}l&&(w=S)}n&&((h=!d&&h)&&v--,s&&g.push(h))}v+=m;if(n&&m!==v){p=0;while(d=t[p++])d(g,y,o,a);if(s){if(v>0)while(m--)!g[m]&&!y[m]&&(y[m]=O.call(f));y=yt(y)}_.apply(f,y),l&&!s&&y.length>0&&v+t.length>1&&rt.uniqueSort(f)}return l&&(w=S,u=b),g};return n?st(s):s}function St(e,t,n){var r=0,i=t.length;for(;r<i;r++)rt(e,t[r],n);return n}function xt(e,t,i,s){var u,a,f,l,c,h=dt(e);if(!s&&h.length===1){a=h[0]=h[0].slice(0);if(a.length>2&&(f=a[0]).type==="ID"&&n.getById&&t.nodeType===9&&p&&r.relative[a[1].type]){t=(r.find.ID(f.matches[0].replace(et,tt),t)||[])[0];if(!t)return i;e=e.slice(a.shift().value.length)}u=$.needsContext.test(e)?0:a.length;while(u--){f=a[u];if(r.relative[l=f.type])break;if(c=r.find[l])if(s=c(f.matches[0].replace(et,tt),Y.test(a[0].type)&&ht(t.parentNode)||t)){a.splice(u,1),e=s.length&&vt(a);if(!e)return _.apply(i,s),i;break}}}return o(e,h)(s,t,!p,i,Y.test(e)&&ht(t.parentNode)||t),i}var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y="sizzle"+ -(new Date),b=e.document,w=0,E=0,S=it(),x=it(),T=it(),N=function(e,t){return e===t&&(f=!0),0},C=typeof undefined,k=1<<31,L={}.hasOwnProperty,A=[],O=A.pop,M=A.push,_=A.push,D=A.slice,P=A.indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},H="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",j="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",F=j.replace("w","w#"),I="\\["+B+"*("+j+")"+B+"*(?:([*^$|!~]?=)"+B+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+F+")|)|)"+B+"*\\]",q=":("+j+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+I.replace(3,8)+")*)|.*)\\)|)",R=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),U=new RegExp("^"+B+"*,"+B+"*"),z=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),W=new RegExp("="+B+"*([^\\]'\"]*?)"+B+"*\\]","g"),X=new RegExp(q),V=new RegExp("^"+F+"$"),$={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j.replace("w","w*")+")"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+H+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},J=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,G=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Y=/[+~]/,Z=/'|\\/g,et=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),tt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)};try{_.apply(A=D.call(b.childNodes),b.childNodes),A[b.childNodes.length].nodeType}catch(nt){_={apply:A.length?function(e,t){M.apply(e,D.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}n=rt.support={},s=rt.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},l=rt.setDocument=function(e){var t,i=e?e.ownerDocument||e:b,o=i.defaultView;if(i===c||i.nodeType!==9||!i.documentElement)return c;c=i,h=i.documentElement,p=!s(i),o&&o!==o.top&&(o.addEventListener?o.addEventListener("unload",function(){l()},!1):o.attachEvent&&o.attachEvent("onunload",function(){l()})),n.attributes=ot(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ot(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(i.getElementsByClassName)&&ot(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",e.getElementsByClassName("i").length===2}),n.getById=ot(function(e){return h.appendChild(e).id=y,!i.getElementsByName||!i.getElementsByName(y).length}),n.getById?(r.find.ID=function(e,t){if(typeof t.getElementById!==C&&p){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(et,tt);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(et,tt);return function(e){var n=typeof e.getAttributeNode!==C&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==C)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if(e==="*"){while(n=s[i++])n.nodeType===1&&r.push(n);return r}return s},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==C&&p)return t.getElementsByClassName(e)},v=[],d=[];if(n.qsa=Q.test(i.querySelectorAll))ot(function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&d.push("[*^$]="+B+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||d.push("\\["+B+"*(?:value|"+H+")"),e.querySelectorAll(":checked").length||d.push(":checked")}),ot(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&d.push("name"+B+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||d.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),d.push(",.*:")});return(n.matchesSelector=Q.test(m=h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ot(function(e){n.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),v.push("!=",q)}),d=d.length&&new RegExp(d.join("|")),v=v.length&&new RegExp(v.join("|")),t=Q.test(h.compareDocumentPosition),g=t||Q.test(h.contains)?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&r.nodeType===1&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16)}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},N=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,r&1||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===i||e.ownerDocument===b&&g(b,e)?-1:t===i||t.ownerDocument===b&&g(b,t)?1:a?P.call(a,e)-P.call(a,t):0:r&4?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,s=e.parentNode,o=t.parentNode,u=[e],l=[t];if(!s||!o)return e===i?-1:t===i?1:s?-1:o?1:a?P.call(a,e)-P.call(a,t):0;if(s===o)return at(e,t);n=e;while(n=n.parentNode)u.unshift(n);n=t;while(n=n.parentNode)l.unshift(n);while(u[r]===l[r])r++;return r?at(u[r],l[r]):u[r]===b?-1:l[r]===b?1:0},i},rt.matches=function(e,t){return rt(e,null,null,t)},rt.matchesSelector=function(e,t){(e.ownerDocument||e)!==c&&l(e),t=t.replace(W,"='$1']");if(n.matchesSelector&&p&&(!v||!v.test(t))&&(!d||!d.test(t)))try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&e.document.nodeType!==11)return r}catch(i){}return rt(t,c,null,[e]).length>0},rt.contains=function(e,t){return(e.ownerDocument||e)!==c&&l(e),g(e,t)},rt.attr=function(e,t){(e.ownerDocument||e)!==c&&l(e);var i=r.attrHandle[t.toLowerCase()],s=i&&L.call(r.attrHandle,t.toLowerCase())?i(e,t,!p):undefined;return s!==undefined?s:n.attributes||!p?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},rt.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},rt.uniqueSort=function(e){var t,r=[],i=0,s=0;f=!n.detectDuplicates,a=!n.sortStable&&e.slice(0),e.sort(N);if(f){while(t=e[s++])t===e[s]&&(i=r.push(s));while(i--)e.splice(r[i],1)}return a=null,e},i=rt.getText=function(e){var t,n="",r=0,s=e.nodeType;if(!s)while(t=e[r++])n+=i(t);else if(s===1||s===9||s===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(s===3||s===4)return e.nodeValue;return n},r=rt.selectors={cacheLength:50,createPseudo:st,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(et,tt),e[3]=(e[4]||e[5]||"").replace(et,tt),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||rt.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&rt.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return $.CHILD.test(e[0])?null:(e[3]&&e[4]!==undefined?e[2]=e[4]:n&&X.test(n)&&(t=dt(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(et,tt).toLowerCase();return e==="*"?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+B+")"+e+"("+B+"|$)"))&&S(e,function(e){return t.test(typeof e.className=="string"&&e.className||typeof e.getAttribute!==C&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=rt.attr(r,e);return i==null?t==="!=":t?(i+="",t==="="?i===n:t==="!="?i!==n:t==="^="?n&&i.indexOf(n)===0:t==="*="?n&&i.indexOf(n)>-1:t==="$="?n&&i.slice(-n.length)===n:t==="~="?(" "+i+" ").indexOf(n)>-1:t==="|="?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return r===1&&i===0?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),b=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:c.nodeType===1)return!1;d=v=e==="only"&&!d&&"nextSibling"}return!0}d=[o?m.firstChild:m.lastChild];if(o&&b){l=m[y]||(m[y]={}),f=l[e]||[],p=f[0]===w&&f[1],h=f[0]===w&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(c.nodeType===1&&++h&&c===t){l[e]=[w,p,h];break}}else if(b&&(f=(t[y]||(t[y]={}))[e])&&f[0]===w)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++h){b&&((c[y]||(c[y]={}))[e]=[w,h]);if(c===t)break}return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||rt.error("unsupported pseudo: "+e);return i[y]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?st(function(e,n){var r,s=i(e,t),o=s.length;while(o--)r=P.call(e,s[o]),e[r]=!(n[r]=s[o])}):function(e){return i(e,0,n)}):i}},pseudos:{not:st(function(e){var t=[],n=[],r=o(e.replace(R,"$1"));return r[y]?st(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:st(function(e){return function(t){return rt(e,t).length>0}}),contains:st(function(e){return function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:st(function(e){return V.test(e||"")||rt.error("unsupported lang: "+e),e=e.replace(et,tt).toLowerCase(),function(t){var n;do if(n=p?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===c.activeElement&&(!c.hasFocus||c.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()==="text")},first:ct(function(){return[0]}),last:ct(function(e,t){return[t-1]}),eq:ct(function(e,t,n){return[n<0?n+t:n]}),even:ct(function(e,t){var n=0;for(;n<t;n+=2)e.push(n);return e}),odd:ct(function(e,t){var n=1;for(;n<t;n+=2)e.push(n);return e}),lt:ct(function(e,t,n){var r=n<0?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:ct(function(e,t,n){var r=n<0?n+t:n;for(;++r<t;)e.push(r);return e})}},r.pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ft(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=lt(t);return pt.prototype=r.filters=r.pseudos,r.setFilters=new pt,o=rt.compile=function(e,t){var n,r=[],i=[],s=T[e+" "];if(!s){t||(t=dt(e)),n=t.length;while(n--)s=wt(t[n]),s[y]?r.push(s):i.push(s);s=T(e,Et(i,r))}return s},n.sortStable=y.split("").sort(N).join("")===y,n.detectDuplicates=!!f,l(),n.sortDetached=ot(function(e){return e.compareDocumentPosition(c.createElement("div"))&1}),ot(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild.getAttribute("href")==="#"})||ut("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,t.toLowerCase()==="type"?1:2)}),(!n.attributes||!ot(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),e.firstChild.getAttribute("value")===""}))&&ut("value",function(e,t,n){if(!n&&e.nodeName.toLowerCase()==="input")return e.defaultValue}),ot(function(e){return e.getAttribute("disabled")==null})||ut(H,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),rt}(window);jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains;var rneedsContext=jQuery.expr.match.needsContext,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,risSimple=/^.[^:#\[\.,]*$/;jQuery.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),t.length===1&&r.nodeType===1?jQuery.find.matchesSelector(r,e)?[r]:[]:jQuery.find.matches(e,jQuery.grep(t,function(e){return e.nodeType===1}))},jQuery.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if(typeof e!="string")return this.pushStack(jQuery(e).filter(function(){for(t=0;t<n;t++)if(jQuery.contains(i[t],this))return!0}));for(t=0;t<n;t++)jQuery.find(e,i[t],r);return r=this.pushStack(n>1?jQuery.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(winnow(this,e||[],!1))},not:function(e){return this.pushStack(winnow(this,e||[],!0))},is:function(e){return!!winnow(this,typeof e=="string"&&rneedsContext.test(e)?jQuery(e):e||[],!1).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(e,t){var n,r;if(!e)return this;if(typeof e=="string"){e[0]==="<"&&e[e.length-1]===">"&&e.length>=3?n=[null,e,null]:n=rquickExpr.exec(e);if(n&&(n[1]||!t)){if(n[1]){t=t instanceof jQuery?t[0]:t,jQuery.merge(this,jQuery.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:document,!0));if(rsingleTag.test(n[1])&&jQuery.isPlainObject(t))for(n in t)jQuery.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=document.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=document,this.selector=e,this}return!t||t.jquery?(t||rootjQuery).find(e):this.constructor(t).find(e)}return e.nodeType?(this.context=this[0]=e,this.length=1,this):jQuery.isFunction(e)?typeof rootjQuery.ready!="undefined"?rootjQuery.ready(e):e(jQuery):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),jQuery.makeArray(e,this))};init.prototype=jQuery.fn,rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.extend({dir:function(e,t,n){var r=[],i=n!==undefined;while((e=e[t])&&e.nodeType!==9)if(e.nodeType===1){if(i&&jQuery(e).is(n))break;r.push(e)}return r},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}}),jQuery.fn.extend({has:function(e){var t=jQuery(e,this),n=t.length;return this.filter(function(){var e=0;for(;e<n;e++)if(jQuery.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,s=[],o=rneedsContext.test(e)||typeof e!="string"?jQuery(e,t||this.context):0;for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:n.nodeType===1&&jQuery.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?jQuery.unique(s):s)},index:function(e){return e?typeof e=="string"?indexOf.call(jQuery(e),this[0]):indexOf.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),jQuery(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),jQuery.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return jQuery.dir(e,"parentNode")},parentsUntil:function(e,t,n){return jQuery.dir(e,"parentNode",n)},next:function(e){return sibling(e,"nextSibling")},prev:function(e){return sibling(e,"previousSibling")},nextAll:function(e){return jQuery.dir(e,"nextSibling")},prevAll:function(e){return jQuery.dir(e,"previousSibling")},nextUntil:function(e,t,n){return jQuery.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return jQuery.dir(e,"previousSibling",n)},siblings:function(e){return jQuery.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return jQuery.sibling(e.firstChild)},contents:function(e){return e.contentDocument||jQuery.merge([],e.childNodes)}},function(e,t){jQuery.fn[e]=function(n,r){var i=jQuery.map(this,t,n);return e.slice(-5)!=="Until"&&(r=n),r&&typeof r=="string"&&(i=jQuery.filter(r,i)),this.length>1&&(guaranteedUnique[e]||jQuery.unique(i),rparentsprev.test(e)&&i.reverse()),this.pushStack(i)}});var rnotwhite=/\S+/g,optionsCache={};jQuery.Callbacks=function(e){e=typeof e=="string"?optionsCache[e]||createOptions(e):jQuery.extend({},e);var t,n,r,i,s,o,u=[],a=!e.once&&[],f=function(c){t=e.memory&&c,n=!0,o=i||0,i=0,s=u.length,r=!0;for(;u&&o<s;o++)if(u[o].apply(c[0],c[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,u&&(a?a.length&&f(a.shift()):t?u=[]:l.disable())},l={add:function(){if(u){var n=u.length;(function o(t){jQuery.each(t,function(t,n){var r=jQuery.type(n);r==="function"?(!e.unique||!l.has(n))&&u.push(n):n&&n.length&&r!=="string"&&o(n)})})(arguments),r?s=u.length:t&&(i=n,f(t))}return this},remove:function(){return u&&jQuery.each(arguments,function(e,t){var n;while((n=jQuery.inArray(t,u,n))>-1)u.splice(n,1),r&&(n<=s&&s--,n<=o&&o--)}),this},has:function(e){return e?jQuery.inArray(e,u)>-1:!!u&&!!u.length},empty:function(){return u=[],s=0,this},disable:function(){return u=a=t=undefined,this},disabled:function(){return!u},lock:function(){return a=undefined,t||l.disable(),this},locked:function(){return!a},fireWith:function(e,t){return u&&(!n||a)&&(t=t||[],t=[e,t.slice?t.slice():t],r?a.push(t):f(t)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!n}};return l},jQuery.extend({Deferred:function(e){var t=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return jQuery.Deferred(function(n){jQuery.each(t,function(t,s){var o=jQuery.isFunction(e[t])&&e[t];i[s[1]](function(){var e=o&&o.apply(this,arguments);e&&jQuery.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s[0]+"With"](this===r?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return e!=null?jQuery.extend(e,r):r}},i={};return r.pipe=r.then,jQuery.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=slice.call(arguments),r=n.length,i=r!==1||e&&jQuery.isFunction(e.promise)?r:0,s=i===1?e:jQuery.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?slice.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&jQuery.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}});var readyList;jQuery.fn.ready=function(e){return jQuery.ready.promise().done(e),this},jQuery.extend({isReady:!1,readyWait:1,holdReady:function(e){e?jQuery.readyWait++:jQuery.ready(!0)},ready:function(e){if(e===!0?--jQuery.readyWait:jQuery.isReady)return;jQuery.isReady=!0;if(e!==!0&&--jQuery.readyWait>0)return;readyList.resolveWith(document,[jQuery]),jQuery.fn.trigger&&jQuery(document).trigger("ready").off("ready")}}),jQuery.ready.promise=function(e){return readyList||(readyList=jQuery.Deferred(),document.readyState==="complete"?setTimeout(jQuery.ready):(document.addEventListener("DOMContentLoaded",completed,!1),window.addEventListener("load",completed,!1))),readyList.promise(e)},jQuery.ready.promise();var access=jQuery.access=function(e,t,n,r,i,s,o){var u=0,a=e.length,f=n==null;if(jQuery.type(n)==="object"){i=!0;for(u in n)jQuery.access(e,t,u,n[u],!0,s,o)}else if(r!==undefined){i=!0,jQuery.isFunction(r)||(o=!0),f&&(o?(t.call(e,r),t=null):(f=t,t=function(e,t,n){return f.call(jQuery(e),n)}));if(t)for(;u<a;u++)t(e[u],n,o?r:r.call(e[u],u,t(e[u],n)))}return i?e:f?t.call(e):a?t(e[0],n):s};jQuery.acceptData=function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType},Data.uid=1,Data.accepts=jQuery.acceptData,Data.prototype={key:function(e){if(!Data.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=Data.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,jQuery.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),s=this.cache[i];if(typeof t=="string")s[t]=n;else if(jQuery.isEmptyObject(s))jQuery.extend(this.cache[i],t);else for(r in t)s[r]=t[r];return s},get:function(e,t){var n=this.cache[this.key(e)];return t===undefined?n:n[t]},access:function(e,t,n){var r;return t===undefined||t&&typeof t=="string"&&n===undefined?(r=this.get(e,t),r!==undefined?r:this.get(e,jQuery.camelCase(t))):(this.set(e,t,n),n!==undefined?n:t)},remove:function(e,t){var n,r,i,s=this.key(e),o=this.cache[s];if(t===undefined)this.cache[s]={};else{jQuery.isArray(t)?r=t.concat(t.map(jQuery.camelCase)):(i=jQuery.camelCase(t),t in o?r=[t,i]:(r=i,r=r in o?[r]:r.match(rnotwhite)||[])),n=r.length;while(n--)delete o[r[n]]}},hasData:function(e){return!jQuery.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var data_priv=new Data,data_user=new Data,rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({hasData:function(e){return data_user.hasData(e)||data_priv.hasData(e)},data:function(e,t,n){return data_user.access(e,t,n)},removeData:function(e,t){data_user.remove(e,t)},_data:function(e,t,n){return data_priv.access(e,t,n)},_removeData:function(e,t){data_priv.remove(e,t)}}),jQuery.fn.extend({data:function(e,t){var n,r,i,s=this[0],o=s&&s.attributes;if(e===undefined){if(this.length){i=data_user.get(s);if(s.nodeType===1&&!data_priv.get(s,"hasDataAttrs")){n=o.length;while(n--)r=o[n].name,r.indexOf("data-")===0&&(r=jQuery.camelCase(r.slice(5)),dataAttr(s,r,i[r]));data_priv.set(s,"hasDataAttrs",!0)}}return i}return typeof e=="object"?this.each(function(){data_user.set(this,e)}):access(this,function(t){var n,r=jQuery.camelCase(e);if(s&&t===undefined){n=data_user.get(s,e);if(n!==undefined)return n;n=data_user.get(s,r);if(n!==undefined)return n;n=dataAttr(s,r,undefined);if(n!==undefined)return n;return}this.each(function(){var n=data_user.get(this,r);data_user.set(this,r,t),e.indexOf("-")!==-1&&n!==undefined&&data_user.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){data_user.remove(this,e)})}}),jQuery.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=data_priv.get(e,t),n&&(!r||jQuery.isArray(n)?r=data_priv.access(e,t,jQuery.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=jQuery.queue(e,t),r=n.length,i=n.shift(),s=jQuery._queueHooks(e,t),o=function(){jQuery.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return data_priv.get(e,n)||data_priv.access(e,n,{empty:jQuery.Callbacks("once memory").add(function(){data_priv.remove(e,[t+"queue",n])})})}}),jQuery.fn.extend({queue:function(e,t){var n=2;return typeof e!="string"&&(t=e,e="fx",n--),arguments.length<n?jQuery.queue(this[0],e):t===undefined?this:this.each(function(){var n=jQuery.queue(this,e,t);jQuery._queueHooks(this,e),e==="fx"&&n[0]!=="inprogress"&&jQuery.dequeue(this,e)})},dequeue:function(e){return this.each(function(){jQuery.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=jQuery.Deferred(),s=this,o=this.length,u=function(){--r||i.resolveWith(s,[s])};typeof e!="string"&&(t=e,e=undefined),e=e||"fx";while(o--)n=data_priv.get(s[o],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(u));return u(),i.promise(t)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,cssExpand=["Top","Right","Bottom","Left"],isHidden=function(e,t){return e=t||e,jQuery.css(e,"display")==="none"||!jQuery.contains(e.ownerDocument,e)},rcheckableType=/^(?:checkbox|radio)$/i;(function(){var e=document.createDocumentFragment(),t=e.appendChild(document.createElement("div"));t.innerHTML="<input type='radio' checked='checked' name='t'/>",support.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",support.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue})();var strundefined=typeof undefined;support.focusinBubbles="onfocusin"in window;var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;jQuery.event={global:{},add:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=data_priv.get(e);if(!m)return;n.handler&&(s=n,n=s.handler,i=s.selector),n.guid||(n.guid=jQuery.guid++),(a=m.events)||(a=m.events={}),(o=m.handle)||(o=m.handle=function(t){return typeof jQuery!==strundefined&&jQuery.event.triggered!==t.type?jQuery.event.dispatch.apply(e,arguments):undefined}),t=(t||"").match(rnotwhite)||[""],f=t.length;while(f--){u=rtypenamespace.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort();if(!p)continue;c=jQuery.event.special[p]||{},p=(i?c.delegateType:c.bindType)||p,c=jQuery.event.special[p]||{},l=jQuery.extend({type:p,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&jQuery.expr.match.needsContext.test(i),namespace:d.join(".")},s),(h=a[p])||(h=a[p]=[],h.delegateCount=0,(!c.setup||c.setup.call(e,r,d,o)===!1)&&e.addEventListener&&e.addEventListener(p,o,!1)),c.add&&(c.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,l):h.push(l),jQuery.event.global[p]=!0}},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=data_priv.hasData(e)&&data_priv.get(e);if(!m||!(a=m.events))return;t=(t||"").match(rnotwhite)||[""],f=t.length;while(f--){u=rtypenamespace.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort();if(!p){for(p in a)jQuery.event.remove(e,p+t[f],n,r,!0);continue}c=jQuery.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,h=a[p]||[],u=u[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=h.length;while(s--)l=h[s],(i||v===l.origType)&&(!n||n.guid===l.guid)&&(!u||u.test(l.namespace))&&(!r||r===l.selector||r==="**"&&l.selector)&&(h.splice(s,1),l.selector&&h.delegateCount--,c.remove&&c.remove.call(e,l));o&&!h.length&&((!c.teardown||c.teardown.call(e,d,m.handle)===!1)&&jQuery.removeEvent(e,p,m.handle),delete a[p])}jQuery.isEmptyObject(a)&&(delete m.handle,data_priv.remove(e,"events"))},trigger:function(e,t,n,r){var i,s,o,u,a,f,l,c=[n||document],h=hasOwn.call(e,"type")?e.type:e,p=hasOwn.call(e,"namespace")?e.namespace.split("."):[];s=o=n=n||document;if(n.nodeType===3||n.nodeType===8)return;if(rfocusMorph.test(h+jQuery.event.triggered))return;h.indexOf(".")>=0&&(p=h.split("."),h=p.shift(),p.sort()),a=h.indexOf(":")<0&&"on"+h,e=e[jQuery.expando]?e:new jQuery.Event(h,typeof e=="object"&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=n),t=t==null?[e]:jQuery.makeArray(t,[e]),l=jQuery.event.special[h]||{};if(!r&&l.trigger&&l.trigger.apply(n,t)===!1)return;if(!r&&!l.noBubble&&!jQuery.isWindow(n)){u=l.delegateType||h,rfocusMorph.test(u+h)||(s=s.parentNode);for(;s;s=s.parentNode)c.push(s),o=s;o===(n.ownerDocument||document)&&c.push(o.defaultView||o.parentWindow||window)}i=0;while((s=c[i++])&&!e.isPropagationStopped())e.type=i>1?u:l.bindType||h,f=(data_priv.get(s,"events")||{})[e.type]&&data_priv.get(s,"handle"),f&&f.apply(s,t),f=a&&s[a],f&&f.apply&&jQuery.acceptData(s)&&(e.result=f.apply(s,t),e.result===!1&&e.preventDefault());return e.type=h,!r&&!e.isDefaultPrevented()&&(!l._default||l._default.apply(c.pop(),t)===!1)&&jQuery.acceptData(n)&&a&&jQuery.isFunction(n[h])&&!jQuery.isWindow(n)&&(o=n[a],o&&(n[a]=null),jQuery.event.triggered=h,n[h](),jQuery.event.triggered=undefined,o&&(n[a]=o)),e.result},dispatch:function(e){e=jQuery.event.fix(e);var t,n,r,i,s,o=[],u=slice.call(arguments),a=(data_priv.get(this,"events")||{})[e.type]||[],f=jQuery.event.special[e.type]||{};u[0]=e,e.delegateTarget=this;if(f.preDispatch&&f.preDispatch.call(this,e)===!1)return;o=jQuery.event.handlers.call(this,e,a),t=0;while((i=o[t++])&&!e.isPropagationStopped()){e.currentTarget=i.elem,n=0;while((s=i.handlers[n++])&&!e.isImmediatePropagationStopped())if(!e.namespace_re||e.namespace_re.test(s.namespace))e.handleObj=s,e.data=s.data,r=((jQuery.event.special[s.origType]||{}).handle||s.handler).apply(i.elem,u),r!==undefined&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation())}return f.postDispatch&&f.postDispatch.call(this,e),e.result},handlers:function(e,t){var n,r,i,s,o=[],u=t.delegateCount,a=e.target;if(u&&a.nodeType&&(!e.button||e.type!=="click"))for(;a!==this;a=a.parentNode||this)if(a.disabled!==!0||e.type!=="click"){r=[];for(n=0;n<u;n++)s=t[n],i=s.selector+" ",r[i]===undefined&&(r[i]=s.needsContext?jQuery(i,this).index(a)>=0:jQuery.find(i,this,null,[a]).length),r[i]&&r.push(s);r.length&&o.push({elem:a,handlers:r})}return u<t.length&&o.push({elem:this,handlers:t.slice(u)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button;return e.pageX==null&&t.clientX!=null&&(n=e.target.ownerDocument||document,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!e.which&&s!==undefined&&(e.which=s&1?1:s&2?3:s&4?2:0),e}},fix:function(e){if(e[jQuery.expando])return e;var t,n,r,i=e.type,s=e,o=this.fixHooks[i];o||(this.fixHooks[i]=o=rmouseEvent.test(i)?this.mouseHooks:rkeyEvent.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new jQuery.Event(s),t=r.length;while(t--)n=r[t],e[n]=s[n];return e.target||(e.target=document),e.target.nodeType===3&&(e.target=e.target.parentNode),o.filter?o.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&jQuery.nodeName(this,"input"))return this.click(),!1},_default:function(e){return jQuery.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=jQuery.extend(new jQuery.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?jQuery.event.trigger(i,null,t):jQuery.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},jQuery.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},jQuery.Event=function(e,t){if(!(this instanceof jQuery.Event))return new jQuery.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&e.getPreventDefault&&e.getPreventDefault()?returnTrue:returnFalse):this.type=e,t&&jQuery.extend(this,t),this.timeStamp=e&&e.timeStamp||jQuery.now(),this[jQuery.expando]=!0},jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue,this.stopPropagation()}},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){jQuery.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;if(!i||i!==r&&!jQuery.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),support.focusinBubbles||jQuery.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){jQuery.event.simulate(t,e.target,jQuery.event.fix(e),!0)};jQuery.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=data_priv.access(r,t);i||r.addEventListener(e,n,!0),data_priv.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=data_priv.access(r,t)-1;i?data_priv.access(r,t,i):(r.removeEventListener(e,n,!0),data_priv.remove(r,t))}}}),jQuery.fn.extend({on:function(e,t,n,r,i){var s,o;if(typeof e=="object"){typeof t!="string"&&(n=n||t,t=undefined);for(o in e)this.on(o,t,n,e[o],i);return this}n==null&&r==null?(r=t,n=t=undefined):r==null&&(typeof t=="string"?(r=n,n=undefined):(r=n,n=t,t=undefined));if(r===!1)r=returnFalse;else if(!r)return this;return i===1&&(s=r,r=function(e){return jQuery().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,jQuery(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if(typeof e=="object"){for(i in e)this.off(i,t,e[i]);return this}if(t===!1||typeof t=="function")n=t,t=undefined;return n===!1&&(n=returnFalse),this.each(function(){jQuery.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){jQuery.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return jQuery.event.trigger(e,t,n,!0)}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td,jQuery.extend({clone:function(e,t,n){var r,i,s,o,u=e.cloneNode(!0),a=jQuery.contains(e.ownerDocument,e);if(!support.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!jQuery.isXMLDoc(e)){o=getAll(u),s=getAll(e);for(r=0,i=s.length;r<i;r++)fixInput(s[r],o[r])}if(t)if(n){s=s||getAll(e),o=o||getAll(u);for(r=0,i=s.length;r<i;r++)cloneCopyEvent(s[r],o[r])}else cloneCopyEvent(e,u);return o=getAll(u,"script"),o.length>0&&setGlobalEval(o,!a&&getAll(e,"script")),u},buildFragment:function(e,t,n,r){var i,s,o,u,a,f,l=t.createDocumentFragment(),c=[],h=0,p=e.length;for(;h<p;h++){i=e[h];if(i||i===0)if(jQuery.type(i)==="object")jQuery.merge(c,i.nodeType?[i]:i);else if(!rhtml.test(i))c.push(t.createTextNode(i));else{s=s||l.appendChild(t.createElement("div")),o=(rtagName.exec(i)||["",""])[1].toLowerCase(),u=wrapMap[o]||wrapMap._default,s.innerHTML=u[1]+i.replace(rxhtmlTag,"<$1></$2>")+u[2],f=u[0];while(f--)s=s.lastChild;jQuery.merge(c,s.childNodes),s=l.firstChild,s.textContent=""}}l.textContent="",h=0;while(i=c[h++]){if(r&&jQuery.inArray(i,r)!==-1)continue;a=jQuery.contains(i.ownerDocument,i),s=getAll(l.appendChild(i),"script"),a&&setGlobalEval(s);if(n){f=0;while(i=s[f++])rscriptType.test(i.type||"")&&n.push(i)}}return l},cleanData:function(e){var t,n,r,i,s,o,u=jQuery.event.special,a=0;for(;(n=e[a])!==undefined;a++){if(jQuery.acceptData(n)){s=n[data_priv.expando];if(s&&(t=data_priv.cache[s])){r=Object.keys(t.events||{});if(r.length)for(o=0;(i=r[o])!==undefined;o++)u[i]?jQuery.event.remove(n,i):jQuery.removeEvent(n,i,t.handle);data_priv.cache[s]&&delete data_priv.cache[s]}}delete data_user.cache[n[data_user.expando]]}}}),jQuery.fn.extend({text:function(e){return access(this,function(e){return e===undefined?jQuery.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9)this.textContent=e})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=manipulationTarget(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=manipulationTarget(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?jQuery.filter(e,this):this,i=0;for(;(n=r[i])!=null;i++)!t&&n.nodeType===1&&jQuery.cleanData(getAll(n)),n.parentNode&&(t&&jQuery.contains(n.ownerDocument,n)&&setGlobalEval(getAll(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++)e.nodeType===1&&(jQuery.cleanData(getAll(e,!1)),e.textContent="");return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return jQuery.clone(this,e,t)})},html:function(e){return access(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined&&t.nodeType===1)return t.innerHTML;if(typeof e=="string"&&!rnoInnerhtml.test(e)&&!wrapMap[(rtagName.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(rxhtmlTag,"<$1></$2>");try{for(;n<r;n++)t=this[n]||{},t.nodeType===1&&(jQuery.cleanData(getAll(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,jQuery.cleanData(getAll(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=concat.apply([],e);var n,r,i,s,o,u,a=0,f=this.length,l=this,c=f-1,h=e[0],p=jQuery.isFunction(h);if(p||f>1&&typeof h=="string"&&!support.checkClone&&rchecked.test(h))return this.each(function(n){var r=l.eq(n);p&&(e[0]=h.call(this,n,r.html())),r.domManip(e,t)});if(f){n=jQuery.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,n.childNodes.length===1&&(n=r);if(r){i=jQuery.map(getAll(n,"script"),disableScript),s=i.length;for(;a<f;a++)o=n,a!==c&&(o=jQuery.clone(o,!0,!0),s&&jQuery.merge(i,getAll(o,"script"))),t.call(this[a],o,a);if(s){u=i[i.length-1].ownerDocument,jQuery.map(i,restoreScript);for(a=0;a<s;a++)o=i[a],rscriptType.test(o.type||"")&&!data_priv.access(o,"globalEval")&&jQuery.contains(u,o)&&(o.src?jQuery._evalUrl&&jQuery._evalUrl(o.src):jQuery.globalEval(o.textContent.replace(rcleanScript,"")))}}}return this}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){jQuery.fn[e]=function(e){var n,r=[],i=jQuery(e),s=i.length-1,o=0;for(;o<=s;o++)n=o===s?this:this.clone(!0),jQuery(i[o])[t](n),push.apply(r,n.get());return this.pushStack(r)}});var iframe,elemdisplay={},rmargin=/^margin/,rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i"),getStyles=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};(function(){function o(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",r.appendChild(i);var n=window.getComputedStyle(s,null);e=n.top!=="1%",t=n.width==="4px",r.removeChild(i)}var e,t,n="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",r=document.documentElement,i=document.createElement("div"),s=document.createElement("div");s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle=s.style.backgroundClip==="content-box",i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",i.appendChild(s),window.getComputedStyle&&jQuery.extend(support,{pixelPosition:function(){return o(),e},boxSizingReliable:function(){return t==null&&o(),t},reliableMarginRight:function(){var e,t=s.appendChild(document.createElement("div"));return t.style.cssText=s.style.cssText=n,t.style.marginRight=t.style.width="0",s.style.width="1px",r.appendChild(i),e=!parseFloat(window.getComputedStyle(t,null).marginRight),r.removeChild(i),s.innerHTML="",e}})})(),jQuery.swap=function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i};var rdisplayswap=/^(none|table(?!-c[ea]).+)/,rnumsplit=new RegExp("^("+pnum+")(.*)$","i"),rrelNum=new RegExp("^([+-])=("+pnum+")","i"),cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:0,fontWeight:400},cssPrefixes=["Webkit","O","Moz","ms"];jQuery.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=curCSS(e,"opacity");return n===""?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var i,s,o,u=jQuery.camelCase(t),a=e.style;t=jQuery.cssProps[u]||(jQuery.cssProps[u]=vendorPropName(a,u)),o=jQuery.cssHooks[t]||jQuery.cssHooks[u];if(n===undefined)return o&&"get"in o&&(i=o.get(e,!1,r))!==undefined?i:a[t];s=typeof n,s==="string"&&(i=rrelNum.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(jQuery.css(e,t)),s="number");if(n==null||n!==n)return;s==="number"&&!jQuery.cssNumber[u]&&(n+="px"),!support.clearCloneStyle&&n===""&&t.indexOf("background")===0&&(a[t]="inherit");if(!o||!("set"in o)||(n=o.set(e,n,r))!==undefined)a[t]="",a[t]=n},css:function(e,t,n,r){var i,s,o,u=jQuery.camelCase(t);return t=jQuery.cssProps[u]||(jQuery.cssProps[u]=vendorPropName(e.style,u)),o=jQuery.cssHooks[t]||jQuery.cssHooks[u],o&&"get"in o&&(i=o.get(e,!0,n)),i===undefined&&(i=curCSS(e,t,r)),i==="normal"&&t in cssNormalTransform&&(i=cssNormalTransform[t]),n===""||n?(s=parseFloat(i),n===!0||jQuery.isNumeric(s)?s||0:i):i}}),jQuery.each(["height","width"],function(e,t){jQuery.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&rdisplayswap.test(jQuery.css(e,"display"))?jQuery.swap(e,cssShow,function(){return getWidthOrHeight(e,t,r)}):getWidthOrHeight(e,t,r)},set:function(e,n,r){var i=r&&getStyles(e);return setPositiveNumber(e,n,r?augmentWidthOrHeight(e,t,r,jQuery.css(e,"boxSizing",!1,i)==="border-box",i):0)}}}),jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(e,t){if(t)return jQuery.swap(e,{display:"inline-block"},curCSS,[e,"marginRight"])}),jQuery.each({margin:"",padding:"",border:"Width"},function(e,t){jQuery.cssHooks[e+t]={expand:function(n){var r=0,i={},s=typeof n=="string"?n.split(" "):[n];for(;r<4;r++)i[e+cssExpand[r]+t]=s[r]||s[r-2]||s[0];return i}},rmargin.test(e)||(jQuery.cssHooks[e+t].set=setPositiveNumber)}),jQuery.fn.extend({css:function(e,t){return access(this,function(e,t,n){var r,i,s={},o=0;if(jQuery.isArray(t)){r=getStyles(e),i=t.length;for(;o<i;o++)s[t[o]]=jQuery.css(e,t[o],!1,r);return s}return n!==undefined?jQuery.style(e,t,n):jQuery.css(e,t)},e,t,arguments.length>1)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(e){return typeof e=="boolean"?e?this.show():this.hide():this.each(function(){isHidden(this)?jQuery(this).show():jQuery(this).hide()})}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(jQuery.cssNumber[n]?"":"px")},cur:function(){var e=Tween.propHooks[this.prop];return e&&e.get?e.get(this):Tween.propHooks._default.get(this)},run:function(e){var t,n=Tween.propHooks[this.prop];return this.options.duration?this.pos=t=jQuery.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=jQuery.css(e.elem,e.prop,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){jQuery.fx.step[e.prop]?jQuery.fx.step[e.prop](e):e.elem.style&&(e.elem.style[jQuery.cssProps[e.prop]]!=null||jQuery.cssHooks[e.prop])?jQuery.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},jQuery.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=rfxnum.exec(t),s=i&&i[3]||(jQuery.cssNumber[e]?"":"px"),o=(jQuery.cssNumber[e]||s!=="px"&&+r)&&rfxnum.exec(jQuery.css(n.elem,e)),u=1,a=20;if(o&&o[3]!==s){s=s||o[3],i=i||[],o=+r||1;do u=u||".5",o/=u,jQuery.style(n.elem,e,o+s);while(u!==(u=n.cur()/r)&&u!==1&&--a)}return i&&(o=n.start=+o||+r||0,n.unit=s,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};jQuery.Animation=jQuery.extend(Animation,{tweener:function(e,t){jQuery.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],tweeners[n]=tweeners[n]||[],tweeners[n].unshift(t)},prefilter:function(e,t){t?animationPrefilters.unshift(e):animationPrefilters.push(e)}}),jQuery.speed=function(e,t,n){var r=e&&typeof e=="object"?jQuery.extend({},e):{complete:n||!n&&t||jQuery.isFunction(e)&&e,duration:e,easing:n&&t||t&&!jQuery.isFunction(t)&&t};r.duration=jQuery.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in jQuery.fx.speeds?jQuery.fx.speeds[r.duration]:jQuery.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){jQuery.isFunction(r.old)&&r.old.call(this),r.queue&&jQuery.dequeue(this,r.queue)},r},jQuery.fn.extend({fadeTo:function(e,t,n,r){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=jQuery.isEmptyObject(e),s=jQuery.speed(t,n,r),o=function(){var t=Animation(this,jQuery.extend({},e),s);(i||data_priv.get(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return typeof e!="string"&&(n=t,t=e,e=undefined),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=e!=null&&e+"queueHooks",s=jQuery.timers,o=data_priv.get(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&rrun.test(i)&&r(o[i]);for(i=s.length;i--;)s[i].elem===this&&(e==null||s[i].queue===e)&&(s[i].anim.stop(n),t=!1,s.splice(i,1));(t||!n)&&jQuery.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=data_priv.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=jQuery.timers,o=r?r.length:0;n.finish=!0,jQuery.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0);for(t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),jQuery.each(["toggle","show","hide"],function(e,t){var n=jQuery.fn[t];jQuery.fn[t]=function(e,r,i){return e==null||typeof e=="boolean"?n.apply(this,arguments):this.animate(genFx(t,!0),e,r,i)}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){jQuery.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),jQuery.timers=[],jQuery.fx.tick=function(){var e,t=0,n=jQuery.timers;fxNow=jQuery.now();for(;t<n.length;t++)e=n[t],!e()&&n[t]===e&&n.splice(t--,1);n.length||jQuery.fx.stop(),fxNow=undefined},jQuery.fx.timer=function(e){jQuery.timers.push(e),e()?jQuery.fx.start():jQuery.timers.pop()},jQuery.fx.interval=13,jQuery.fx.start=function(){timerId||(timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval))},jQuery.fx.stop=function(){clearInterval(timerId),timerId=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(e,t){return e=jQuery.fx?jQuery.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=document.createElement("input"),t=document.createElement("select"),n=t.appendChild(document.createElement("option"));e.type="checkbox",support.checkOn=e.value!=="",support.optSelected=n.selected,t.disabled=!0,support.optDisabled=!n.disabled,e=document.createElement("input"),e.value="t",e.type="radio",support.radioValue=e.value==="t"}();var nodeHook,boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(e,t){return access(this,jQuery.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){jQuery.removeAttr(this,e)})}}),jQuery.extend({attr:function(e,t,n){var r,i,s=e.nodeType;if(!e||s===3||s===8||s===2)return;if(typeof e.getAttribute===strundefined)return jQuery.prop(e,t,n);if(s!==1||!jQuery.isXMLDoc(e))t=t.toLowerCase(),r=jQuery.attrHooks[t]||(jQuery.expr.match.bool.test(t)?boolHook:nodeHook);if(n===undefined)return r&&"get"in r&&(i=r.get(e,t))!==null?i:(i=jQuery.find.attr(e,t),i==null?undefined:i);if(n!==null)return r&&"set"in r&&(i=r.set(e,n,t))!==undefined?i:(e.setAttribute(t,n+""),n);jQuery.removeAttr(e,t)},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(rnotwhite);if(s&&e.nodeType===1)while(n=s[i++])r=jQuery.propFix[n]||n,jQuery.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!support.radioValue&&t==="radio"&&jQuery.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),boolHook={set:function(e,t,n){return t===!1?jQuery.removeAttr(e,n):e.setAttribute(n,n),n}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(e,t){var n=attrHandle[t]||jQuery.find.attr;attrHandle[t]=function(e,t,r){var i,s;return r||(s=attrHandle[t],attrHandle[t]=i,i=n(e,t,r)!=null?t.toLowerCase():null,attrHandle[t]=s),i}});var rfocusable=/^(?:input|select|textarea|button)$/i;jQuery.fn.extend({prop:function(e,t){return access(this,jQuery.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[jQuery.propFix[e]||e]})}}),jQuery.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,s,o=e.nodeType;if(!e||o===3||o===8||o===2)return;return s=o!==1||!jQuery.isXMLDoc(e),s&&(t=jQuery.propFix[t]||t,i=jQuery.propHooks[t]),n!==undefined?i&&"set"in i&&(r=i.set(e,n,t))!==undefined?r:e[t]=n:i&&"get"in i&&(r=i.get(e,t))!==null?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||rfocusable.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),support.optSelected||(jQuery.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass:function(e){var t,n,r,i,s,o,u=typeof e=="string"&&e,a=0,f=this.length;if(jQuery.isFunction(e))return this.each(function(t){jQuery(this).addClass(e.call(this,t,this.className))});if(u){t=(e||"").match(rnotwhite)||[];for(;a<f;a++){n=this[a],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(rclass," "):" ");if(r){s=0;while(i=t[s++])r.indexOf(" "+i+" ")<0&&(r+=i+" ");o=jQuery.trim(r),n.className!==o&&(n.className=o)}}}return this},removeClass:function(e){var t,n,r,i,s,o,u=arguments.length===0||typeof e=="string"&&e,a=0,f=this.length;if(jQuery.isFunction(e))return this.each(function(t){jQuery(this).removeClass(e.call(this,t,this.className))});if(u){t=(e||"").match(rnotwhite)||[];for(;a<f;a++){n=this[a],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(rclass," "):"");if(r){s=0;while(i=t[s++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");o=e?jQuery.trim(r):"",n.className!==o&&(n.className=o)}}}return this},toggleClass:function(e,t){var n=typeof e;return typeof t=="boolean"&&n==="string"?t?this.addClass(e):this.removeClass(e):jQuery.isFunction(e)?this.each(function(n){jQuery(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var t,r=0,i=jQuery(this),s=e.match(rnotwhite)||[];while(t=s[r++])i.hasClass(t)?i.removeClass(t):i.addClass(t)}else if(n===strundefined||n==="boolean")this.className&&data_priv.set(this,"__className__",this.className),this.className=this.className||e===!1?"":data_priv.get(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(rclass," ").indexOf(t)>=0)return!0;return!1}});var rreturn=/\r/g;jQuery.fn.extend({val:function(e){var t,n,r,i=this[0];if(!arguments.length){if(i)return t=jQuery.valHooks[i.type]||jQuery.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&(n=t.get(i,"value"))!==undefined?n:(n=i.value,typeof n=="string"?n.replace(rreturn,""):n==null?"":n);return}return r=jQuery.isFunction(e),this.each(function(n){var i;if(this.nodeType!==1)return;r?i=e.call(this,n,jQuery(this).val()):i=e,i==null?i="":typeof i=="number"?i+="":jQuery.isArray(i)&&(i=jQuery.map(i,function(e){return e==null?"":e+""})),t=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!t||!("set"in t)||t.set(this,i,"value")===undefined)this.value=i})}}),jQuery.extend({valHooks:{select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!jQuery.nodeName(n.parentNode,"optgroup"))){t=jQuery(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n,r,i=e.options,s=jQuery.makeArray(t),o=i.length;while(o--){r=i[o];if(r.selected=jQuery.inArray(jQuery(r).val(),s)>=0)n=!0}return n||(e.selectedIndex=-1),s}}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(e,t){if(jQuery.isArray(t))return e.checked=jQuery.inArray(jQuery(e).val(),t)>=0}},support.checkOn||(jQuery.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value})}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){jQuery.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),jQuery.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)}});var nonce=jQuery.now(),rquery=/\?/;jQuery.parseJSON=function(e){return JSON.parse(e+"")},jQuery.parseXML=function(e){var t,n;if(!e||typeof e!="string")return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=undefined}return(!t||t.getElementsByTagName("parsererror").length)&&jQuery.error("Invalid XML: "+e),t};var ajaxLocParts,ajaxLocation,rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/mg,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,prefilters={},transports={},allTypes="*/".concat("*");try{ajaxLocation=location.href}catch(e){ajaxLocation=document.createElement("a"),ajaxLocation.href="",ajaxLocation=ajaxLocation.href}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[],jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ajaxExtend(ajaxExtend(e,jQuery.ajaxSettings),t):ajaxExtend(jQuery.ajaxSettings,e)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(e,t){function S(e,t,s,u){var f,m,g,b,E,S=t;if(y===2)return;y=2,o&&clearTimeout(o),n=undefined,i=u||"",w.readyState=e>0?4:0,f=e>=200&&e<300||e===304,s&&(b=ajaxHandleResponses(l,w,s)),b=ajaxConvert(l,b,w,f);if(f)l.ifModified&&(E=w.getResponseHeader("Last-Modified"),E&&(jQuery.lastModified[r]=E),E=w.getResponseHeader("etag"),E&&(jQuery.etag[r]=E)),e===204||l.type==="HEAD"?S="nocontent":e===304?S="notmodified":(S=b.state,m=b.data,g=b.error,f=!g);else{g=S;if(e||!S)S="error",e<0&&(e=0)}w.status=e,w.statusText=(t||S)+"",f?p.resolveWith(c,[m,S,w]):p.rejectWith(c,[w,S,g]),w.statusCode(v),v=undefined,a&&h.trigger(f?"ajaxSuccess":"ajaxError",[w,l,f?m:g]),d.fireWith(c,[w,S]),a&&(h.trigger("ajaxComplete",[w,l]),--jQuery.active||jQuery.event.trigger("ajaxStop"))}typeof e=="object"&&(t=e,e=undefined),t=t||{};var n,r,i,s,o,u,a,f,l=jQuery.ajaxSetup({},t),c=l.context||l,h=l.context&&(c.nodeType||c.jquery)?jQuery(c):jQuery.event,p=jQuery.Deferred(),d=jQuery.Callbacks("once memory"),v=l.statusCode||{},m={},g={},y=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(y===2){if(!s){s={};while(t=rheaders.exec(i))s[t[1].toLowerCase()]=t[2]}t=s[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return y===2?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=g[n]=g[n]||e,m[e]=t),this},overrideMimeType:function(e){return y||(l.mimeType=e),this},statusCode:function(e){var t;if(e)if(y<2)for(t in e)v[t]=[v[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return n&&n.abort(t),S(0,t),this}};p.promise(w).complete=d.add,w.success=w.done,w.error=w.fail,l.url=((e||l.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//"),l.type=t.method||t.type||l.method||l.type,l.dataTypes=jQuery.trim(l.dataType||"*").toLowerCase().match(rnotwhite)||[""],l.crossDomain==null&&(u=rurl.exec(l.url.toLowerCase()),l.crossDomain=!(!u||u[1]===ajaxLocParts[1]&&u[2]===ajaxLocParts[2]&&(u[3]||(u[1]==="http:"?"80":"443"))===(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?"80":"443")))),l.data&&l.processData&&typeof l.data!="string"&&(l.data=jQuery.param(l.data,l.traditional)),inspectPrefiltersOrTransports(prefilters,l,t,w);if(y===2)return w;a=l.global,a&&jQuery.active++===0&&jQuery.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!rnoContent.test(l.type),r=l.url,l.hasContent||(l.data&&(r=l.url+=(rquery.test(r)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=rts.test(r)?r.replace(rts,"$1_="+nonce++):r+(rquery.test(r)?"&":"?")+"_="+nonce++)),l.ifModified&&(jQuery.lastModified[r]&&w.setRequestHeader("If-Modified-Since",jQuery.lastModified[r]),jQuery.etag[r]&&w.setRequestHeader("If-None-Match",jQuery.etag[r])),(l.data&&l.hasContent&&l.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",l.contentType),w.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+(l.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):l.accepts["*"]);for(f in l.headers)w.setRequestHeader(f,l.headers[f]);if(!l.beforeSend||l.beforeSend.call(c,w,l)!==!1&&y!==2){b="abort";for(f in{success:1,error:1,complete:1})w[f](l[f]);n=inspectPrefiltersOrTransports(transports,l,t,w);if(!n)S(-1,"No Transport");else{w.readyState=1,a&&h.trigger("ajaxSend",[w,l]),l.async&&l.timeout>0&&(o=setTimeout(function(){w.abort("timeout")},l.timeout));try{y=1,n.send(m,S)}catch(E){if(!(y<2))throw E;S(-1,E)}}return w}return w.abort()},getJSON:function(e,t,n){return jQuery.get(e,t,n,"json")},getScript:function(e,t){return jQuery.get(e,undefined,t,"script")}}),jQuery.each(["get","post"],function(e,t){jQuery[t]=function(e,n,r,i){return jQuery.isFunction(n)&&(i=i||r,r=n,n=undefined),jQuery.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){jQuery.fn[t]=function(e){return this.on(t,e)}}),jQuery._evalUrl=function(e){return jQuery.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},jQuery.fn.extend({wrapAll:function(e){var t;return jQuery.isFunction(e)?this.each(function(t){jQuery(this).wrapAll(e.call(this,t))}):(this[0]&&(t=jQuery(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return jQuery.isFunction(e)?this.each(function(t){jQuery(this).wrapInner(e.call(this,t))}):this.each(function(){var t=jQuery(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=jQuery.isFunction(e);return this.each(function(n){jQuery(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()}}),jQuery.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},jQuery.expr.filters.visible=function(e){return!jQuery.expr.filters.hidden(e)};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.param=function(e,t){var n,r=[],i=function(e,t){t=jQuery.isFunction(t)?t():t==null?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};t===undefined&&(t=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional);if(jQuery.isArray(e)||e.jquery&&!jQuery.isPlainObject(e))jQuery.each(e,function(){i(this.name,this.value)});else for(n in e)buildParams(n,e[n],t,i);return r.join("&").replace(r20,"+")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=jQuery.prop(this,"elements");return e?jQuery.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(e)&&(this.checked||!rcheckableType.test(e))}).map(function(e,t){var n=jQuery(this).val();return n==null?null:jQuery.isArray(n)?jQuery.map(n,function(e){return{name:t.name,value:e.replace(rCRLF,"\r\n")}}):{name:t.name,value:n.replace(rCRLF,"\r\n")}}).get()}}),jQuery.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var xhrId=0,xhrCallbacks={},xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();window.ActiveXObject&&jQuery(window).on("unload",function(){for(var e in xhrCallbacks)xhrCallbacks[e]()}),support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,support.ajax=xhrSupported=!!xhrSupported,jQuery.ajaxTransport(function(e){var t;if(support.cors||xhrSupported&&!e.crossDomain)return{send:function(n,r){var i,s=e.xhr(),o=++xhrId;s.open(e.type,e.url,e.async,e.username,e.password);if(e.xhrFields)for(i in e.xhrFields)s[i]=e.xhrFields[i];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),!e.crossDomain&&!n["X-Requested-With"]&&(n["X-Requested-With"]="XMLHttpRequest");for(i in n)s.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete xhrCallbacks[o],t=s.onload=s.onerror=null,e==="abort"?s.abort():e==="error"?r(s.status,s.statusText):r(xhrSuccessStatus[s.status]||s.status,s.statusText,typeof s.responseText=="string"?{text:s.responseText}:undefined,s.getAllResponseHeaders()))}},s.onload=t(),s.onerror=t("error"),t=xhrCallbacks[o]=t("abort"),s.send(e.hasContent&&e.data||null)},abort:function(){t&&t()}}}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return jQuery.globalEval(e),e}}}),jQuery.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),jQuery.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=jQuery("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i(e.type==="error"?404:200,e.type)}),document.head.appendChild(t[0])},abort:function(){n&&n()}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;return this[e]=!0,e}}),jQuery.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,s,o=e.jsonp!==!1&&(rjsonp.test(e.url)?"url":typeof e.data=="string"&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(e.data)&&"data");if(o||e.dataTypes[0]==="jsonp")return r=e.jsonpCallback=jQuery.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(rjsonp,"$1"+r):e.jsonp!==!1&&(e.url+=(rquery.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||jQuery.error(r+" was not called"),s[0]},e.dataTypes[0]="json",i=window[r],window[r]=function(){s=arguments},n.always(function(){window[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,oldCallbacks.push(r)),s&&jQuery.isFunction(i)&&i(s[0]),s=i=undefined}),"script"}),jQuery.parseHTML=function(e,t,n){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(n=t,t=!1),t=t||document;var r=rsingleTag.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=jQuery.buildFragment([e],t,i),i&&i.length&&jQuery(i).remove(),jQuery.merge([],r.childNodes))};var _load=jQuery.fn.load;jQuery.fn.load=function(e,t,n){if(typeof e!="string"&&_load)return _load.apply(this,arguments);var r,i,s,o=this,u=e.indexOf(" ");return u>=0&&(r=e.slice(u),e=e.slice(0,u)),jQuery.isFunction(t)?(n=t,t=undefined):t&&typeof t=="object"&&(i="POST"),o.length>0&&jQuery.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){s=arguments,o.html(r?jQuery("<div>").append(jQuery.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){o.each(n,s||[e.responseText,t,e])}),this},jQuery.expr.filters.animated=function(e){return jQuery.grep(jQuery.timers,function(t){return e===t.elem}).length};var docElem=window.document.documentElement;jQuery.offset={setOffset:function(e,t,n){var r,i,s,o,u,a,f,l=jQuery.css(e,"position"),c=jQuery(e),h={};l==="static"&&(e.style.position="relative"),u=c.offset(),s=jQuery.css(e,"top"),a=jQuery.css(e,"left"),f=(l==="absolute"||l==="fixed")&&(s+a).indexOf("auto")>-1,f?(r=c.position(),o=r.top,i=r.left):(o=parseFloat(s)||0,i=parseFloat(a)||0),jQuery.isFunction(t)&&(t=t.call(e,n,u)),t.top!=null&&(h.top=t.top-u.top+o),t.left!=null&&(h.left=t.left-u.left+i),"using"in t?t.using.call(e,h):c.css(h)}},jQuery.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){jQuery.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},s=r&&r.ownerDocument;if(!s)return;return t=s.documentElement,jQuery.contains(t,r)?(typeof r.getBoundingClientRect!==strundefined&&(i=r.getBoundingClientRect()),n=getWindow(s),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(!this[0])return;var e,t,n=this[0],r={top:0,left:0};return jQuery.css(n,"position")==="fixed"?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),jQuery.nodeName(e[0],"html")||(r=e.offset()),r.top+=jQuery.css(e[0],"borderTopWidth",!0),r.left+=jQuery.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-jQuery.css(n,"marginTop",!0),left:t.left-r.left-jQuery.css(n,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||docElem;while(e&&!jQuery.nodeName(e,"html")&&jQuery.css(e,"position")==="static")e=e.offsetParent;return e||docElem})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;jQuery.fn[e]=function(r){return access(this,function(e,r,i){var s=getWindow(e);if(i===undefined)return s?s[t]:e[r];s?s.scrollTo(n?window.pageXOffset:i,n?i:window.pageYOffset):e[r]=i},e,r,arguments.length,null)}}),jQuery.each(["top","left"],function(e,t){jQuery.cssHooks[t]=addGetHookIf(support.pixelPosition,function(e,n){if(n)return n=curCSS(e,t),rnumnonpx.test(n)?jQuery(e).position()[t]+"px":n})}),jQuery.each({Height:"height",Width:"width"},function(e,t){jQuery.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){jQuery.fn[r]=function(r,i){var s=arguments.length&&(n||typeof r!="boolean"),o=n||(r===!0||i===!0?"margin":"border");return access(this,function(t,n,r){var i;return jQuery.isWindow(t)?t.document.documentElement["client"+e]:t.nodeType===9?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):r===undefined?jQuery.css(t,n,o):jQuery.style(t,n,r,o)},t,s?r:undefined,s,null)}})}),jQuery.fn.size=function(){return this.length},jQuery.fn.andSelf=jQuery.fn.addBack,typeof define=="function"&&define.amd&&define("jquery",[],function(){return jQuery});var _jQuery=window.jQuery,_$=window.$;return jQuery.noConflict=function(e){return window.$===jQuery&&(window.$=_$),e&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},typeof noGlobal===strundefined&&(window.jQuery=window.$=jQuery),jQuery}),define("modules/adapters/jquery",["jquery"],function(e){return e.noConflict(!0)}),function(e){function t(o){function a(e){if(!e||ln.call(e)!=M)return s;var t=e.valueOf,n=typeof t=="function"&&(n=sn(t))&&sn(n);return n?e==n||sn(e)==n:rt(e)}function U(e,t,n){if(!e||!H[typeof e])return e;t=t&&typeof n=="undefined"?t:J.createCallback(t,n);for(var r=-1,i=H[typeof e]?Tn(e):[],o=i.length;++r<o&&(n=i[r],t(e[n],n,e)!==s););return e}function z(e,t,n){var r;if(!e||!H[typeof e])return e;t=t&&typeof n=="undefined"?t:J.createCallback(t,n);for(r in e)if(t(e[r],r,e)===s)break;return e}function W(e,t,n){var r,i=e,s=i;if(!i)return s;for(var o=arguments,u=0,a=typeof n=="number"?2:o.length;++u<a;)if((i=o[u])&&H[typeof i]){var f=i.length;if(r=-1,xn(i))for(;++r<f;)"undefined"==typeof s[r]&&(s[r]=i[r]);else for(var l=-1,c=H[typeof i]?Tn(i):[],f=c.length;++l<f;)r=c[l],"undefined"==typeof s[r]&&(s[r]=i[r])}return s}function X(e,t,n){var r,i=e,s=i;if(!i)return s;var o=arguments,u=0,a=typeof n=="number"?2:o.length;if(3<a&&"function"==typeof o[a-2])var f=J.createCallback(o[--a-1],o[a--],2);else 2<a&&"function"==typeof o[a-1]&&(f=o[--a]);for(;++u<a;)if((i=o[u])&&H[typeof i]){var l=i.length;if(r=-1,xn(i))for(;++r<l;)s[r]=f?f(s[r],i[r]):i[r];else for(var c=-1,h=H[typeof i]?Tn(i):[],l=h.length;++c<l;)r=h[c],s[r]=f?f(s[r],i[r]):i[r]}return s}function V(e){var t,n=[];if(!e||!H[typeof e])return n;for(t in e)on.call(e,t)&&n.push(t);return n}function J(e){return e&&typeof e=="object"&&!xn(e)&&on.call(e,"__wrapped__")?e:new tt(e)}function K(e){var t=e.length,n=t>=h;if(n)for(var r={},i=-1;++i<t;){var s=c+e[i];(r[s]||(r[s]=[])).push(e[i])}return function(t){if(n){var i=c+t;return r[i]&&-1<Ot(r[i],t)}return-1<Ot(e,t)}}function Q(e){return e.charCodeAt(0)}function G(e,t){var n=e.b,r=t.b;if(e=e.a,t=t.a,e!==t){if(e>t||typeof e=="undefined")return 1;if(e<t||typeof t=="undefined")return-1}return n<r?-1:1}function Y(e,t,n,r){function s(){var r=arguments,l=u?this:t;return o||(e=t[a]),n.length&&(r=r.length?(r=wn.call(r),f?r.concat(n):n.concat(r)):n),this instanceof s?(nt.prototype=e.prototype,l=new nt,nt.prototype=i,r=e.apply(l,r),ct(r)?r:l):e.apply(l,r)}var o=lt(e),u=!n,a=t;if(u){var f=r;n=t}else if(!o){if(!r)throw new Kt;t=e}return s}function Z(e){return"\\"+B[e]}function et(e){return Nn[e]}function tt(e){this.__wrapped__=e}function nt(){}function rt(e){var t=s;if(!e||ln.call(e)!=M)return t;var n=e.constructor;return(lt(n)?n instanceof n:1)?(z(e,function(e,n){t=n}),t===s||on.call(e,t)):t}function it(e,t,n){t||(t=0),typeof n=="undefined"&&(n=e?e.length:0);var r=-1;n=n-t||0;for(var i=qt(0>n?0:n);++r<n;)i[r]=e[t+r];return i}function st(e){return Cn[e]}function ot(e,t,r,i,o,u){var a=e;if(typeof t=="function"&&(i=r,r=t,t=s),typeof r=="function"){if(r=typeof i=="undefined"?r:J.createCallback(r,i,1),a=r(a),typeof a!="undefined")return a;a=e}if(i=ct(a)){var f=ln.call(a);if(!P[f])return a;var l=xn(a)}if(!i||!t)return i?l?it(a):X({},a):a;switch(i=En[f],f){case L:case A:return new i(+a);case O:case D:return new i(a);case _:return i(a.source,y.exec(a))}for(o||(o=[]),u||(u=[]),f=o.length;f--;)if(o[f]==e)return u[f];return a=l?i(a.length):{},l&&(on.call(e,"index")&&(a.index=e.index),on.call(e,"input")&&(a.input=e.input)),o.push(e),u.push(a),(l?wt:U)(e,function(e,i){a[i]=ot(e,t,r,n,o,u)}),a}function ut(e){var t=[];return z(e,function(e,n){lt(e)&&t.push(n)}),t.sort()}function at(e){for(var t=-1,n=Tn(e),r=n.length,i={};++t<r;){var s=n[t];i[e[s]]=s}return i}function ft(e,t,n,o,u,a){var f=n===l;if(typeof n=="function"&&!f){n=J.createCallback(n,o,2);var c=n(e,t);if(typeof c!="undefined")return!!c}if(e===t)return 0!==e||1/e==1/t;var h=typeof e,p=typeof t;if(e===e&&(!e||"function"!=h&&"object"!=h)&&(!t||"function"!=p&&"object"!=p))return s;if(e==i||t==i)return e===t;if(p=ln.call(e),h=ln.call(t),p==C&&(p=M),h==C&&(h=M),p!=h)return s;switch(p){case L:case A:return+e==+t;case O:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case _:case D:return e==Jt(t)}if(h=p==k,!h){if(on.call(e,"__wrapped__")||on.call(t,"__wrapped__"))return ft(e.__wrapped__||e,t.__wrapped__||t,n,o,u,a);if(p!=M)return s;var p=e.constructor,d=t.constructor;if(p!=d&&(!lt(p)||!(p instanceof p&&lt(d)&&d instanceof d)))return s}for(u||(u=[]),a||(a=[]),p=u.length;p--;)if(u[p]==e)return a[p]==t;var v=0,c=r;if(u.push(e),a.push(t),h){if(p=e.length,v=t.length,c=v==e.length,!c&&!f)return c;for(;v--;)if(h=p,d=t[v],f)for(;h--&&!(c=ft(e[h],d,n,o,u,a)););else if(!(c=ft(e[v],d,n,o,u,a)))break;return c}return z(t,function(t,r,i){return on.call(i,r)?(v++,c=on.call(e,r)&&ft(e[r],t,n,o,u,a)):void 0}),c&&!f&&z(e,function(e,t,n){return on.call(n,t)?c=-1<--v:void 0}),c}function lt(e){return typeof e=="function"}function ct(e){return e?H[typeof e]:s}function ht(e){return typeof e=="number"||ln.call(e)==O}function pt(e){return typeof e=="string"||ln.call(e)==D}function dt(e,t,n){var r=arguments,i=0,s=2;if(!ct(e))return e;if(n===l)var o=r[3],u=r[4],f=r[5];else u=[],f=[],typeof n!="number"&&(s=r.length),3<s&&"function"==typeof r[s-2]?o=J.createCallback(r[--s-1],r[s--],2):2<s&&"function"==typeof r[s-1]&&(o=r[--s]);for(;++i<s;)(xn(r[i])?wt:U)(r[i],function(t,n){var r,i,s=t,c=e[n];if(t&&((i=xn(t))||a(t))){for(s=u.length;s--;)if(r=u[s]==t){c=f[s];break}if(!r){var h;o&&(s=o(c,t),h=typeof s!="undefined")&&(c=s),h||(c=i?xn(c)?c:[]:a(c)?c:{}),u.push(t),f.push(c),h||(c=dt(c,t,l,o,u,f))}}else o&&(s=o(c,t),typeof s=="undefined"&&(s=t)),typeof s!="undefined"&&(c=s);e[n]=c});return e}function vt(e){for(var t=-1,n=Tn(e),r=n.length,i=qt(r);++t<r;)i[t]=e[n[t]];return i}function mt(e,t,n){var r=-1,i=e?e.length:0,o=s;return n=(0>n?mn(0,i+n):n)||0,typeof i=="number"?o=-1<(pt(e)?e.indexOf(t,n):Ot(e,t,n)):U(e,function(e){return++r<n?void 0:!(o=e===t)}),o}function gt(e,t,n){var i=r;t=J.createCallback(t,n),n=-1;var s=e?e.length:0;if(typeof s=="number")for(;++n<s&&(i=!!t(e[n],n,e)););else U(e,function(e,n,r){return i=!!t(e,n,r)});return i}function yt(e,t,n){var r=[];t=J.createCallback(t,n),n=-1;var i=e?e.length:0;if(typeof i=="number")for(;++n<i;){var s=e[n];t(s,n,e)&&r.push(s)}else U(e,function(e,n,i){t(e,n,i)&&r.push(e)});return r}function bt(e,t,n){t=J.createCallback(t,n),n=-1;var r=e?e.length:0;if(typeof r!="number"){var i;return U(e,function(e,n,r){return t(e,n,r)?(i=e,s):void 0}),i}for(;++n<r;){var o=e[n];if(t(o,n,e))return o}}function wt(e,t,n){var r=-1,i=e?e.length:0;if(t=t&&typeof n=="undefined"?t:J.createCallback(t,n),typeof i=="number")for(;++r<i&&t(e[r],r,e)!==s;);else U(e,t);return e}function Et(e,t,n){var r=-1,i=e?e.length:0;if(t=J.createCallback(t,n),typeof i=="number")for(var s=qt(i);++r<i;)s[r]=t(e[r],r,e);else s=[],U(e,function(e,n,i){s[++r]=t(e,n,i)});return s}function St(e,t,n){var r=-1/0,i=r;if(!t&&xn(e)){n=-1;for(var s=e.length;++n<s;){var o=e[n];o>i&&(i=o)}}else t=!t&&pt(e)?Q:J.createCallback(t,n),wt(e,function(e,n,s){n=t(e,n,s),n>r&&(r=n,i=e)});return i}function xt(e,t){var n=-1,r=e?e.length:0;if(typeof r=="number")for(var i=qt(r);++n<r;)i[n]=e[n][t];return i||Et(e,t)}function Tt(e,t,n,r){if(!e)return n;var i=3>arguments.length;t=J.createCallback(t,r,4);var o=-1,u=e.length;if(typeof u=="number")for(i&&(n=e[++o]);++o<u;)n=t(n,e[o],o,e);else U(e,function(e,r,o){n=i?(i=s,e):t(n,e,r,o)});return n}function Nt(e,t,n,r){var i=e?e.length:0,o=3>arguments.length;if(typeof i!="number")var u=Tn(e),i=u.length;return t=J.createCallback(t,r,4),wt(e,function(r,a,f){a=u?u[--i]:--i,n=o?(o=s,e[a]):t(n,e[a],a,f)}),n}function Ct(e,t,n){var r;t=J.createCallback(t,n),n=-1;var i=e?e.length:0;if(typeof i=="number")for(;++n<i&&!(r=t(e[n],n,e)););else U(e,function(e,n,i){return!(r=t(e,n,i))});return!!r}function kt(e){for(var t=-1,n=e?e.length:0,r=nn.apply(Qt,wn.call(arguments,1)),r=K(r),i=[];++t<n;){var s=e[t];r(s)||i.push(s)}return i}function Lt(e,t,n){if(e){var r=0,s=e.length;if(typeof t!="number"&&t!=i){var o=-1;for(t=J.createCallback(t,n);++o<s&&t(e[o],o,e);)r++}else if(r=t,r==i||n)return e[0];return it(e,0,gn(mn(0,r),s))}}function At(e,t,n,r){var o=-1,u=e?e.length:0,a=[];for(typeof t!="boolean"&&t!=i&&(r=n,n=t,t=s),n!=i&&(n=J.createCallback(n,r));++o<u;)r=e[o],n&&(r=n(r,o,e)),xn(r)?un.apply(a,t?r:At(r)):a.push(r);return a}function Ot(e,t,n){var r=-1,i=e?e.length:0;if(typeof n=="number")r=(0>n?mn(0,i+n):n||0)-1;else if(n)return r=_t(e,t),e[r]===t?r:-1;for(;++r<i;)if(e[r]===t)return r;return-1}function Mt(e,t,n){if(typeof t!="number"&&t!=i){var r=0,s=-1,o=e?e.length:0;for(t=J.createCallback(t,n);++s<o&&t(e[s],s,e);)r++}else r=t==i||n?1:mn(0,t);return it(e,r)}function _t(e,t,n,r){var i=0,s=e?e.length:i;for(n=n?J.createCallback(n,r,1):jt,t=n(t);i<s;)r=i+s>>>1,n(e[r])<t?i=r+1:s=r;return i}function Dt(e,t,n,r){var o=-1,u=e?e.length:0,a=[],f=a;typeof t!="boolean"&&t!=i&&(r=n,n=t,t=s);var l=!t&&u>=h;if(l)var p={};for(n!=i&&(f=[],n=J.createCallback(n,r));++o<u;){r=e[o];var d=n?n(r,o,e):r;if(l)var v=c+d,v=p[v]?!(f=p[v]):f=p[v]=[];(t?!o||f[f.length-1]!==d:v||0>Ot(f,d))&&((n||l)&&f.push(d),a.push(r))}return a}function Pt(e,t){for(var n=-1,r=e?e.length:0,i={};++n<r;){var s=e[n];t?i[s]=t[n]:i[s[0]]=s[1]}return i}function Ht(e,t){return Sn.fastBind||cn&&2<arguments.length?cn.call.apply(cn,arguments):Y(e,t,wn.call(arguments,2))}function Bt(e){var t=wn.call(arguments,1);return fn(function(){e.apply(n,t)},1)}function jt(e){return e}function Ft(e){wt(ut(e),function(t){var n=J[t]=e[t];J.prototype[t]=function(){var e=this.__wrapped__,t=[e];return un.apply(t,arguments),t=n.apply(J,t),e&&typeof e=="object"&&e==t?this:new tt(t)}})}function It(){return this.__wrapped__}o=o?j.defaults(e.Object(),o,j.pick(e,N)):e;var qt=o.Array,Rt=o.Boolean,Ut=o.Date,zt=o.Function,Wt=o.Math,Xt=o.Number,Vt=o.Object,$t=o.RegExp,Jt=o.String,Kt=o.TypeError,Qt=qt(),Gt=Vt(),Yt=o._,Zt=$t("^"+Jt(Gt.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),en=Wt.ceil,tn=o.clearTimeout,nn=Qt.concat,rn=Wt.floor,sn=Zt.test(sn=Vt.getPrototypeOf)&&sn,on=Gt.hasOwnProperty,un=Qt.push,an=o.setImmediate,fn=o.setTimeout,ln=Gt.toString,cn=Zt.test(cn=ln.bind)&&cn,hn=Zt.test(hn=qt.isArray)&&hn,pn=o.isFinite,dn=o.isNaN,vn=Zt.test(vn=Vt.keys)&&vn,mn=Wt.max,gn=Wt.min,yn=o.parseInt,bn=Wt.random,wn=Qt.slice,Wt=Zt.test(o.attachEvent),Wt=cn&&!/\n|true/.test(cn+Wt),En={};En[k]=qt,En[L]=Rt,En[A]=Ut,En[M]=Vt,En[O]=Xt,En[_]=$t,En[D]=Jt;var Sn=J.support={};Sn.fastBind=cn&&!Wt,J.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:b,variable:"",imports:{_:J}},tt.prototype=J.prototype;var xn=hn,Tn=vn?function(e){return ct(e)?vn(e):[]}:V,Nn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Cn=at(Nn);return Wt&&u&&typeof an=="function"&&(Bt=Ht(an,o)),Rt=8==yn(w+"08")?yn:function(e,t){return yn(pt(e)?e.replace(E,""):e,t||0)},J.after=function(e,t){return 1>e?t():function(){return 1>--e?t.apply(this,arguments):void 0}},J.assign=X,J.at=function(e){for(var t=-1,n=nn.apply(Qt,wn.call(arguments,1)),r=n.length,i=qt(r);++t<r;)i[t]=e[n[t]];return i},J.bind=Ht,J.bindAll=function(e){for(var t=1<arguments.length?nn.apply(Qt,wn.call(arguments,1)):ut(e),n=-1,r=t.length;++n<r;){var i=t[n];e[i]=Ht(e[i],e)}return e},J.bindKey=function(e,t){return Y(e,t,wn.call(arguments,2),l)},J.compact=function(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var i=e[t];i&&r.push(i)}return r},J.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}},J.countBy=function(e,t,n){var r={};return t=J.createCallback(t,n),wt(e,function(e,n,i){n=Jt(t(e,n,i)),on.call(r,n)?r[n]++:r[n]=1}),r},J.createCallback=function(e,t,n){if(e==i)return jt;var r=typeof e;if("function"!=r){if("object"!=r)return function(t){return t[e]};var o=Tn(e);return function(t){for(var n=o.length,r=s;n--&&(r=ft(t[o[n]],e[o[n]],l)););return r}}return typeof t!="undefined"?1===n?function(n){return e.call(t,n)}:2===n?function(n,r){return e.call(t,n,r)}:4===n?function(n,r,i,s){return e.call(t,n,r,i,s)}:function(n,r,i){return e.call(t,n,r,i)}:e},J.debounce=function(e,t,n){function o(){a=c=i,h&&(f=e.apply(l,u))}var u,a,f,l,c,h=r;if(n===r)var p=r,h=s;else n&&H[typeof n]&&(p=n.leading,h="trailing"in n?n.trailing:h);return function(){return u=arguments,l=this,tn(c),!a&&p?(a=r,f=e.apply(l,u)):c=fn(o,t),f}},J.defaults=W,J.defer=Bt,J.delay=function(e,t){var r=wn.call(arguments,2);return fn(function(){e.apply(n,r)},t)},J.difference=kt,J.filter=yt,J.flatten=At,J.forEach=wt,J.forIn=z,J.forOwn=U,J.functions=ut,J.groupBy=function(e,t,n){var r={};return t=J.createCallback(t,n),wt(e,function(e,n,i){n=Jt(t(e,n,i)),(on.call(r,n)?r[n]:r[n]=[]).push(e)}),r},J.initial=function(e,t,n){if(!e)return[];var r=0,s=e.length;if(typeof t!="number"&&t!=i){var o=s;for(t=J.createCallback(t,n);o--&&t(e[o],o,e);)r++}else r=t==i||n?1:t||r;return it(e,0,gn(mn(0,s-r),s))},J.intersection=function(e){var t=arguments,n=t.length,r={0:{}},i=-1,s=e?e.length:0,o=s>=h,u=[],a=u;e:for(;++i<s;){var f=e[i];if(o)var l=c+f,l=r[0][l]?!(a=r[0][l]):a=r[0][l]=[];if(l||0>Ot(a,f)){o&&a.push(f);for(var p=n;--p;)if(!(r[p]||(r[p]=K(t[p])))(f))continue e;u.push(f)}}return u},J.invert=at,J.invoke=function(e,t){var n=wn.call(arguments,2),r=-1,i=typeof t=="function",s=e?e.length:0,o=qt(typeof s=="number"?s:0);return wt(e,function(e){o[++r]=(i?t:e[t]).apply(e,n)}),o},J.keys=Tn,J.map=Et,J.max=St,J.memoize=function(e,t){var n={};return function(){var r=c+(t?t.apply(this,arguments):arguments[0]);return on.call(n,r)?n[r]:n[r]=e.apply(this,arguments)}},J.merge=dt,J.min=function(e,t,n){var r=1/0,i=r;if(!t&&xn(e)){n=-1;for(var s=e.length;++n<s;){var o=e[n];o<i&&(i=o)}}else t=!t&&pt(e)?Q:J.createCallback(t,n),wt(e,function(e,n,s){n=t(e,n,s),n<r&&(r=n,i=e)});return i},J.omit=function(e,t,n){var r=typeof t=="function",i={};if(r)t=J.createCallback(t,n);else var s=nn.apply(Qt,wn.call(arguments,1));return z(e,function(e,n,o){(r?!t(e,n,o):0>Ot(s,n))&&(i[n]=e)}),i},J.once=function(e){var t,n;return function(){return t?n:(t=r,n=e.apply(this,arguments),e=i,n)}},J.pairs=function(e){for(var t=-1,n=Tn(e),r=n.length,i=qt(r);++t<r;){var s=n[t];i[t]=[s,e[s]]}return i},J.partial=function(e){return Y(e,wn.call(arguments,1))},J.partialRight=function(e){return Y(e,wn.call(arguments,1),i,l)},J.pick=function(e,t,n){var r={};if(typeof t!="function")for(var i=-1,s=nn.apply(Qt,wn.call(arguments,1)),o=ct(e)?s.length:0;++i<o;){var u=s[i];u in e&&(r[u]=e[u])}else t=J.createCallback(t,n),z(e,function(e,n,i){t(e,n,i)&&(r[n]=e)});return r},J.pluck=xt,J.range=function(e,t,n){e=+e||0,n=+n||1,t==i&&(t=e,e=0);var r=-1;t=mn(0,en((t-e)/n));for(var s=qt(t);++r<t;)s[r]=e,e+=n;return s},J.reject=function(e,t,n){return t=J.createCallback(t,n),yt(e,function(e,n,r){return!t(e,n,r)})},J.rest=Mt,J.shuffle=function(e){var t=-1,n=e?e.length:0,r=qt(typeof n=="number"?n:0);return wt(e,function(e){var n=rn(bn()*(++t+1));r[t]=r[n],r[n]=e}),r},J.sortBy=function(e,t,n){var r=-1,i=e?e.length:0,s=qt(typeof i=="number"?i:0);for(t=J.createCallback(t,n),wt(e,function(e,n,i){s[++r]={a:t(e,n,i),b:r,c:e}}),i=s.length,s.sort(G);i--;)s[i]=s[i].c;return s},J.tap=function(e,t){return t(e),e},J.throttle=function(e,t,n){function o(){l=i,p&&(c=new Ut,a=e.apply(f,u))}var u,a,f,l,c=0,h=r,p=r;return n===s?h=s:n&&H[typeof n]&&(h="leading"in n?n.leading:h,p="trailing"in n?n.trailing:p),function(){var n=new Ut;!l&&!h&&(c=n);var r=t-(n-c);return u=arguments,f=this,0<r?l||(l=fn(o,r)):(tn(l),l=i,c=n,a=e.apply(f,u)),a}},J.times=function(e,t,n){e=-1<(e=+e)?e:0;var r=-1,i=qt(e);for(t=J.createCallback(t,n,1);++r<e;)i[r]=t(r);return i},J.toArray=function(e){return e&&typeof e.length=="number"?it(e):vt(e)},J.union=function(e){return xn(e)||(arguments[0]=e?wn.call(e):Qt),Dt(nn.apply(Qt,arguments))},J.uniq=Dt,J.unzip=function(e){for(var t=-1,n=e?e.length:0,r=n?St(xt(e,"length")):0,i=qt(r);++t<n;)for(var s=-1,o=e[t];++s<r;)(i[s]||(i[s]=qt(n)))[t]=o[s];return i},J.values=vt,J.where=yt,J.without=function(e){return kt(e,wn.call(arguments,1))},J.wrap=function(e,t){return function(){var n=[e];return un.apply(n,arguments),t.apply(this,n)}},J.zip=function(e){for(var t=-1,n=e?St(xt(arguments,"length")):0,r=qt(n);++t<n;)r[t]=xt(arguments,t);return r},J.zipObject=Pt,J.collect=Et,J.drop=Mt,J.each=wt,J.extend=X,J.methods=ut,J.object=Pt,J.select=yt,J.tail=Mt,J.unique=Dt,Ft(J),J.clone=ot,J.cloneDeep=function(e,t,n){return ot(e,r,t,n)},J.contains=mt,J.escape=function(e){return e==i?"":Jt(e).replace(x,et)},J.every=gt,J.find=bt,J.findIndex=function(e,t,n){var r=-1,i=e?e.length:0;for(t=J.createCallback(t,n);++r<i;)if(t(e[r],r,e))return r;return-1},J.findKey=function(e,t,n){var r;return t=J.createCallback(t,n),U(e,function(e,n,i){return t(e,n,i)?(r=n,s):void 0}),r},J.has=function(e,t){return e?on.call(e,t):s},J.identity=jt,J.indexOf=Ot,J.isArguments=function(e){return ln.call(e)==C},J.isArray=xn,J.isBoolean=function(e){return e===r||e===s||ln.call(e)==L},J.isDate=function(e){return e?typeof e=="object"&&ln.call(e)==A:s},J.isElement=function(e){return e?1===e.nodeType:s},J.isEmpty=function(e){var t=r;if(!e)return t;var n=ln.call(e),i=e.length;return n==k||n==D||n==C||n==M&&typeof i=="number"&&lt(e.splice)?!i:(U(e,function(){return t=s}),t)},J.isEqual=ft,J.isFinite=function(e){return pn(e)&&!dn(parseFloat(e))},J.isFunction=lt,J.isNaN=function(e){return ht(e)&&e!=+e},J.isNull=function(e){return e===i},J.isNumber=ht,J.isObject=ct,J.isPlainObject=a,J.isRegExp=function(e){return e?typeof e=="object"&&ln.call(e)==_:s},J.isString=pt,J.isUndefined=function(e){return typeof e=="undefined"},J.lastIndexOf=function(e,t,n){var r=e?e.length:0;for(typeof n=="number"&&(r=(0>n?mn(0,r+n):gn(n,r-1))+1);r--;)if(e[r]===t)return r;return-1},J.mixin=Ft,J.noConflict=function(){return o._=Yt,this},J.parseInt=Rt,J.random=function(e,t){return e==i&&t==i&&(t=1),e=+e||0,t==i&&(t=e,e=0),e+rn(bn()*((+t||0)-e+1))},J.reduce=Tt,J.reduceRight=Nt,J.result=function(e,t){var r=e?e[t]:n;return lt(r)?e[t]():r},J.runInContext=t,J.size=function(e){var t=e?e.length:0;return typeof t=="number"?t:Tn(e).length},J.some=Ct,J.sortedIndex=_t,J.template=function(e,t,i){var s=J.templateSettings;e||(e=""),i=W({},i,s);var o,u=W({},i.imports,s.imports),s=Tn(u),u=vt(u),a=0,f=i.interpolate||S,l="__p+='",f=$t((i.escape||S).source+"|"+f.source+"|"+(f===b?g:S).source+"|"+(i.evaluate||S).source+"|$","g");e.replace(f,function(t,n,i,s,u,f){return i||(i=s),l+=e.slice(a,f).replace(T,Z),n&&(l+="'+__e("+n+")+'"),u&&(o=r,l+="';"+u+";__p+='"),i&&(l+="'+((__t=("+i+"))==null?'':__t)+'"),a=f+t.length,t}),l+="';\n",f=i=i.variable,f||(i="obj",l="with("+i+"){"+l+"}"),l=(o?l.replace(p,""):l).replace(d,"$1").replace(v,"$1;"),l="function("+i+"){"+(f?"":i+"||("+i+"={});")+"var __t,__p='',__e=_.escape"+(o?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+l+"return __p}";try{var c=zt(s,"return "+l).apply(n,u)}catch(h){throw h.source=l,h}return t?c(t):(c.source=l,c)},J.unescape=function(e){return e==i?"":Jt(e).replace(m,st)},J.uniqueId=function(e){var t=++f;return Jt(e==i?"":e)+t},J.all=gt,J.any=Ct,J.detect=bt,J.foldl=Tt,J.foldr=Nt,J.include=mt,J.inject=Tt,U(J,function(e,t){J.prototype[t]||(J.prototype[t]=function(){var t=[this.__wrapped__];return un.apply(t,arguments),e.apply(J,t)})}),J.first=Lt,J.last=function(e,t,n){if(e){var r=0,s=e.length;if(typeof t!="number"&&t!=i){var o=s;for(t=J.createCallback(t,n);o--&&t(e[o],o,e);)r++}else if(r=t,r==i||n)return e[s-1];return it(e,mn(0,s-r))}},J.take=Lt,J.head=Lt,U(J,function(e,t){J.prototype[t]||(J.prototype[t]=function(t,n){var r=e(this.__wrapped__,t,n);return t==i||n&&typeof t!="function"?r:new tt(r)})}),J.VERSION="1.2.1",J.prototype.toString=function(){return Jt(this.__wrapped__)},J.prototype.value=It,J.prototype.valueOf=It,wt(["join","pop","shift"],function(e){var t=Qt[e];J.prototype[e]=function(){return t.apply(this.__wrapped__,arguments)}}),wt(["push","reverse","sort","unshift"],function(e){var t=Qt[e];J.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),wt(["concat","slice","splice"],function(e){var t=Qt[e];J.prototype[e]=function(){return new tt(t.apply(this.__wrapped__,arguments))}}),J}var n,r=!0,i=null,s=!1,o=typeof exports=="object"&&exports,u=typeof module=="object"&&module&&module.exports==o&&module,a=typeof global=="object"&&global;(a.global===a||a.window===a)&&(e=a);var f=0,l={},c=+(new Date)+"",h=200,p=/\b__p\+='';/g,d=/\b(__p\+=)''\+/g,v=/(__e\(.*?\)|\b__t\))\+'';/g,m=/&(?:amp|lt|gt|quot|#39);/g,g=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,y=/\w*$/,b=/<%=([\s\S]+?)%>/g,w=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",E=RegExp("^["+w+"]*0+(?=.$)"),S=/($^)/,x=/[&<>"']/g,T=/['\n\r\t\u2028\u2029\\]/g,N="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setImmediate setTimeout".split(" "),C="[object Arguments]",k="[object Array]",L="[object Boolean]",A="[object Date]",O="[object Number]",M="[object Object]",_="[object RegExp]",D="[object String]",P={"[object Function]":s};P[C]=P[k]=P[L]=P[A]=P[O]=P[M]=P[_]=P[D]=r;var H={"boolean":s,"function":r,object:r,number:s,string:s,"undefined":s},B={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},j=t();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(e._=j,define("lodash",[],function(){return j})):o&&!o.nodeType?u?(u.exports=j)._=j:o._=j:e._=j}(this),function(e,t){e("when/when",["require"],function(e){function n(e,t,n,i){return r(e).then(t,n,i)}function r(e){return e instanceof i?e:s(e)}function i(e,t){this._message=e,this.inspect=t}function s(e){return a(function(t){t(e)})}function o(e){return n(e,h)}function u(){function r(r,i,o){e.resolve=e.resolver.resolve=function(e){return n?s(e):(n=!0,r(e),t)},e.reject=e.resolver.reject=function(e){return n?s(h(e)):(n=!0,i(e),t)},e.notify=e.resolver.notify=function(e){return o(e),e}}var e,t,n;return e={promise:W,resolve:W,reject:W,notify:W,resolver:{resolve:W,reject:W,notify:W}},e.promise=t=a(r),e}function a(e){return f(e,R.PromiseStatus&&R.PromiseStatus())}function f(e,t){function u(e,t,n,i){function o(r){r._message(e,t,n,i)}s?s.push(o):X(function(){o(r)})}function a(){return r?r.inspect():M()}function f(e){if(!s)return;var i=s;s=W,X(function(){r=v(n,e),t&&b(r,t),l(i,r)})}function c(e){f(h(e))}function p(e){if(s){var t=s;X(function(){l(t,d(e))})}}var n,r,s=[];n=new i(u,a),n._status=t;try{e(f,c,p)}catch(o){c(o)}return n}function l(e,t){for(var n=0;n<e.length;n++)e[n](t)}function c(e){return p(new g(e),function(){return A(e)})}function h(e){return p(new y(e),function(){return O(e)})}function p(e,t){return new i(function(t,n,r){try{r(e[t].apply(e,n))}catch(i){r(h(i))}},t)}function d(e){return new i(function(t,n,r,i){var s=n[2];try{i(typeof s=="function"?s(e):e)}catch(o){i(o)}})}function v(e,t){if(t===e)return h(new TypeError);if(t instanceof i)return t;try{var n=t===Object(t)&&t.then;return typeof n=="function"?m(n,t):c(t)}catch(r){return h(r)}}function m(e,t){return a(function(n,r){P(e,t,n,r)})}function g(e){this.value=e}function y(e){this.reason=e}function b(e,t){function n(){t.fulfilled()}function r(e){t.rejected(e)}e.then(n,r)}function w(e){return e&&typeof e.then=="function"}function E(e,t,r,i,s){return n(e,function(e){function o(r,i,s){function d(e){c(e)}function v(e){l(e)}var o,u,a,f,l,c,h,p;h=e.length>>>0,o=Math.max(0,Math.min(t,h)),a=[],u=h-o+1,f=[];if(!o)r(a);else{c=function(e){f.push(e),--u||(l=c=J,i(f))},l=function(e){a.push(e),--o||(l=c=J,r(a))};for(p=0;p<h;++p)p in e&&n(e[p],v,d,s)}}return a(o).then(r,i,s)})}function S(e,t,n,r){function i(e){return t?t(e[0]):e[0]}return E(e,1,i,n,r)}function x(e,t,n,r){return k(e,J).then(t,n,r)}function T(){return k(arguments,J)}function N(e){return k(e,A,O)}function C(e,t){return k(e,t)}function k(e,t,r){return n(e,function(e){function i(i,s,o){function c(e,a){n(e,t,r).then(function(e){u[a]=e,--f||i(u)},s,o)}var u,a,f,l;f=a=e.length>>>0,u=[];if(!f){i(u);return}for(l=0;l<a;l++)l in e?c(e[l],l):--f}return f(i)})}function L(e,t){var r=P(D,arguments,1);return n(e,function(e){var i;return i=e.length,r[0]=function(e,r,s){return n(e,function(e){return n(r,function(n){return t(e,n,s,i)})})},_.apply(e,r)})}function A(e){return{state:"fulfilled",value:e}}function O(e){return{state:"rejected",reason:e}}function M(){return{state:"pending"}}function X(e){B.push(e)===1&&H(V)}function V(){l(B),B=[]}function J(e){return e}n.promise=a,n.resolve=s,n.reject=o,n.defer=u,n.join=T,n.all=x,n.map=C,n.reduce=L,n.settle=N,n.any=S,n.some=E,n.isPromise=w,n.isPromiseLike=w,i.prototype={then:function(e,t,n){var r,i;return r=arguments,i=this._message,f(function(e,t,n){i("when",r,e,n)},this._status&&this._status.observed())},otherwise:function(e){return this.then(W,e)},ensure:function(e){function t(){return s(e())}return typeof e=="function"?this.then(t,t).yield(this):this},yield:function(e){return this.then(function(){return e})},tap:function(e){return this.then(e).yield(this)},spread:function(e){return this.then(function(t){return x(t,function(t){return e.apply(W,t)})})},always:function(e,t){return this.then(e,e,t)}},g.prototype.when=function(e){return typeof e=="function"?e(this.value):this.value},y.prototype.when=function(e,t){if(typeof t=="function")return t(this.reason);throw this.reason};var _,D,P,H,B,j,F,I,q,R,U,z,W;U=e,B=[],j=t.setTimeout,R=typeof console!="undefined"?console:n;if(typeof process=="object"&&process.nextTick)H=process.nextTick;else if(z=t.MutationObserver||t.WebKitMutationObserver)H=function(e,t,n){var r=e.createElement("div");return(new t(n)).observe(r,{attributes:!0}),function(){r.setAttribute("x","x")}}(document,z,V);else try{H=U("vertx").runOnLoop||U("vertx").runOnContext}catch($){H=function(e){j(e,0)}}return F=Function.prototype,I=F.call,P=F.bind?I.bind(I):function(e,t){return e.apply(t,D.call(arguments,2))},q=[],D=q.slice,_=q.reduce||function(e){var t,n,r,i,s;s=0,t=Object(this),i=t.length>>>0,n=arguments;if(n.length<=1)for(;;){if(s in t){r=t[s++];break}if(++s>=i)throw new TypeError}else r=n[1];for(;s<i;++s)s in t&&(r=e(r,t[s],s,t));return r},n})}(typeof define=="function"&&define.amd?define:function(e){module.exports=e(require)},this),define("when",["when/when"],function(e){return e}),define("util/events",["when"],function(e){var t;return Function.prototype.bind?t=function(t,n){return t.bind(n)}:t=function(t,n){return function(){return t.apply(n,arguments)}},{on:function(e,n,r){var i=this._topics||(this._topics={}),s=i[e]||(i[e]=[]),o=n,u;if(typeof e=="object"){for(var a in e)this.on(a,e[a],n,r);return this}return typeof r=="object"&&(n=t(n,r),n._bindfn_=o),s.push(n),this},off:function(e,t){var n=this._topics||(this._topics={}),r=n[e],i;if(!r)return this;for(var s=0,o=r.length;s<o;s++){i=r[s];if(i._bindfn_===t||i===t){r.splice(s,1);break}}return this},emit:function(e,t){var n=this._topics||(this._topics={}),r=n[e],i=r&&r.length,s=0,o={topic:e};if(!i)return this;while(s<i)o.handler=r[s],o.handler&&o.handler(o,t),s++;return this},after:function(t,n){var r=this._dfds||(this._dfds={}),i=r[t]||(r[t]=e.defer());return n?i.promise.then(n):i.promise},resolve:function(t,n){var r=this._dfds||(this._dfds={}),i=r[t]||(r[t]=e.defer());return i.resolve(n),this}}}),define("moddef",["util/events"],function(e){var t={}.hasOwnProperty,n={events:e},r=function(t){return typeof t=="function"},i=Array.isArray,s=function(e){if(typeof e!="object"||e.nodeType||e===window)return!1;try{if(e.constructor&&!t.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}return!0},o=function a(){var e,t,n,o,u,f,l=arguments[0]||{},c=1,h=arguments.length,p=!1;typeof l=="boolean"&&(p=l,l=arguments[c]||{},c++),typeof l!="object"&&!r(l)&&(l={});if(c===h)return l;for(;c<h;c++)if((e=arguments[c])!=null)for(t in e){n=l[t],o=e[t];if(l===o)continue;p&&o&&(s(o)||(u=i(o)))?(u?(u=!1,f=n&&i(n)?n:[]):f=n&&s(n)?n:{},l[t]=a(p,f,o)):o!==undefined&&(l[t]=o)}return l},u=function(t,r){var i=function u(e){if(!(this instanceof u))return new u(e);this.constructor&&this.constructor(e)};i.prototype=t;if(r){var s;while(s=r.pop())i.prototype=o(i.prototype,n[s])}return i};return u});var Kinetic={};(function(){Kinetic={version:"5.0.1",stages:[],idCounter:0,ids:{},names:{},shapes:{},listenClickTap:!1,inDblClickWindow:!1,enableTrace:!1,traceArrMax:100,dblClickWindow:400,pixelRatio:undefined,UA:function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}(),Filters:{},Node:function(e){this._init(e)},Shape:function(e){this.__init(e)},Container:function(e){this.__init(e)},Stage:function(e){this.___init(e)},Layer:function(e){this.___init(e)},Group:function(e){this.___init(e)},isDragging:function(){var e=Kinetic.DD;return e?e.isDragging:!1},isDragReady:function(){var e=Kinetic.DD;return e?!!e.node:!1},_addId:function(e,t){t!==undefined&&(this.ids[t]=e)},_removeId:function(e){e!==undefined&&delete this.ids[e]},_addName:function(e,t){t!==undefined&&(this.names[t]===undefined&&(this.names[t]=[]),this.names[t].push(e))},_removeName:function(e,t){if(e!==undefined){var n=this.names[e];if(n!==undefined){for(var r=0;r<n.length;r++){var i=n[r];i._id===t&&n.splice(r,1)}n.length===0&&delete this.names[e]}}}}})(),function(e,t){typeof exports=="object"?module.exports=t():typeof define=="function"&&define.amd?define("kinetic",t):e.returnExports=t()}(this,function(){return Kinetic}),function(){Kinetic.Collection=function(){var e=[].slice.call(arguments),t=e.length,n=0;this.length=t;for(;n<t;n++)this[n]=e[n];return this},Kinetic.Collection.prototype=[],Kinetic.Collection.prototype.each=function(e){for(var t=0;t<this.length;t++)e(this[t],t)},Kinetic.Collection.prototype.toArray=function(){var e=[],t=this.length,n;for(n=0;n<t;n++)e.push(this[n]);return e},Kinetic.Collection.toCollection=function(e){var t=new Kinetic.Collection,n=e.length,r;for(r=0;r<n;r++)t.push(e[r]);return t},Kinetic.Collection.mapMethods=function(e){var t=e.prototype,n;for(n in t)(function(e){Kinetic.Collection.prototype[e]=function(){var t=this.length,n;args=[].slice.call(arguments);for(n=0;n<t;n++)this[n][e].apply(this[n],args);return this}})(n)},Kinetic.Transform=function(){this.m=[1,0,0,1,0,0]},Kinetic.Transform.prototype={translate:function(e,t){this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t},scale:function(e,t){this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.m[0]*t+this.m[2]*n,i=this.m[1]*t+this.m[3]*n,s=this.m[0]*-n+this.m[2]*t,o=this.m[1]*-n+this.m[3]*t;this.m[0]=r,this.m[1]=i,this.m[2]=s,this.m[3]=o},getTranslation:function(){return{x:this.m[4],y:this.m[5]}},skew:function(e,t){var n=this.m[0]+this.m[2]*t,r=this.m[1]+this.m[3]*t,i=this.m[2]+this.m[0]*e,s=this.m[3]+this.m[1]*e;this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=s},multiply:function(e){var t=this.m[0]*e.m[0]+this.m[2]*e.m[1],n=this.m[1]*e.m[0]+this.m[3]*e.m[1],r=this.m[0]*e.m[2]+this.m[2]*e.m[3],i=this.m[1]*e.m[2]+this.m[3]*e.m[3],s=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],o=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];this.m[0]=t,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=s,this.m[5]=o},invert:function(){var e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),t=this.m[3]*e,n=-this.m[1]*e,r=-this.m[2]*e,i=this.m[0]*e,s=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),o=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=t,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=s,this.m[5]=o},getMatrix:function(){return this.m},setAbsolutePosition:function(e,t){var n=this.m[0],r=this.m[1],i=this.m[2],s=this.m[3],o=this.m[4],u=this.m[5],a=(n*(t-u)-r*(e-o))/(n*s-r*i),f=(e-o-i*a)/n;this.translate(f,a)}};var e="canvas",t="2d",n="[object Array]",r="[object Number]",i="[object String]",s=Math.PI/180,o=180/Math.PI,u="#",a="",f="0",l="Kinetic warning: ",c="Kinetic error: ",h="rgb(",p={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},d=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;Kinetic.Util={_isElement:function(e){return!!e&&e.nodeType==1},_isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},_isObject:function(e){return!!e&&e.constructor==Object},_isArray:function(e){return Object.prototype.toString.call(e)==n},_isNumber:function(e){return Object.prototype.toString.call(e)==r},_isString:function(e){return Object.prototype.toString.call(e)==i},_hasMethods:function(e){var t=[],n;for(n in e)this._isFunction(e[n])&&t.push(n);return t.length>0},_isInDocument:function(e){while(e=e.parentNode)if(e==document)return!0;return!1},_simplifyArray:function(e){var t=[],n=e.length,r=Kinetic.Util,i,s;for(i=0;i<n;i++)s=e[i],r._isNumber(s)?s=Math.round(s*1e3)/1e3:r._isString(s)||(s=s.toString()),t.push(s);return t},_getImage:function(n,r){var i,s,o,u;n?this._isElement(n)?r(n):this._isString(n)?(i=new Image,i.onload=function(){r(i)},i.src=n):n.data?(s=document.createElement(e),s.width=n.width,s.height=n.height,_context=s.getContext(t),_context.putImageData(n,0,0),this._getImage(s.toDataURL(),r)):r(null):r(null)},_getRGBAString:function(e){var t=e.red||0,n=e.green||0,r=e.blue||0,i=e.alpha||1;return["rgba(",t,",",n,",",r,",",i,")"].join(a)},_rgbToHex:function(e,t,n){return((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)},_hexToRgb:function(e){e=e.replace(u,a);var t=parseInt(e,16);return{r:t>>16&255,g:t>>8&255,b:t&255}},getRandomColor:function(){var e=(Math.random()*16777215<<0).toString(16);while(e.length<6)e=f+e;return u+e},get:function(e,t){return e===undefined?t:e},getRGB:function(e){var t;return e in p?(t=p[e],{r:t[0],g:t[1],b:t[2]}):e[0]===u?this._hexToRgb(e.substring(1)):e.substr(0,4)===h?(t=d.exec(e.replace(/ /g,"")),{r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}):{r:0,g:0,b:0}},_merge:function(e,t){var n=this._clone(t);for(var r in e)this._isObject(e[r])?n[r]=this._merge(e[r],n[r]):n[r]=e[r];return n},cloneObject:function(e){var t={};for(var n in e)this._isObject(e[n])?t[n]=this._clone(e[n]):t[n]=e[n];return t},cloneArray:function(e){return e.slice(0)},_degToRad:function(e){return e*s},_radToDeg:function(e){return e*o},_capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},error:function(e){throw new Error(c+e)},warn:function(e){window.console&&console.warn&&console.warn(l+e)},extend:function(e,t){for(var n in t.prototype)n in e.prototype||(e.prototype[n]=t.prototype[n])},addMethods:function(e,t){var n;for(n in t)e.prototype[n]=t[n]},_getControlPoints:function(e,t,n,r,i,s,o){var u=Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2)),a=Math.sqrt(Math.pow(i-n,2)+Math.pow(s-r,2)),f=o*u/(u+a),l=o*a/(u+a),c=n-f*(i-e),h=r-f*(s-t),p=n+l*(i-e),d=r+l*(s-t);return[c,h,p,d]},_expandPoints:function(e,t){var n=e.length,r=[],i,s;for(i=2;i<n-2;i+=2)s=Kinetic.Util._getControlPoints(e[i-2],e[i-1],e[i],e[i+1],e[i+2],e[i+3],t),r.push(s[0]),r.push(s[1]),r.push(e[i]),r.push(e[i+1]),r.push(s[2]),r.push(s[3]);return r},_removeLastLetter:function(e){return e.substring(0,e.length-1)}}}(),function(){var e=document.createElement("canvas"),t=e.getContext("2d"),n=window.devicePixelRatio||1,r=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1,i=n/r;Kinetic.Canvas=function(e){this.init(e)},Kinetic.Canvas.prototype={init:function(e){e=e||{};var t=e.pixelRatio||Kinetic.pixelRatio||i;this.pixelRatio=t,this._canvas=document.createElement("canvas"),this._canvas.style.padding=0,this._canvas.style.margin=0,this._canvas.style.border=0,this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top=0,this._canvas.style.left=0},getContext:function(){return this.context},getPixelRatio:function(){return this.pixelRatio},setPixelRatio:function(e){this.pixelRatio=e,this.setSize(this.getWidth(),this.getHeight())},setWidth:function(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px"},setHeight:function(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px"},getWidth:function(){return this.width},getHeight:function(){return this.height},setSize:function(e,t){this.setWidth(e),this.setHeight(t)},toDataURL:function(e,t){try{return this._canvas.toDataURL(e,t)}catch(n){try{return this._canvas.toDataURL()}catch(r){return Kinetic.Util.warn("Unable to get data URL. "+r.message),""}}}},Kinetic.SceneCanvas=function(e){e=e||{};var t=e.width||0,n=e.height||0;Kinetic.Canvas.call(this,e),this.context=new Kinetic.SceneContext(this),this.setSize(t,n)},Kinetic.SceneCanvas.prototype={setWidth:function(e){var t=this.pixelRatio,n=this.getContext()._context;Kinetic.Canvas.prototype.setWidth.call(this,e),n.scale(t,t)},setHeight:function(e){var t=this.pixelRatio,n=this.getContext()._context;Kinetic.Canvas.prototype.setHeight.call(this,e),n.scale(t,t)}},Kinetic.Util.extend(Kinetic.SceneCanvas,Kinetic.Canvas),Kinetic.HitCanvas=function(e){e=e||{};var t=e.width||0,n=e.height||0;Kinetic.Canvas.call(this,e),this.context=new Kinetic.HitContext(this),this.setSize(t,n)},Kinetic.Util.extend(Kinetic.HitCanvas,Kinetic.Canvas)}(),function(){var e=",",t="(",n=")",r="([",i="])",s=";",o="()",u="",a="=",f="set",l=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];Kinetic.Context=function(e){this.init(e)},Kinetic.Context.prototype={init:function(e){this.canvas=e,this._context=e._canvas.getContext("2d"),Kinetic.enableTrace&&(this.traceArr=[],this._enableTrace())},fillShape:function(e){e.getFillEnabled()&&this._fill(e)},strokeShape:function(e){e.getStrokeEnabled()&&this._stroke(e)},fillStrokeShape:function(e){var t=e.getFillEnabled();t&&this._fill(e),e.getStrokeEnabled()&&this._stroke(e)},getTrace:function(u){var f=this.traceArr,l=f.length,c="",h,p,d,v;for(h=0;h<l;h++)p=f[h],d=p.method,d?(v=p.args,c+=d,u?c+=o:Kinetic.Util._isArray(v[0])?c+=r+v.join(e)+i:c+=t+v.join(e)+n):(c+=p.property,u||(c+=a+p.val)),c+=s;return c},clearTrace:function(){this.traceArr=[]},_trace:function(e){var t=this.traceArr,n;t.push(e),n=t.length,n>=Kinetic.traceArrMax&&t.shift()},reset:function(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)},getCanvas:function(){return this.canvas},clear:function(e){var t=this.getCanvas(),n,r;e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,t.getWidth(),t.getHeight())},_applyLineCap:function(e){var t=e.getLineCap();t&&this.setAttr("lineCap",t)},_applyOpacity:function(e){var t=e.getAbsoluteOpacity();t!==1&&this.setAttr("globalAlpha",t)},_applyLineJoin:function(e){var t=e.getLineJoin();t&&this.setAttr("lineJoin",t)},_applyTransform:function(e){var t=e.getTransformsEnabled(),n;t==="all"?(n=e.getAbsoluteTransform().getMatrix(),this.transform(n[0],n[1],n[2],n[3],n[4],n[5])):t==="position"&&this.translate(e.getX(),e.getY())},setAttr:function(e,t){this._context[e]=t},arc:function(){var e=arguments;this._context.arc(e[0],e[1],e[2],e[3],e[4],e[5])},beginPath:function(){this._context.beginPath()},bezierCurveTo:function(){var e=arguments;this._context.bezierCurveTo(e[0],e[1],e[2],e[3],e[4],e[5])},clearRect:function(){var e=arguments;this._context.clearRect(e[0],e[1],e[2],e[3])},clip:function(){this._context.clip()},closePath:function(){this._context.closePath()},createImageData:function(){var e=arguments;if(e.length===2)return this._context.createImageData(e[0],e[1]);if(e.length===1)return this._context.createImageData(e[0])},createLinearGradient:function(){var e=arguments;return this._context.createLinearGradient(e[0],e[1],e[2],e[3])},createPattern:function(){var e=arguments;return this._context.createPattern(e[0],e[1])},createRadialGradient:function(){var e=arguments;return this._context.createRadialGradient(e[0],e[1],e[2],e[3],e[4],e[5])},drawImage:function(){var e=arguments,t=this._context;e.length===3?t.drawImage(e[0],e[1],e[2]):e.length===5?t.drawImage(e[0],e[1],e[2],e[3],e[4]):e.length===9&&t.drawImage(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},fill:function(){this._context.fill()},fillText:function(){var e=arguments;this._context.fillText(e[0],e[1],e[2])},getImageData:function(){var e=arguments;return this._context.getImageData(e[0],e[1],e[2],e[3])},lineTo:function(){var e=arguments;this._context.lineTo(e[0],e[1])},moveTo:function(){var e=arguments;this._context.moveTo(e[0],e[1])},rect:function(){var e=arguments;this._context.rect(e[0],e[1],e[2],e[3])},putImageData:function(){var e=arguments;this._context.putImageData(e[0],e[1],e[2])},quadraticCurveTo:function(){var e=arguments;this._context.quadraticCurveTo(e[0],e[1],e[2],e[3])},restore:function(){this._context.restore()},rotate:function(){var e=arguments;this._context.rotate(e[0])},save:function(){this._context.save()},scale:function(){var e=arguments;this._context.scale(e[0],e[1])},setLineDash:function(){var e=arguments,t=this._context;this._context.setLineDash?t.setLineDash(e[0]):"mozDash"in t?t.mozDash=e[0]:"webkitLineDash"in t&&(t.webkitLineDash=e[0])},setTransform:function(){var e=arguments;this._context.setTransform(e[0],e[1],e[2],e[3],e[4],e[5])},stroke:function(){this._context.stroke()},strokeText:function(){var e=arguments;this._context.strokeText(e[0],e[1],e[2])},transform:function(){var e=arguments;this._context.transform(e[0],e[1],e[2],e[3],e[4],e[5])},translate:function(){var e=arguments;this._context.translate(e[0],e[1])},_enableTrace:function(){var e=this,t=l.length,n=Kinetic.Util._simplifyArray,r=this.setAttr,i,s;for(i=0;i<t;i++)(function(t){var r=e[t],i;e[t]=function(){return s=n(Array.prototype.slice.call(arguments,0)),i=r.apply(e,arguments),e._trace({method:t,args:s}),i}})(l[i]);e.setAttr=function(){r.apply(e,arguments),e._trace({property:arguments[0],val:arguments[1]})}}},Kinetic.SceneContext=function(e){Kinetic.Context.call(this,e)},Kinetic.SceneContext.prototype={_fillColor:function(e){var t=e.fill()||Kinetic.Util._getRGBAString({red:e.fillRed(),green:e.fillGreen(),blue:e.fillBlue(),alpha:e.fillAlpha()});this.setAttr("fillStyle",t),e._fillFunc(this)},_fillPattern:function(e){var t=e.getFillPatternImage(),n=e.getFillPatternX(),r=e.getFillPatternY(),i=e.getFillPatternScale(),s=e.getFillPatternRotation(),o=e.getFillPatternOffset(),u=e.getFillPatternRepeat();(n||r)&&this.translate(n||0,r||0),s&&this.rotate(s),i&&this.scale(i.x,i.y),o&&this.translate(-1*o.x,-1*o.y),this.setAttr("fillStyle",this.createPattern(t,u||"repeat")),this.fill()},_fillLinearGradient:function(e){var t=e.getFillLinearGradientStartPoint(),n=e.getFillLinearGradientEndPoint(),r=e.getFillLinearGradientColorStops(),i=this.createLinearGradient(t.x,t.y,n.x,n.y);if(r){for(var s=0;s<r.length;s+=2)i.addColorStop(r[s],r[s+1]);this.setAttr("fillStyle",i),this.fill()}},_fillRadialGradient:function(e){var t=e.getFillRadialGradientStartPoint(),n=e.getFillRadialGradientEndPoint(),r=e.getFillRadialGradientStartRadius(),i=e.getFillRadialGradientEndRadius(),s=e.getFillRadialGradientColorStops(),o=this.createRadialGradient(t.x,t.y,r,n.x,n.y,i);for(var u=0;u<s.length;u+=2)o.addColorStop(s[u],s[u+1]);this.setAttr("fillStyle",o),this.fill()},_fill:function(e){var t=e.fill()||e.fillRed()||e.fillGreen()||e.fillBlue(),n=e.getFillPatternImage(),r=e.getFillLinearGradientColorStops(),i=e.getFillRadialGradientColorStops(),s=e.getFillPriority();t&&s==="color"?this._fillColor(e):n&&s==="pattern"?this._fillPattern(e):r&&s==="linear-gradient"?this._fillLinearGradient(e):i&&s==="radial-gradient"?this._fillRadialGradient(e):t?this._fillColor(e):n?this._fillPattern(e):r?this._fillLinearGradient(e):i&&this._fillRadialGradient(e)},_stroke:function(e){var t=e.dash(),n=e.getStrokeScaleEnabled();e.hasStroke()&&(n||(this.save(),this.setTransform(1,0,0,1,0,0)),this._applyLineCap(e),t&&e.dashEnabled()&&this.setLineDash(t),this.setAttr("lineWidth",e.strokeWidth()),this.setAttr("strokeStyle",e.stroke()||Kinetic.Util._getRGBAString({red:e.strokeRed(),green:e.strokeGreen(),blue:e.strokeBlue(),alpha:e.strokeAlpha()})),e._strokeFunc(this),n||this.restore())},_applyShadow:function(e){var t=Kinetic.Util,n=e.getAbsoluteOpacity(),r=t.get(e.getShadowColor(),"black"),i=t.get(e.getShadowBlur(),5),s=t.get(e.getShadowOpacity(),0),o=t.get(e.getShadowOffset(),{x:0,y:0});s&&this.setAttr("globalAlpha",s*n),this.setAttr("shadowColor",r),this.setAttr("shadowBlur",i),this.setAttr("shadowOffsetX",o.x),this.setAttr("shadowOffsetY",o.y)}},Kinetic.Util.extend(Kinetic.SceneContext,Kinetic.Context),Kinetic.HitContext=function(e){Kinetic.Context.call(this,e)},Kinetic.HitContext.prototype={_fill:function(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()},_stroke:function(e){e.hasStroke()&&(this._applyLineCap(e),this.setAttr("lineWidth",e.strokeWidth()),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this))}},Kinetic.Util.extend(Kinetic.HitContext,Kinetic.Context)}(),function(){var e="absoluteOpacity",t="absoluteTransform",n="add",r="b",i="before",s="black",o="Change",u="children",a="Deg",f=".",l="",c="g",h="get",p="#",d="id",v="kinetic",m="listening",g="mouseenter",y="mouseleave",b="name",w="off",E="on",S="_get",x="r",T="RGB",N="set",C="Shape",k=" ",L="Stage",A="transform",O="B",M="G",_="Height",D="R",P="Width",H="X",B="Y",j="visible",F="x",I="y";Kinetic.Factory={addGetterSetter:function(e,t,n,r,i){this.addGetter(e,t,n),this.addSetter(e,t,r,i),this.addOverloadedGetterSetter(e,t)},addGetter:function(e,t,n){var r=this,i=h+Kinetic.Util._capitalize(t);e.prototype[i]=function(){var e=this.attrs[t];return e===undefined?n:e}},addSetter:function(e,t,n,r){var i=N+Kinetic.Util._capitalize(t);e.prototype[i]=function(e){return n&&(e=n.call(this,e)),this._setAttr(t,e),r&&r.call(this),this}},addComponentsGetterSetter:function(e,t,n,r,i){var s=n.length,o=Kinetic.Util._capitalize,u=h+o(t),a=N+o(t),f,l;e.prototype[u]=function(){var e={};for(f=0;f<s;f++)l=n[f],e[l]=this.getAttr(t+o(l));return e},e.prototype[a]=function(e){var n=this.attrs[t],s;r&&(e=r.call(this,e));for(s in e)this._setAttr(t+o(s),e[s]);return this._fireChangeEvent(t,n,e),i&&i.call(this),this},this.addOverloadedGetterSetter(e,t)},addOverloadedGetterSetter:function(e,t){var n=this,r=Kinetic.Util._capitalize(t),i=N+r,s=h+r;e.prototype[t]=function(){return arguments.length?(this[i](arguments[0]),this):this[s]()}},backCompat:function(e,t){var n;for(n in t)e.prototype[n]=e.prototype[t[n]]},afterSetFilter:function(){this._filterUpToDate=!1}},Kinetic.Validators={RGBComponent:function(e){return e>255?255:e<0?0:Math.round(e)},alphaComponent:function(e){return e>1?1:e<1e-4?1e-4:e}}}(),function(){var e="absoluteOpacity",t="absoluteTransform",n="before",r="Change",i="children",s=".",o="",u="get",a="id",f="kinetic",l="listening",c="mouseenter",h="mouseleave",p="name",d="set",v="Shape",m=" ",g="stage",y="transform",b="Stage",w="visible",E=["xChange.kinetic","yChange.kinetic","scaleXChange.kinetic","scaleYChange.kinetic","skewXChange.kinetic","skewYChange.kinetic","rotationChange.kinetic","offsetXChange.kinetic","offsetYChange.kinetic","transformsEnabledChange.kinetic"].join(m);Kinetic.Util.addMethods(Kinetic.Node,{_init:function(n){var r=this;this._id=Kinetic.idCounter++,this.eventListeners={},this.attrs={},this._cache={},this._filterUpToDate=!1,this.setAttrs(n),this.on(E,function(){this._clearCache(y),r._clearSelfAndDescendantCache(t)}),this.on("visibleChange.kinetic",function(){r._clearSelfAndDescendantCache(w)}),this.on("listeningChange.kinetic",function(){r._clearSelfAndDescendantCache(l)}),this.on("opacityChange.kinetic",function(){r._clearSelfAndDescendantCache(e)})},_clearCache:function(e){e?delete this._cache[e]:this._cache={}},_getCache:function(e,t){var n=this._cache[e];return n===undefined&&(this._cache[e]=t.call(this)),this._cache[e]},_clearSelfAndDescendantCache:function(e){this._clearCache(e),this.children&&this.getChildren().each(function(t){t._clearSelfAndDescendantCache(e)})},clearCache:function(){return delete this._cache.canvas,this._filterUpToDate=!1,this},cache:function(e){var t=e||{},n=t.x||0,r=t.y||0,i=t.width||this.width(),s=t.height||this.height(),o=t.drawBorder||!1,u=new Kinetic.SceneCanvas({pixelRatio:1,width:i,height:s}),a=new Kinetic.SceneCanvas({pixelRatio:1,width:i,height:s}),f=new Kinetic.HitCanvas({width:i,height:s}),l=this.transformsEnabled(),c=this.x(),h=this.y(),p;return this.clearCache(),this.transformsEnabled("position"),this.x(n*-1),this.y(r*-1),this.drawScene(u),this.drawHit(f),o&&(p=u.getContext(),p.save(),p.beginPath(),p.rect(0,0,i,s),p.closePath(),p.setAttr("strokeStyle","red"),p.setAttr("lineWidth",5),p.stroke(),p.restore()),this.x(c),this.y(h),this.transformsEnabled(l),this._cache.canvas={scene:u,filter:a,hit:f},this},_drawCachedSceneCanvas:function(e){e.save(),e._applyTransform(this),e.drawImage(this._getCachedSceneCanvas()._canvas,0,0),e.restore()},_getCachedSceneCanvas:function(){var e=this.filters(),t=this._cache.canvas,n=t.scene,r=t.filter,i=r.getContext(),s,o,u,a;if(e){if(!this._filterUpToDate){try{s=e.length,i.clear(),i.drawImage(n._canvas,0,0),o=i.getImageData(0,0,r.getWidth(),r.getHeight());for(u=0;u<s;u++)a=e[u],a.call(this,o),i.putImageData(o,0,0)}catch(f){Kinetic.Util.warn("Unable to apply filter. "+f.message)}this._filterUpToDate=!0}return r}return n},_drawCachedHitCanvas:function(e){var t=this._cache.canvas,n=t.hit;e.save(),e._applyTransform(this),e.drawImage(n._canvas,0,0),e.restore()},on:function(e,t){var n=e.split(m),r=n.length,i,u,a,f,l;for(i=0;i<r;i++)u=n[i],a=u.split(s),f=a[0],l=a[1]||o,this.eventListeners[f]||(this.eventListeners[f]=[]),this.eventListeners[f].push({name:l,handler:t});return this},off:function(e){var t=e.split(m),n=t.length,r,i,o,u,a,f;for(r=0;r<n;r++){o=t[r],u=o.split(s),a=u[0],f=u[1];if(a)this.eventListeners[a]&&this._off(a,f);else for(i in this.eventListeners)this._off(i,f)}return this},remove:function(){var n=this.getParent();return n&&n.children&&(n.children.splice(this.index,1),n._setChildrenIndices(),delete this.parent),this._clearSelfAndDescendantCache(g),this._clearSelfAndDescendantCache(t),this._clearSelfAndDescendantCache(w),this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(e),this},destroy:function(){Kinetic._removeId(this.getId()),Kinetic._removeName(this.getName(),this._id),this.remove()},getAttr:function(e){var t=u+Kinetic.Util._capitalize(e);return Kinetic.Util._isFunction(this[t])?this[t]():this.attrs[e]},getAncestors:function(){var e=this.getParent(),t=new Kinetic.Collection;while(e)t.push(e),e=e.getParent();return t},getAttrs:function(){return this.attrs||{}},setAttrs:function(e){var t,n;if(e)for(t in e)t!==i&&(n=d+Kinetic.Util._capitalize(t),Kinetic.Util._isFunction(this[n])?this[n](e[t]):this._setAttr(t,e[t]));return this},isListening:function(){return this._getCache(l,this._isListening)},_isListening:function(){var e=this.getListening(),t=this.getParent();return e==="inherit"?t?t.isListening():!0:e},isVisible:function(){return this._getCache(w,this._isVisible)},_isVisible:function(){var e=this.getVisible(),t=this.getParent();return e==="inherit"?t?t.isVisible():!0:e},shouldDrawHit:function(){var e=this.getLayer();return e&&e.hitGraphEnabled()&&this.isListening()&&this.isVisible()&&!Kinetic.isDragging()},show:function(){return this.setVisible(!0),this},hide:function(){return this.setVisible(!1),this},getZIndex:function(){return this.index||0},getAbsoluteZIndex:function(){function u(a){r=[],i=a.length;for(s=0;s<i;s++)o=a[s],n++,o.nodeType!==v&&(r=r.concat(o.getChildren().toArray())),o._id===t._id&&(s=i);r.length>0&&r[0].getDepth()<=e&&u(r)}var e=this.getDepth(),t=this,n=0,r,i,s,o;return t.nodeType!==b&&u(t.getStage().getChildren()),n},getDepth:function(){var e=0,t=this.parent;while(t)e++,t=t.parent;return e},setPosition:function(e){return this.setX(e.x),this.setY(e.y),this},getPosition:function(){return{x:this.getX(),y:this.getY()}},getAbsolutePosition:function(){var e=this.getAbsoluteTransform().getMatrix(),t=new Kinetic.Transform,n=this.offset();return t.m=e.slice(),t.translate(n.x,n.y),t.getTranslation()},setAbsolutePosition:function(e){var t=this._clearTransform(),n;return this.attrs.x=t.x,this.attrs.y=t.y,delete t.x,delete t.y,n=this.getAbsoluteTransform(),n.invert(),n.translate(e.x,e.y),e={x:this.attrs.x+n.getTranslation().x,y:this.attrs.y+n.getTranslation().y},this.setPosition({x:e.x,y:e.y}),this._setTransform(t),this},_setTransform:function(e){var n;for(n in e)this.attrs[n]=e[n];this._clearCache(y),this._clearSelfAndDescendantCache(t)},_clearTransform:function(){var e={x:this.getX(),y:this.getY(),rotation:this.getRotation(),scaleX:this.getScaleX(),scaleY:this.getScaleY(),offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),skewX:this.getSkewX(),skewY:this.getSkewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,this._clearCache(y),this._clearSelfAndDescendantCache(t),e},move:function(e){var t=e.x,n=e.y,r=this.getX(),i=this.getY();return t!==undefined&&(r+=t),n!==undefined&&(i+=n),this.setPosition({x:r,y:i}),this},_eachAncestorReverse:function(e,t){var n=[],r=this.getParent(),i,s;t&&n.unshift(this);while(r)n.unshift(r),r=r.parent;i=n.length;for(s=0;s<i;s++)e(n[s])},rotate:function(e){return this.setRotation(this.getRotation()+e),this},moveToTop:function(){var e=this.index;return this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0},moveUp:function(){var e=this.index,t=this.parent.getChildren().length;return e<t-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1},moveDown:function(){var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1},moveToBottom:function(){var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1},setZIndex:function(e){var t=this.index;return this.parent.children.splice(t,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this},getAbsoluteOpacity:function(){return this._getCache(e,this._getAbsoluteOpacity)},_getAbsoluteOpacity:function(){var e=this.getOpacity();return this.getParent()&&(e*=this.getParent().getAbsoluteOpacity()),e},moveTo:function(e){return Kinetic.Node.prototype.remove.call(this),e.add(this),this},toObject:function(){var e=Kinetic.Util,t={},n=this.getAttrs(),r,i,s,o;t.attrs={};for(r in n)i=n[r],!e._isFunction(i)&&!e._isElement(i)&&(!e._isObject(i)||!e._hasMethods(i))&&(s=this[r],delete n[r],o=s?s.call(this):null,n[r]=i,o!==i&&(t.attrs[r]=i));return t.className=this.getClassName(),t},toJSON:function(){return JSON.stringify(this.toObject())},getParent:function(){return this.parent},getLayer:function(){var e=this.getParent();return e?e.getLayer():null},getStage:function(){return this._getCache(g,this._getStage)},_getStage:function(){var e=this.getParent();return e?e.getStage():undefined},fire:function(e,t,n){return n?this._fireAndBubble(e,t||{}):this._fire(e,t||{}),this},getAbsoluteTransform:function(){return this._getCache(t,this._getAbsoluteTransform)},_getAbsoluteTransform:function(){var e=new Kinetic.Transform,t,n;return this._eachAncestorReverse(function(r){t=r.transformsEnabled(),n=r.getTransform(),t==="all"?e.multiply(n):t==="position"&&e.translate(r.x(),r.y())},!0),e},getTransform:function(){return this._getCache(y,this._getTransform)},_getTransform:function(){var e=new Kinetic.Transform,t=this.getX(),n=this.getY(),r=this.getRotation()*Math.PI/180,i=this.getScaleX(),s=this.getScaleY(),o=this.getSkewX(),u=this.getSkewY(),a=this.getOffsetX(),f=this.getOffsetY();return(t!==0||n!==0)&&e.translate(t,n),r!==0&&e.rotate(r),(o!==0||u!==0)&&e.skew(o,u),(i!==1||s!==1)&&e.scale(i,s),(a!==0||f!==0)&&e.translate(-1*a,-1*f),e},clone:function(e){var t=this.getClassName(),n=new Kinetic[t](this.attrs),r,i,s,o,u;for(r in this.eventListeners){i=this.eventListeners[r],s=i.length;for(o=0;o<s;o++)u=i[o],u.name.indexOf(f)<0&&(n.eventListeners[r]||(n.eventListeners[r]=[]),n.eventListeners[r].push(u))}return n.setAttrs(e),n},toDataURL:function(e){e=e||{};var t=e.mimeType||null,n=e.quality||null,r=this.getStage(),i=e.x||0,s=e.y||0,o=new Kinetic.SceneCanvas({width:e.width||this.getWidth()||(r?r.getWidth():0),height:e.height||this.getHeight()||(r?r.getHeight():0),pixelRatio:1}),u=o.getContext();return u.save(),(i||s)&&u.translate(-1*i,-1*s),this.drawScene(o),u.restore(),o.toDataURL(t,n)},toImage:function(e){Kinetic.Util._getImage(this.toDataURL(e),function(t){e.callback(t)})},setSize:function(e){return this.setWidth(e.width),this.setHeight(e.height),this},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getWidth:function(){return this.attrs.width||0},getHeight:function(){return this.attrs.height||0},getClassName:function(){return this.className||this.nodeType},getType:function(){return this.nodeType},_get:function(e){return this.nodeType===e?[this]:[]},_off:function(e,t){var n=this.eventListeners[e],r,i;for(r=0;r<n.length;r++){i=n[r].name;if((i!=="kinetic"||t==="kinetic")&&(!t||i===t)){n.splice(r,1);if(n.length===0){delete this.eventListeners[e];break}r--}}},_fireBeforeChangeEvent:function(e,t,i){this._fire([n,Kinetic.Util._capitalize(e),r].join(o),{oldVal:t,newVal:i})},_fireChangeEvent:function(e,t,n){this._fire(e+r,{oldVal:t,newVal:n})},setId:function(e){var t=this.getId();return Kinetic._removeId(t),Kinetic._addId(this,e),this._setAttr(a,e),this},setName:function(e){var t=this.getName();return Kinetic._removeName(t,this._id),Kinetic._addName(this,e),this._setAttr(p,e),this},setAttr:function(){var e=Array.prototype.slice.call(arguments),t=e[0],n=e[1],r=d+Kinetic.Util._capitalize(t),i=this[r];return Kinetic.Util._isFunction(i)?i.call(this,n):this._setAttr(t,n),this},_setAttr:function(e,t){var n;t!==undefined&&(n=this.attrs[e],this.attrs[e]=t,this._fireChangeEvent(e,n,t))},_setComponentAttr:function(e,t,n){var r;n!==undefined&&(r=this.attrs[e],r||(this.attrs[e]=this.getAttr(e)),this.attrs[e][t]=n,this._fireChangeEvent(e,r,n))},_fireAndBubble:function(e,t,n){var r=!0;t&&this.nodeType===v&&(t.targetNode=this),e===c&&n&&this._id===n._id?r=!1:e===h&&n&&this._id===n._id&&(r=!1),r&&(this._fire(e,t),t&&!t.cancelBubble&&this.parent&&(n&&n.parent?this._fireAndBubble.call(this.parent,e,t,n.parent):this._fireAndBubble.call(this.parent,e,t)))},_fire:function(e,t){var n=this.eventListeners[e],r;if(n)for(r=0;r<n.length;r++)n[r].handler.call(this,t)},draw:function(){return this.drawScene(),this.drawHit(),this}}),Kinetic.Node.create=function(e,t){return this._createNode(JSON.parse(e),t)},Kinetic.Node._createNode=function(e,t){var n=Kinetic.Node.prototype.getClassName.call(e),r=e.children,i,s,o;t&&(e.attrs.container=t),i=new Kinetic[n](e.attrs);if(r){s=r.length;for(o=0;o<s;o++)i.add(this._createNode(r[o]))}return i},Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"position"),Kinetic.Factory.addGetterSetter(Kinetic.Node,"x",0),Kinetic.Factory.addGetterSetter(Kinetic.Node,"y",0),Kinetic.Factory.addGetterSetter(Kinetic.Node,"opacity",1),Kinetic.Factory.addGetter(Kinetic.Node,"name"),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"name"),Kinetic.Factory.addGetter(Kinetic.Node,"id"),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"id"),Kinetic.Factory.addGetterSetter(Kinetic.Node,"rotation",0),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Node,"scale",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Node,"scaleX",1),Kinetic.Factory.addGetterSetter(Kinetic.Node,"scaleY",1),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Node,"skew",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Node,"skewX",0),Kinetic.Factory.addGetterSetter(Kinetic.Node,"skewY",0),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Node,"offset",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Node,"offsetX",0),Kinetic.Factory.addGetterSetter(Kinetic.Node,"offsetY",0),Kinetic.Factory.addSetter(Kinetic.Node,"width",0),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"width"),Kinetic.Factory.addSetter(Kinetic.Node,"height",0),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"height"),Kinetic.Factory.addGetterSetter(Kinetic.Node,"listening","inherit"),Kinetic.Factory.addGetterSetter(Kinetic.Node,"filters",undefined,function(e){return this._filterUpToDate=!1,e}),Kinetic.Factory.addGetterSetter(Kinetic.Node,"visible","inherit"),Kinetic.Factory.addGetterSetter(Kinetic.Node,"transformsEnabled","all"),Kinetic.Factory.backCompat(Kinetic.Node,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),Kinetic.Collection.mapMethods(Kinetic.Node)}(),function(){Kinetic.Filters.Grayscale=function(e){var t=e.data,n=t.length,r,i;for(r=0;r<n;r+=4)i=.34*t[r]+.5*t[r+1]+.16*t[r+2],t[r]=i,t[r+1]=i,t[r+2]=i}}(),function(){Kinetic.Filters.Brighten=function(e){var t=this.brightness()*255,n=e.data,r=n.length,i;for(i=0;i<r;i+=4)n[i]+=t,n[i+1]+=t,n[i+2]+=t},Kinetic.Factory.addGetterSetter(Kinetic.Node,"brightness",0,null,Kinetic.Factory.afterSetFilter)}(),function(){Kinetic.Filters.Invert=function(e){var t=e.data,n=t.length,r;for(r=0;r<n;r+=4)t[r]=255-t[r],t[r+1]=255-t[r+1],t[r+2]=255-t[r+2]}}(),function(){function e(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}function r(r,i){var s=r.data,o=r.width,u=r.height,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_=i+i+1,D=o-1,P=u-1,H=i+1,B=H*(H+1)/2,j=new e,F=null,I=j,q=null,R=null,U=t[i],z=n[i];for(l=1;l<_;l++)I=I.next=new e,l==H&&(F=I);I.next=j,d=p=0;for(f=0;f<u;f++){x=T=N=C=v=m=g=y=0,b=H*(k=s[p]),w=H*(L=s[p+1]),E=H*(A=s[p+2]),S=H*(O=s[p+3]),v+=B*k,m+=B*L,g+=B*A,y+=B*O,I=j;for(l=0;l<H;l++)I.r=k,I.g=L,I.b=A,I.a=O,I=I.next;for(l=1;l<H;l++)c=p+((D<l?D:l)<<2),v+=(I.r=k=s[c])*(M=H-l),m+=(I.g=L=s[c+1])*M,g+=(I.b=A=s[c+2])*M,y+=(I.a=O=s[c+3])*M,x+=k,T+=L,N+=A,C+=O,I=I.next;q=j,R=F;for(a=0;a<o;a++)s[p+3]=O=y*U>>z,O!==0?(O=255/O,s[p]=(v*U>>z)*O,s[p+1]=(m*U>>z)*O,s[p+2]=(g*U>>z)*O):s[p]=s[p+1]=s[p+2]=0,v-=b,m-=w,g-=E,y-=S,b-=q.r,w-=q.g,E-=q.b,S-=q.a,c=d+((c=a+i+1)<D?c:D)<<2,x+=q.r=s[c],T+=q.g=s[c+1],N+=q.b=s[c+2],C+=q.a=s[c+3],v+=x,m+=T,g+=N,y+=C,q=q.next,b+=k=R.r,w+=L=R.g,E+=A=R.b,S+=O=R.a,x-=k,T-=L,N-=A,C-=O,R=R.next,p+=4;d+=o}for(a=0;a<o;a++){T=N=C=x=m=g=y=v=0,p=a<<2,b=H*(k=s[p]),w=H*(L=s[p+1]),E=H*(A=s[p+2]),S=H*(O=s[p+3]),v+=B*k,m+=B*L,g+=B*A,y+=B*O,I=j;for(l=0;l<H;l++)I.r=k,I.g=L,I.b=A,I.a=O,I=I.next;h=o;for(l=1;l<=i;l++)p=h+a<<2,v+=(I.r=k=s[p])*(M=H-l),m+=(I.g=L=s[p+1])*M,g+=(I.b=A=s[p+2])*M,y+=(I.a=O=s[p+3])*M,x+=k,T+=L,N+=A,C+=O,I=I.next,l<P&&(h+=o);p=a,q=j,R=F;for(f=0;f<u;f++)c=p<<2,s[c+3]=O=y*U>>z,O>0?(O=255/O,s[c]=(v*U>>z)*O,s[c+1]=(m*U>>z)*O,s[c+2]=(g*U>>z)*O):s[c]=s[c+1]=s[c+2]=0,v-=b,m-=w,g-=E,y-=S,b-=q.r,w-=q.g,E-=q.b,S-=q.a,c=a+((c=f+H)<P?c:P)*o<<2,v+=x+=q.r=s[c],m+=T+=q.g=s[c+1],g+=N+=q.b=s[c+2],y+=C+=q.a=s[c+3],q=q.next,b+=k=R.r,w+=L=R.g,E+=A=R.b,S+=O=R.a,x-=k,T-=L,N-=A,C-=O,R=R.next,p+=o}}var t=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],n=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];Kinetic.Filters.Blur=function(e){var t=this.blurRadius()|0;t>0&&r(e,t)},Kinetic.Factory.addGetterSetter(Kinetic.Node,"blurRadius",0,null,Kinetic.Factory.afterSetFilter)}(),function(){function e(e,t,n){var r=(n*e.width+t)*4,i=[];return i.push(e.data[r++],e.data[r++],e.data[r++],e.data[r++]),i}function t(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2))}function n(e){var t=[0,0,0];for(var n=0;n<e.length;n++)t[0]+=e[n][0],t[1]+=e[n][1],t[2]+=e[n][2];return t[0]/=e.length,t[1]/=e.length,t[2]/=e.length,t}function r(r,i){var s=e(r,0,0),o=e(r,r.width-1,0),u=e(r,0,r.height-1),a=e(r,r.width-1,r.height-1),f=i||10;if(t(s,o)<f&&t(o,a)<f&&t(a,u)<f&&t(u,s)<f){var l=n([o,s,a,u]),c=[];for(var h=0;h<r.width*r.height;h++){var p=t(l,[r.data[h*4],r.data[h*4+1],r.data[h*4+2]]);c[h]=p<f?0:255}return c}}function i(e,t){for(var n=0;n<e.width*e.height;n++)e.data[4*n+3]=t[n]}function s(e,t,n){var r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),o=[];for(var u=0;u<n;u++)for(var a=0;a<t;a++){var f=u*t+a,l=0;for(var c=0;c<i;c++)for(var h=0;h<i;h++){var p=u+c-s,d=a+h-s;if(p>=0&&p<n&&d>=0&&d<t){var v=p*t+d,m=r[c*i+h];l+=e[v]*m}}o[f]=l===2040?255:0}return o}function o(e,t,n){var r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),o=[];for(var u=0;u<n;u++)for(var a=0;a<t;a++){var f=u*t+a,l=0;for(var c=0;c<i;c++)for(var h=0;h<i;h++){var p=u+c-s,d=a+h-s;if(p>=0&&p<n&&d>=0&&d<t){var v=p*t+d,m=r[c*i+h];l+=e[v]*m}}o[f]=l>=1020?255:0}return o}function u(e,t,n){var r=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),o=[];for(var u=0;u<n;u++)for(var a=0;a<t;a++){var f=u*t+a,l=0;for(var c=0;c<i;c++)for(var h=0;h<i;h++){var p=u+c-s,d=a+h-s;if(p>=0&&p<n&&d>=0&&d<t){var v=p*t+d,m=r[c*i+h];l+=e[v]*m}}o[f]=l}return o}Kinetic.Filters.Mask=function(e){var t=this.threshold(),n=r(e,t);return n&&(n=s(n,e.width,e.height),n=o(n,e.width,e.height),n=u(n,e.width,e.height),i(e,n)),e},Kinetic.Factory.addGetterSetter(Kinetic.Node,"threshold",0,null,Kinetic.Factory.afterSetFilter)}(),function(){Kinetic.Filters.RGB=function(e){var t=e.data,n=t.length,r=this.red(),i=this.green(),s=this.blue(),o,u;for(o=0;o<n;o+=4)u=(.34*t[o]+.5*t[o+1]+.16*t[o+2])/255,t[o]=u*r,t[o+1]=u*i,t[o+2]=u*s,t[o+3]=t[o+3]},Kinetic.Factory.addGetterSetter(Kinetic.Node,"red",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)}),Kinetic.Factory.addGetterSetter(Kinetic.Node,"green",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)}),Kinetic.Factory.addGetterSetter(Kinetic.Node,"blue",0,Kinetic.Validators.RGBComponent,Kinetic.Factory.afterSetFilter)}(),function(){Kinetic.Filters.HSV=function(e){var t=e.data,n=t.length,r=this.value(),i=this.saturation(),s=Math.abs(this.hue()+360)%360,o,u=r*i*Math.cos(s*Math.PI/180),a=r*i*Math.sin(s*Math.PI/180),f=.299*r+.701*u+.167*a,l=.587*r-.587*u+.33*a,c=.114*r-.114*u-.497*a,h=.299*r-.299*u-.328*a,p=.587*r+.413*u+.035*a,d=.114*r-.114*u+.293*a,v=.299*r-.3*u+1.25*a,m=.587*r-.586*u-1.05*a,g=.114*r+.886*u-.2*a,y,b,w,E;for(o=0;o<n;o+=4)y=t[o+0],b=t[o+1],w=t[o+2],E=t[o+3],t[o+0]=f*y+l*b+c*w,t[o+1]=h*y+p*b+d*w,t[o+2]=v*y+m*b+g*w,t[o+3]=E},Kinetic.Factory.addGetterSetter(Kinetic.Node,"hue",0,null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"saturation",1,null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"value",1,null,Kinetic.Factory.afterSetFilter)}(),function(){Kinetic.Filters.Emboss=function(e){var t=this.embossStrength()*10,n=this.embossWhiteLevel()*255,r=this.embossDirection(),i=this.embossBlend(),s=0,o=0,u=e.data,a=!1,f=e.width,l=e.height,c=f*4,h=l;switch(r){case"top-left":s=-1,o=-1;break;case"top":s=-1,o=0;break;case"top-right":s=-1,o=1;break;case"right":s=0,o=1;break;case"bottom-right":s=1,o=1;break;case"bottom":s=1,o=0;break;case"bottom-left":s=1,o=-1;break;case"left":s=0,o=-1}do{var p=(h-1)*c,d=s;h+d<1&&(d=0),h+d>l&&(d=0);var v=(h-1+d)*f*4,m=f;do{var g=p+(m-1)*4,y=o;m+y<1&&(y=0),m+y>f&&(y=0);var b=v+(m-1+y)*4,w=u[g]-u[b],E=u[g+1]-u[b+1],S=u[g+2]-u[b+2],x=w,T=x>0?x:-x,N=E>0?E:-E,C=S>0?S:-S;N>T&&(x=E),C>T&&(x=S),x*=t;if(i){var k=u[g]+x,L=u[g+1]+x,A=u[g+2]+x;u[g]=k>255?255:k<0?0:k,u[g+1]=L>255?255:L<0?0:L,u[g+2]=A>255?255:A<0?0:A}else{var O=n-x;O<0?O=0:O>255&&(O=255),u[g]=u[g+1]=u[g+2]=O}}while(--m)}while(--h)},Kinetic.Factory.addGetterSetter(Kinetic.Node,"embossStrength",.5,null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"embossWhiteLevel",.5,null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"embossDirection","top-left",null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"embossBlend",!1,null,Kinetic.Factory.afterSetFilter)}(),function(){function e(e,t,n,r,i){var s=n-t,o=i-r,u;return s===0?r+o/2:o===0?r:(u=(e-t)/s,u=o*u+r,u)}Kinetic.Filters.Enhance=function(t){var n=t.data,r=n.length,i=n[0],s=i,o,u=n[1],a=u,f,l=n[2],c=l,h,p=n[3],d=p,v,m,g=this.enhance();if(g===0)return;for(m=0;m<r;m+=4)o=n[m+0],o<i?i=o:o>s&&(s=o),f=n[m+1],f<u?u=f:f>a&&(a=f),h=n[m+2],h<l?l=h:h>c&&(c=h);s===i&&(s=255,i=0),a===u&&(a=255,u=0),c===l&&(c=255,l=0),d===p&&(d=255,p=0);var y,b,w,E,S,x,T,N,C,k,L,A;g>0?(b=s+g*(255-s),w=i-g*(i-0),S=a+g*(255-a),x=u-g*(u-0),N=c+g*(255-c),A=l-g*(l-0),L=d+g*(255-d),C=p-g*(p-0)):(y=(s+i)*.5,b=s+g*(s-y),w=i+g*(i-y),E=(a+u)*.5,S=a+g*(a-E),x=u+g*(u-E),T=(c+l)*.5,N=c+g*(c-T),A=l+g*(l-T),k=(d+p)*.5,L=d+g*(d-k),C=p+g*(p-k));for(m=0;m<r;m+=4)n[m+0]=e(n[m+0],i,s,w,b),n[m+1]=e(n[m+1],u,a,x,S),n[m+2]=e(n[m+2],l,c,A,N)},Kinetic.Factory.addGetterSetter(Kinetic.Node,"enhance",0,null,Kinetic.Factory.afterSetFilter)}(),function(){Kinetic.Filters.Posterize=function(e){var t=Math.round(this.levels()*254)+1,n=e.data,r=n.length,i=255/t,s;for(s=0;s<r;s+=1)n[s]=Math.floor(n[s]/i)*i},Kinetic.Factory.addGetterSetter(Kinetic.Node,"levels",.5,null,Kinetic.Factory.afterSetFilter)}(),function(){Kinetic.Filters.Noise=function(e){var t=this.noise()*255,n=e.data,r=n.length,i=t/2,s;for(s=0;s<r;s+=4)n[s+0]+=i-2*i*Math.random(),n[s+1]+=i-2*i*Math.random(),n[s+2]+=i-2*i*Math.random()},Kinetic.Factory.addGetterSetter(Kinetic.Node,"noise",.2,null,Kinetic.Factory.afterSetFilter)}(),function(){Kinetic.Filters.Pixelate=function(e){var t=Math.ceil(this.pixelSize()),n=e.width,r=e.height,e=e.data,i,s,o,u=t*t,a,f,l,c,h=Math.ceil(n/t),p=Math.ceil(r/t),d,v,m,g,y,b,w;for(y=0;y<h;y+=1)for(b=0;b<p;b+=1){a=0,f=0,l=0,c=0,d=y*t,v=d+t,m=b*t,g=m+t,w=0;for(i=d;i<v;i+=1){if(i>=n)continue;for(s=m;s<g;s+=1){if(s>=r)continue;o=(n*s+i)*4,a+=e[o+0],f+=e[o+1],l+=e[o+2],c+=e[o+3],w+=1}}a/=w,f/=w,l/=w,alphas=c/w;for(i=d;i<v;i+=1){if(i>=n)continue;for(s=m;s<g;s+=1){if(s>=r)continue;o=(n*s+i)*4,e[o+0]=a,e[o+1]=f,e[o+2]=l,e[o+3]=c}}}},Kinetic.Factory.addGetterSetter(Kinetic.Node,"pixelSize",8,null,Kinetic.Factory.afterSetFilter)}(),function(){Kinetic.Filters.Threshold=function(e){var t=this.threshold()*255,n=e.data,r=n.length,i;for(i=0;i<r;i+=1)n[i]=n[i]<t?0:255},Kinetic.Factory.addGetterSetter(Kinetic.Node,"threshold",.5,null,Kinetic.Factory.afterSetFilter)}(),function(){Kinetic.Filters.Sepia=function(e){var t=e.data,n=e.width,r=e.height,i=n*4,s,o,u,a,f,l,c,h,p;do{s=(r-1)*i,o=n;do u=s+(o-1)*4,a=t[u],f=t[u+1],l=t[u+2],c=a*.393+f*.769+l*.189,h=a*.349+f*.686+l*.168,p=a*.272+f*.534+l*.131,t[u]=c>255?255:c,t[u+1]=h>255?255:h,t[u+2]=p>255?255:p,t[u+3]=t[u+3];while(--o)}while(--r)}}(),function(){Kinetic.Filters.Solarize=function(e){var t=e.data,n=e.width,r=e.height,i=n*4,s=r;do{var o=(s-1)*i,u=n;do{var a=o+(u-1)*4,f=t[a],l=t[a+1],c=t[a+2];f>127&&(f=255-f),l>127&&(l=255-l),c>127&&(c=255-c),t[a]=f,t[a+1]=l,t[a+2]=c}while(--u)}while(--s)}}(),function(){var e=function(e,t,n){var r=e.data,i=t.data,s=e.width,o=e.height,u=n.polarCenterX||s/2,a=n.polarCenterY||o/2,f,l,c,h,p,d,v=0,m=0,g=0,y=0,b,w=Math.sqrt(u*u+a*a);c=s-u,h=o-a,b=Math.sqrt(c*c+h*h),w=b>w?b:w;var E=o,S=s,x,T,N=360/S*Math.PI/180,C,k,L,A,O,M,_,D,P,H,B;for(T=0;T<S;T+=1){C=Math.sin(T*N),k=Math.cos(T*N);for(x=0;x<E;x+=1)c=u+w*x/E*k,h=a+w*x/E*C,c<=1&&(c=1),c>=s-.5&&(c=s-1),h<=1&&(h=1),h>=o-.5&&(h=o-1),L=c-.5,A=c+.5,O=Math.floor(L),M=Math.floor(A),_=h-.5,D=h+.5,P=Math.floor(_),H=Math.floor(D),B=(1-(L-O))*(1-(_-P)),f=(P*s+O)*4,v=r[f+0]*B,m=r[f+1]*B,g=r[f+2]*B,y=r[f+3]*B,B=(1-(L-O))*(D-H),f=(H*s+O)*4,v+=r[f+0]*B,m+=r[f+1]*B,g+=r[f+2]*B,y+=r[f+3]*B,B=(A-M)*(D-H),f=(H*s+M)*4,v+=r[f+0]*B,m+=r[f+1]*B,g+=r[f+2]*B,y+=r[f+3]*B,B=(A-M)*(1-(_-P)),f=(P*s+M)*4,v+=r[f+0]*B,m+=r[f+1]*B,g+=r[f+2]*B,y+=r[f+3]*B,f=(T+x*s)*4,i[f+0]=v,i[f+1]=m,i[f+2]=g,i[f+3]=y}},t=function(e,t,n){var r=e.data,i=t.data,s=e.width,o=e.height,u=n.polarCenterX||s/2,a=n.polarCenterY||o/2,f,l,c,h,p,d,v,m,g=0,y=0,b=0,w=0,E,S=Math.sqrt(u*u+a*a);c=s-u,h=o-a,E=Math.sqrt(c*c+h*h),S=E>S?E:S;var x=o,T=s,N,C,k=n.polarRotation||0,L=T/360*180/Math.PI,A,O,M,_,D,P,H,B,j;for(c=0;c<s;c+=1)for(h=0;h<o;h+=1)p=c-u,d=h-a,N=Math.sqrt(p*p+d*d)*x/S,C=(Math.atan2(d,p)*180/Math.PI+360+k)%360,C=C*T/360,A=C-.5,O=C+.5,M=Math.floor(A),_=Math.floor(O),D=N-.5,P=N+.5,H=Math.floor(D),B=Math.floor(P),j=(1-(A-M))*(1-(D-H)),f=(H*s+M)*4,g=r[f+0]*j,y=r[f+1]*j,b=r[f+2]*j,w=r[f+3]*j,j=(1-(A-M))*(P-B),f=(B*s+M)*4,g+=r[f+0]*j,y+=r[f+1]*j,b+=r[f+2]*j,w+=r[f+3]*j,j=(O-_)*(P-B),f=(B*s+_)*4,g+=r[f+0]*j,y+=r[f+1]*j,b+=r[f+2]*j,w+=r[f+3]*j,j=(O-_)*(1-(D-H)),f=(H*s+_)*4,g+=r[f+0]*j,y+=r[f+1]*j,b+=r[f+2]*j,w+=r[f+3]*j,f=(h*s+c)*4,i[f+0]=g,i[f+1]=y,i[f+2]=b,i[f+3]=w},n=document.createElement("canvas");Kinetic.Filters.Kaleidoscope=function(r){var i=r.width,s=r.height,o=Math.round(this.kaleidoscopePower()),u=Math.round(this.kaleidoscopeAngle()),a=Math.floor(i*(u%360)/360);if(o<1)return;n.width=i,n.height=s;var f=n.getContext("2d").getImageData(0,0,i,s);e(r,f,{polarCenterX:i/2,polarCenterY:s/2});var l=i/Math.pow(2,o);while(l<=8)l*=2,o-=1;l=Math.ceil(l);var c=l,h=0,p=c,d=1;a+l>i&&(h=c,p=0,d=-1);for(m=0;m<s;m+=1)for(v=h;v!==p;v+=d)g=Math.round(v+a)%i,x=(i*m+g)*4,b=f.data[x+0],w=f.data[x+1],E=f.data[x+2],S=f.data[x+3],T=(i*m+v)*4,f.data[T+0]=b,f.data[T+1]=w,f.data[T+2]=E,f.data[T+3]=S;var v,m,g,y,b,w,E,S,x,T;for(m=0;m<s;m+=1){c=Math.floor(l);for(y=0;y<o;y+=1){for(v=0;v<c+1;v+=1)x=(i*m+v)*4,b=f.data[x+0],w=f.data[x+1],E=f.data[x+2],S=f.data[x+3],T=(i*m+c*2-v-1)*4,f.data[T+0]=b,f.data[T+1]=w,f.data[T+2]=E,f.data[T+3]=S;c*=2}}t(f,r,{polarRotation:0})},Kinetic.Factory.addGetterSetter(Kinetic.Node,"kaleidoscopePower",2,null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"kaleidoscopeAngle",0,null,Kinetic.Factory.afterSetFilter)}(),function(){function n(e){window.setTimeout(e,1e3/60)}var e=500;Kinetic.Animation=function(e,t){this.func=e,this.setLayers(t),this.id=Kinetic.Animation.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:(new Date).getTime()}},Kinetic.Animation.prototype={setLayers:function(e){var t=[];e?e.length>0?t=e:t=[e]:t=[],this.layers=t},getLayers:function(){return this.layers},addLayer:function(e){var t=this.layers,n,r;if(t){n=t.length;for(r=0;r<n;r++)if(t[r]._id===e._id)return!1}else this.layers=[];return this.layers.push(e),!0},isRunning:function(){var e=Kinetic.Animation,t=e.animations;for(var n=0;n<t.length;n++)if(t[n].id===this.id)return!0;return!1},start:function(){this.stop(),this.frame.timeDiff=0,this.frame.lastTime=(new Date).getTime(),Kinetic.Animation._addAnimation(this)},stop:function(){Kinetic.Animation._removeAnimation(this)},_updateFrameObject:function(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}},Kinetic.Animation.animations=[],Kinetic.Animation.animIdCounter=0,Kinetic.Animation.animRunning=!1,Kinetic.Animation._addAnimation=function(e){this.animations.push(e),this._handleAnimation()},Kinetic.Animation._removeAnimation=function(e){var t=e.id,n=this.animations,r=n.length;for(var i=0;i<r;i++)if(n[i].id===t){this.animations.splice(i,1);break}},Kinetic.Animation._runFrames=function(){var e={},t=this.animations,n,r,i,s,o,u,a,f;for(s=0;s<t.length;s++){n=t[s],r=n.layers,i=n.func,n._updateFrameObject((new Date).getTime()),u=r.length;for(o=0;o<u;o++)a=r[o],a._id!==undefined&&(e[a._id]=a);i&&i.call(n,n.frame)}for(f in e)e[f].draw()},Kinetic.Animation._animationLoop=function(){var e=this;this.animations.length>0?(this._runFrames(),Kinetic.Animation.requestAnimFrame(function(){e._animationLoop()})):this.animRunning=!1},Kinetic.Animation._handleAnimation=function(){var e=this;this.animRunning||(this.animRunning=!0,e._animationLoop())};var t=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||n}();Kinetic.Animation.requestAnimFrame=function(e){var r=Kinetic.isDragging?n:t;r(e)};var r=Kinetic.Node.prototype.moveTo;Kinetic.Node.prototype.moveTo=function(e){r.call(this,e)},Kinetic.Layer.prototype.batchDraw=function(){var t=this;this.batchAnim||(this.batchAnim=new Kinetic.Animation(function(){t.lastBatchDrawTime&&(new Date).getTime()-t.lastBatchDrawTime>e&&t.batchAnim.stop()},this)),this.lastBatchDrawTime=(new Date).getTime(),this.batchAnim.isRunning()||(this.draw(),this.batchAnim.start())},Kinetic.Stage.prototype.batchDraw=function(){this.getChildren().each(function(e){e.batchDraw()})}}(),function(){var e={node:1,duration:1,easing:1,onFinish:1,yoyo:1},t=1,n=2,r=3,i=0;Kinetic.Tween=function(t){var n=this,r=t.node,o=r._id,u=t.duration||1,a=t.easing||Kinetic.Easings.Linear,f=!!t.yoyo,l,c,h,p;this.node=r,this._id=i++,this.anim=new Kinetic.Animation(function(){n.tween.onEnterFrame()},r.getLayer()||r.getLayers()),this.tween=new s(l,function(e){n._tweenFunc(e)},a,0,1,u*1e3,f),this._addListeners(),Kinetic.Tween.attrs[o]||(Kinetic.Tween.attrs[o]={}),Kinetic.Tween.attrs[o][this._id]||(Kinetic.Tween.attrs[o][this._id]={}),Kinetic.Tween.tweens[o]||(Kinetic.Tween.tweens[o]={});for(l in t)e[l]===undefined&&this._addAttr(l,t[l]);this.reset(),this.onFinish=t.onFinish,this.onReset=t.onReset},Kinetic.Tween.attrs={},Kinetic.Tween.tweens={},Kinetic.Tween.prototype={_addAttr:function(e,t){var n=this.node,r=n._id,i,s,o,u,a,f,l;o=Kinetic.Tween.tweens[r][e],o&&delete Kinetic.Tween.attrs[r][o][e],i=n.getAttr(e);if(Kinetic.Util._isArray(t)){s=[],a=t.length;for(u=0;u<a;u++)s.push(t[u]-i[u])}else s=t-i;Kinetic.Tween.attrs[r][this._id][e]={start:i,diff:s},Kinetic.Tween.tweens[r][e]=this._id},_tweenFunc:function(e){var t=this.node,n=Kinetic.Tween.attrs[t._id][this._id],r,i,s,o,u,a,f,l,c;for(r in n){i=n[r],s=i.start,o=i.diff;if(Kinetic.Util._isArray(s)){u=[],f=s.length;for(a=0;a<f;a++)u.push(s[a]+o[a]*e)}else u=s+o*e;t.setAttr(r,u)}},_addListeners:function(){var e=this;this.tween.onPlay=function(){e.anim.start()},this.tween.onReverse=function(){e.anim.start()},this.tween.onPause=function(){e.anim.stop()},this.tween.onFinish=function(){e.onFinish&&e.onFinish()},this.tween.onReset=function(){e.onReset&&e.onReset()}},play:function(){return this.tween.play(),this},reverse:function(){return this.tween.reverse(),this},reset:function(){var e=this.node;return this.tween.reset(),(e.getLayer()||e.getLayers()).draw(),this},seek:function(e){var t=this.node;return this.tween.seek(e*1e3),(t.getLayer()||t.getLayers()).draw(),this},pause:function(){return this.tween.pause(),this},finish:function(){var e=this.node;return this.tween.finish(),(e.getLayer()||e.getLayers()).draw(),this},destroy:function(){var e=this.node._id,t=this._id,n=Kinetic.Tween.tweens[e],r;this.pause();for(r in n)delete Kinetic.Tween.tweens[e][r];delete Kinetic.Tween.attrs[e][t]}};var s=function(e,t,n,r,i,s,o){this.prop=e,this.propFunc=t,this.begin=r,this._pos=r,this.duration=s,this._change=0,this.prevPos=0,this.yoyo=o,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=i-this.begin,this.pause()};s.prototype={fire:function(e){var t=this[e];t&&t()},setTime:function(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())},getTime:function(){return this._time},setPosition:function(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e},getPosition:function(e){return e===undefined&&(e=this._time),this.func(e,this.begin,this._change,this.duration)},play:function(){this.state=n,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},reverse:function(){this.state=r,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},seek:function(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")},reset:function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},finish:function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},update:function(){this.setPosition(this.getPosition(this._time))},onEnterFrame:function(){var e=this.getTimer()-this._startTime;this.state===n?this.setTime(e):this.state===r&&this.setTime(this.duration-e)},pause:function(){this.state=t,this.fire("onPause")},getTimer:function(){return(new Date).getTime()}},Kinetic.Easings={BackEaseIn:function(e,t,n,r,i,s){var o=1.70158;return n*(e/=r)*e*((o+1)*e-o)+t},BackEaseOut:function(e,t,n,r,i,s){var o=1.70158;return n*((e=e/r-1)*e*((o+1)*e+o)+1)+t},BackEaseInOut:function(e,t,n,r,i,s){var o=1.70158;return(e/=r/2)<1?n/2*e*e*(((o*=1.525)+1)*e-o)+t:n/2*((e-=2)*e*(((o*=1.525)+1)*e+o)+2)+t},ElasticEaseIn:function(e,t,n,r,i,s){var o=0;return e===0?t:(e/=r)==1?t+n:(s||(s=r*.3),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*2*Math.PI/s))+t)},ElasticEaseOut:function(e,t,n,r,i,s){var o=0;return e===0?t:(e/=r)==1?t+n:(s||(s=r*.3),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*e)*Math.sin((e*r-o)*2*Math.PI/s)+n+t)},ElasticEaseInOut:function(e,t,n,r,i,s){var o=0;return e===0?t:(e/=r/2)==2?t+n:(s||(s=r*.3*1.5),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),e<1?-0.5*i*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*2*Math.PI/s)+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*r-o)*2*Math.PI/s)*.5+n+t)},BounceEaseOut:function(e,t,n,r){return(e/=r)<1/2.75?n*7.5625*e*e+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},BounceEaseIn:function(e,t,n,r){return n-Kinetic.Easings.BounceEaseOut(r-e,0,n,r)+t},BounceEaseInOut:function(e,t,n,r){return e<r/2?Kinetic.Easings.BounceEaseIn(e*2,0,n,r)*.5+t:Kinetic.Easings.BounceEaseOut(e*2-r,0,n,r)*.5+n*.5+t},EaseIn:function(e,t,n,r){return n*(e/=r)*e+t},EaseOut:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},EaseInOut:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},StrongEaseIn:function(e,t,n,r){return n*(e/=r)*e*e*e*e+t},StrongEaseOut:function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t},StrongEaseInOut:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},Linear:function(e,t,n,r){return n*e/r+t}}}(),function(){Kinetic.DD={anim:new Kinetic.Animation,isDragging:!1,offset:{x:0,y:0},node:null,_drag:function(e){var t=Kinetic.DD,n=t.node;n&&(n._setDragPosition(e),t.isDragging||(t.isDragging=!0,n.fire("dragstart",e,!0)),n.fire("dragmove",e,!0))},_endDragBefore:function(e){var t=Kinetic.DD,n=t.node,r,i;n&&(r=n.nodeType,i=n.getLayer(),t.anim.stop(),t.isDragging&&(t.isDragging=!1,Kinetic.listenClickTap=!1,e&&(e.dragEndNode=n)),delete t.node,(i||n).draw())},_endDragAfter:function(e){e=e||{};var t=e.dragEndNode;e&&t&&t.fire("dragend",e,!0)}},Kinetic.Node.prototype.startDrag=function(){var e=Kinetic.DD,t=this.getStage(),n=this.getLayer(),r=t.getPointerPosition(),i=this.getAbsolutePosition();r&&(e.node&&e.node.stopDrag(),e.node=this,e.offset.x=r.x-i.x,e.offset.y=r.y-i.y,e.anim.setLayers(n||this.getLayers()),e.anim.start(),this._setDragPosition())},Kinetic.Node.prototype._setDragPosition=function(e){var t=Kinetic.DD,n=this.getStage().getPointerPosition(),r=this.getDragBoundFunc(),i={x:n.x-t.offset.x,y:n.y-t.offset.y};r!==undefined&&(i=r.call(this,i,e)),this.setAbsolutePosition(i)},Kinetic.Node.prototype.stopDrag=function(){var e=Kinetic.DD,t={};e._endDragBefore(t),e._endDragAfter(t)},Kinetic.Node.prototype.setDraggable=function(e){this._setAttr("draggable",e),this._dragChange()};var e=Kinetic.Node.prototype.destroy;Kinetic.Node.prototype.destroy=function(){var t=Kinetic.DD;t.node&&t.node._id===this._id&&this.stopDrag(),e.call(this)},Kinetic.Node.prototype.isDragging=function(){var e=Kinetic.DD;return e.node&&e.node._id===this._id&&e.isDragging},Kinetic.Node.prototype._listenDrag=function(){var e=this;this._dragCleanup(),this.getClassName()==="Stage"?this.on("contentMousedown.kinetic contentTouchstart.kinetic",function(t){Kinetic.DD.node||e.startDrag(t)}):this.on("mousedown.kinetic touchstart.kinetic",function(t){Kinetic.DD.node||e.startDrag(t)})},Kinetic.Node.prototype._dragChange=function(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var e=this.getStage(),t=Kinetic.DD;e&&t.node&&t.node._id===this._id&&t.node.stopDrag()}},Kinetic.Node.prototype._dragCleanup=function(){this.getClassName()==="Stage"?(this.off("contentMousedown.kinetic"),this.off("contentTouchstart.kinetic")):(this.off("mousedown.kinetic"),this.off("touchstart.kinetic"))},Kinetic.Factory.addGetterSetter(Kinetic.Node,"dragBoundFunc"),Kinetic.Factory.addGetter(Kinetic.Node,"draggable",!1),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"draggable");var t=document.documentElement;t.addEventListener("mouseup",Kinetic.DD._endDragBefore,!0),t.addEventListener("touchend",Kinetic.DD._endDragBefore,!0),t.addEventListener("mouseup",Kinetic.DD._endDragAfter,!1),t.addEventListener("touchend",Kinetic.DD._endDragAfter,!1)}(),function(){Kinetic.Util.addMethods(Kinetic.Container,{__init:function(e){this.children=new Kinetic.Collection,Kinetic.Node.call(this,e)},getChildren:function(){return this.children},hasChildren:function(){return this.getChildren().length>0},removeChildren:function(){var e=this.children,t;while(e.length>0)t=e[0],t.hasChildren()&&t.removeChildren(),t.remove();return this},destroyChildren:function(){var e=this.children;while(e.length>0)e[0].destroy();return this},add:function(e){var t=this.children;return this._validateAdd(e),e.index=t.length,e.parent=this,t.push(e),this._fire("add",{child:e}),this},destroy:function(){this.hasChildren()&&this.destroyChildren(),Kinetic.Node.prototype.destroy.call(this)},find:function(e){var t=[],n=e.replace(/ /g,"").split(","),r=n.length,i,s,o,u,a,f,l;for(i=0;i<r;i++){o=n[i];if(o.charAt(0)==="#")a=this._getNodeById(o.slice(1)),a&&t.push(a);else if(o.charAt(0)===".")u=this._getNodesByName(o.slice(1)),t=t.concat(u);else{f=this.getChildren(),l=f.length;for(s=0;s<l;s++)t=t.concat(f[s]._get(o))}}return Kinetic.Collection.toCollection(t)},_getNodeById:function(e){var t=Kinetic.ids[e];return t!==undefined&&this.isAncestorOf(t)?t:null},_getNodesByName:function(e){var t=Kinetic.names[e]||[];return this._getDescendants(t)},_get:function(e){var t=Kinetic.Node.prototype._get.call(this,e),n=this.getChildren(),r=n.length;for(var i=0;i<r;i++)t=t.concat(n[i]._get(e));return t},toObject:function(){var e=Kinetic.Node.prototype.toObject.call(this);e.children=[];var t=this.getChildren(),n=t.length;for(var r=0;r<n;r++){var i=t[r];e.children.push(i.toObject())}return e},_getDescendants:function(e){var t=[],n=e.length;for(var r=0;r<n;r++){var i=e[r];this.isAncestorOf(i)&&t.push(i)}return t},isAncestorOf:function(e){var t=e.getParent();while(t){if(t._id===this._id)return!0;t=t.getParent()}return!1},clone:function(e){var t=Kinetic.Node.prototype.clone.call(this,e);return this.getChildren().each(function(e){t.add(e.clone())}),t},getAllIntersections:function(e){var t=[];return this.find("Shape").each(function(n){n.isVisible()&&n.intersects(e)&&t.push(n)}),t},_setChildrenIndices:function(){this.children.each(function(e,t){e.index=t})},drawScene:function(e){var t=this.getLayer(),n=e||t&&t.getCanvas(),r=n&&n.getContext(),i=this._cache.canvas,s=i&&i.scene;return this.isVisible()&&(s?this._drawCachedSceneCanvas(r):this._drawChildren(n,"drawScene")),this},drawHit:function(e){var t=this.getLayer(),n=e||t&&t.hitCanvas,r=n&&n.getContext(),i=this._cache.canvas,s=i&&i.hit;return this.shouldDrawHit()&&(s?this._drawCachedHitCanvas(r):this._drawChildren(n,"drawHit")),this},_drawChildren:function(e,t){var n=e&&e.getContext(),r=this.getClipWidth(),i=this.getClipHeight(),s=r&&i,o,u;s&&(o=this.getClipX(),u=this.getClipY(),n.save(),n._applyTransform(this),n.beginPath(),n.rect(o,u,r,i),n.clip(),n.reset()),this.children.each(function(n){n[t](e)}),s&&n.restore()}}),Kinetic.Util.extend(Kinetic.Container,Kinetic.Node),Kinetic.Container.prototype.get=Kinetic.Container.prototype.find,Kinetic.Factory.addComponentsGetterSetter(Kinetic.Container,"clip",["x","y","width","height"]),Kinetic.Factory.addGetterSetter(Kinetic.Container,"clipX"),Kinetic.Factory.addGetterSetter(Kinetic.Container,"clipY"),Kinetic.Factory.addGetterSetter(Kinetic.Container,"clipWidth"),Kinetic.Factory.addGetterSetter(Kinetic.Container,"clipHeight"),Kinetic.Collection.mapMethods(Kinetic.Container)}(),function(){function t(e){e.fill()}function n(e){e.stroke()}function r(e){e.fill()}function i(e){e.stroke()}function s(){this._clearCache(e)}var e="hasShadow";Kinetic.Util.addMethods(Kinetic.Shape,{__init:function(e){this.nodeType="Shape",this._fillFunc=t,this._strokeFunc=n,this._fillFuncHit=r,this._strokeFuncHit=i;var o=Kinetic.shapes,u;for(;;){u=Kinetic.Util.getRandomColor();if(u&&!(u in o))break}this.colorKey=u,o[u]=this,Kinetic.Node.call(this,e),this.on("shadowColorChange.kinetic shadowBlurChange.kinetic shadowOffsetChange.kinetic shadowOpacityChange.kinetic shadowEnabledChanged.kinetic",s)},hasChildren:function(){return!1},getChildren:function(){return[]},getContext:function(){return this.getLayer().getContext()},getCanvas:function(){return this.getLayer().getCanvas()},hasShadow:function(){return this._getCache(e,this._hasShadow)},_hasShadow:function(){return this.getShadowEnabled()&&this.getShadowOpacity()!==0&&!!(this.getShadowColor()||this.getShadowBlur()||this.getShadowOffsetX()||this.getShadowOffsetY())},hasFill:function(){return!!(this.getFill()||this.getFillPatternImage()||this.getFillLinearGradientColorStops()||this.getFillRadialGradientColorStops())},hasStroke:function(){return!!(this.stroke()||this.strokeRed()||this.strokeGreen()||this.strokeBlue())},_get:function(e){return this.className===e||this.nodeType===e?[this]:[]},intersects:function(e){var t=this.getStage(),n=t.bufferHitCanvas,r;return n.getContext().clear(),this.drawScene(n),r=n.context.getImageData(e.x|0,e.y|0,1,1).data,r[3]>0},destroy:function(){Kinetic.Node.prototype.destroy.call(this),delete Kinetic.shapes[this.colorKey]},_useBufferCanvas:function(){return(this.hasShadow()||this.getAbsoluteOpacity()!==1)&&this.hasFill()&&this.hasStroke()},drawScene:function(e){var t=e||this.getLayer().getCanvas(),n=t.getContext(),r=this._cache.canvas,i=this.sceneFunc(),s=this.hasShadow(),o,u,a;return this.isVisible()&&(r?this._drawCachedSceneCanvas(n):i&&(n.save(),this._useBufferCanvas()?(o=this.getStage(),u=o.bufferCanvas,a=u.getContext(),a.clear(),a.save(),a._applyLineJoin(this),a._applyTransform(this),i.call(this,a),a.restore(),s&&(n.save(),n._applyShadow(this),n.drawImage(u._canvas,0,0),n.restore()),n._applyOpacity(this),n.drawImage(u._canvas,0,0)):(n._applyLineJoin(this),n._applyTransform(this),s&&(n.save(),n._applyShadow(this),i.call(this,n),n.restore()),n._applyOpacity(this),i.call(this,n)),n.restore())),this},drawHit:function(e){var t=e||this.getLayer().hitCanvas,n=t.getContext(),r=this.hitFunc()||this.sceneFunc(),i=this._cache.canvas,s=i&&i.hit;return this.shouldDrawHit()&&(s?this._drawCachedHitCanvas(n):r&&(n.save(),n._applyLineJoin(this),n._applyTransform(this),r.call(this,n),n.restore())),this},drawHitFromCache:function(e){var t=e||0,n=this._cache.canvas,r=this._getCachedSceneCanvas(),i=r.getContext(),s=n.hit,o=s.getContext(),u=r.getWidth(),a=r.getHeight(),f,l,c,h,p,d,v,m;o.clear();try{f=i.getImageData(0,0,u,a),l=f.data,c=o.getImageData(0,0,u,a),h=c.data,p=l.length,d=Kinetic.Util._hexToRgb(this.colorKey);for(v=0;v<p;v+=4)m=l[v+3],m>t&&(h[v]=d.r,h[v+1]=d.g,h[v+2]=d.b,h[v+3]=255);o.putImageData(c,0,0)}catch(g){Kinetic.Util.warn("Unable to draw hit graph from cached scene canvas. "+g.message)}return this}}),Kinetic.Util.extend(Kinetic.Shape,Kinetic.Node),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"stroke"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeRed",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeGreen",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeBlue",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeAlpha",1,Kinetic.Validators.alphaComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeWidth",2),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"lineJoin"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"lineCap"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"sceneFunc"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"hitFunc"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"dash"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowColor"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowRed",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowGreen",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowBlue",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowAlpha",1,Kinetic.Validators.alphaComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowBlur"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowOpacity"),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"shadowOffset",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowOffsetX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowOffsetY",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternImage"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fill"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRed",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillGreen",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillBlue",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillAlpha",1,Kinetic.Validators.alphaComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternY",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillLinearGradientColorStops"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientStartRadius",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientEndRadius",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientColorStops"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternRepeat","repeat"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillEnabled",!0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeEnabled",!0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowEnabled",!0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"dashEnabled",!0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeScaleEnabled",!0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPriority","color"),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillPatternOffset",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternOffsetX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternOffsetY",0),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillPatternScale",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternScaleX",1),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternScaleY",1),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillLinearGradientStartPoint",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillLinearGradientStartPointX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillLinearGradientStartPointY",0),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillLinearGradientEndPoint",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillLinearGradientEndPointX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillLinearGradientEndPointY",0),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillRadialGradientStartPoint",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientStartPointX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientStartPointY",0),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillRadialGradientEndPoint",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientEndPointX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientEndPointY",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternRotation",0),Kinetic.Factory.backCompat(Kinetic.Shape,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),Kinetic.Collection.mapMethods(Kinetic.Shape)}(),function(){function R(e,t){e.content.addEventListener(t,function(n){e[B+t](n)},!1)}var e="Stage",t="string",n="px",r="mouseout",i="mouseleave",s="mouseover",o="mouseenter",u="mousemove",a="mousedown",f="mouseup",l="click",c="dblclick",h="touchstart",p="touchend",d="tap",v="dbltap",m="touchmove",g="contentMouseout",y="contentMouseleave",b="contentMouseover",w="contentMouseenter",E="contentMousemove",S="contentMousedown",x="contentMouseup",T="contentClick",N="contentDblclick",C="contentTouchstart",k="contentTouchend",L="contentTap",A="contentDbltap",O="contentTouchmove",M="div",_="relative",D="inline-block",P="kineticjs-content",H=" ",B="_",j="container",F="",I=[a,u,f,r,h,m,p,s],q=I.length;Kinetic.Util.addMethods(Kinetic.Stage,{___init:function(t){this.nodeType=e,Kinetic.Container.call(this,t),this._id=Kinetic.idCounter++,this._buildDOM(),this._bindContentEvents(),this._enableNestedTransforms=!1,Kinetic.stages.push(this)},_validateAdd:function(e){e.getType()!=="Layer"&&Kinetic.Util.error("You may only add layers to the stage.")},setContainer:function(e){return typeof e===t&&(e=document.getElementById(e)),this._setAttr(j,e),this},shouldDrawHit:function(){return!0},draw:function(){return Kinetic.Node.prototype.draw.call(this),this},setHeight:function(e){return Kinetic.Node.prototype.setHeight.call(this,e),this._resizeDOM(),this},setWidth:function(e){return Kinetic.Node.prototype.setWidth.call(this,e),this._resizeDOM(),this},clear:function(){var e=this.children,t=e.length,n;for(n=0;n<t;n++)e[n].clear();return this},destroy:function(){var e=this.content;Kinetic.Container.prototype.destroy.call(this),e&&Kinetic.Util._isInDocument(e)&&this.getContainer().removeChild(e)},getPointerPosition:function(){return this.pointerPos},getStage:function(){return this},getContent:function(){return this.content},toDataURL:function(e){function a(r){var i=u[r],f=i.toDataURL(),l=new Image;l.onload=function(){o.drawImage(l,0,0),r<u.length-1?a(r+1):e.callback(s.toDataURL(t,n))},l.src=f}e=e||{};var t=e.mimeType||null,n=e.quality||null,r=e.x||0,i=e.y||0,s=new Kinetic.SceneCanvas({width:e.width||this.getWidth(),height:e.height||this.getHeight(),pixelRatio:1}),o=s.getContext()._context,u=this.children;(r||i)&&o.translate(-1*r,-1*i),a(0)},toImage:function(e){var t=e.callback;e.callback=function(e){Kinetic.Util._getImage(e,function(e){t(e)})},this.toDataURL(e)},getIntersection:function(e){var t=this.getChildren(),n=t.length,r=n-1,i,s;for(i=r;i>=0;i--){s=t[i].getIntersection(e);if(s)return s}return null},_resizeDOM:function(){if(this.content){var e=this.getWidth(),t=this.getHeight(),r=this.getChildren(),i=r.length,s,o;this.content.style.width=e+n,this.content.style.height=t+n,this.bufferCanvas.setSize(e,t),this.bufferHitCanvas.setSize(e,t);for(s=0;s<i;s++)o=r[s],o.getCanvas().setSize(e,t),o.hitCanvas.setSize(e,t),o.draw()}},add:function(e){return Kinetic.Container.prototype.add.call(this,e),e.canvas.setSize(this.attrs.width,this.attrs.height),e.hitCanvas.setSize(this.attrs.width,this.attrs.height),e.draw(),this.content.appendChild(e.canvas._canvas),this},getParent:function(){return null},getLayer:function(){return null},getLayers:function(){return this.getChildren()},_bindContentEvents:function(){var e=this,t;for(t=0;t<q;t++)R(this,I[t])},_mouseover:function(e){this._fire(b,e)},_mouseout:function(e){this._setPointerPosition(e);var t=this.targetShape;t&&!Kinetic.isDragging()&&(t._fireAndBubble(r,e),t._fireAndBubble(i,e),this.targetShape=null),this.pointerPos=undefined,this._fire(g,e)},_mousemove:function(e){this._setPointerPosition(e);var t=Kinetic.DD,n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?!Kinetic.isDragging()&&(!this.targetShape||this.targetShape._id!==n._id)?(this.targetShape&&(this.targetShape._fireAndBubble(r,e,n),this.targetShape._fireAndBubble(i,e,n)),n._fireAndBubble(s,e,this.targetShape),n._fireAndBubble(o,e,this.targetShape),this.targetShape=n):n._fireAndBubble(u,e):this.targetShape&&!Kinetic.isDragging()&&(this.targetShape._fireAndBubble(r,e),this.targetShape._fireAndBubble(i,e),this.targetShape=null),this._fire(E,e),t&&t._drag(e),e.preventDefault&&e.preventDefault()},_mousedown:function(e){this._setPointerPosition(e);var t=this.getIntersection(this.getPointerPosition());Kinetic.listenClickTap=!0,t&&t.isListening()&&(this.clickStartShape=t,t._fireAndBubble(a,e)),this._fire(S,e),e.preventDefault&&e.preventDefault()},_mouseup:function(e){this._setPointerPosition(e);var t=this,n=this.getIntersection(this.getPointerPosition()),r=this.clickStartShape,i=!1;Kinetic.inDblClickWindow?(i=!0,Kinetic.inDblClickWindow=!1):Kinetic.inDblClickWindow=!0,setTimeout(function(){Kinetic.inDblClickWindow=!1},Kinetic.dblClickWindow),n&&n.isListening()&&(n._fireAndBubble(f,e),Kinetic.listenClickTap&&r&&r._id===n._id&&(n._fireAndBubble(l,e),i&&n._fireAndBubble(c,e))),this._fire(x,e),Kinetic.listenClickTap&&(this._fire(T,e),i&&this._fire(N,e)),Kinetic.listenClickTap=!1,e.preventDefault&&e.preventDefault()},_touchstart:function(e){this._setPointerPosition(e);var t=this.getIntersection(this.getPointerPosition());Kinetic.listenClickTap=!0,t&&t.isListening()&&(this.tapStartShape=t,t._fireAndBubble(h,e),t.isListening()&&e.preventDefault&&e.preventDefault()),this._fire(C,e)},_touchend:function(e){this._setPointerPosition(e);var t=this,n=this.getIntersection(this.getPointerPosition());fireDblClick=!1,Kinetic.inDblClickWindow?(fireDblClick=!0,Kinetic.inDblClickWindow=!1):Kinetic.inDblClickWindow=!0,setTimeout(function(){Kinetic.inDblClickWindow=!1},Kinetic.dblClickWindow),n&&n.isListening()&&(n._fireAndBubble(p,e),Kinetic.listenClickTap&&n._id===this.tapStartShape._id&&(n._fireAndBubble(d,e),fireDblClick&&n._fireAndBubble(v,e)),n.isListening()&&e.preventDefault&&e.preventDefault()),Kinetic.listenClickTap&&(this._fire(k,e),fireDblClick&&this._fire(A,e)),Kinetic.listenClickTap=!1},_touchmove:function(e){this._setPointerPosition(e);var t=Kinetic.DD,n=this.getIntersection(this.getPointerPosition());n&&n.isListening()&&(n._fireAndBubble(m,e),n.isListening()&&e.preventDefault&&e.preventDefault()),this._fire(O,e),t&&t._drag(e)},_setPointerPosition:function(e){var e=e?e:window.event,t=this._getContentPosition(),n=e.offsetX,r=e.clientX,i=null,s=null,o;e.touches!==undefined?e.touches.length===1&&(o=e.touches[0],i=o.clientX-t.left,s=o.clientY-t.top):n!==undefined?(i=n,s=e.offsetY):Kinetic.UA.browser==="mozilla"?(i=e.layerX,s=e.layerY):r!==undefined&&t&&(i=r-t.left,s=e.clientY-t.top),i!==null&&s!==null&&(this.pointerPos={x:i,y:s})},_getContentPosition:function(){var e=this.content.getBoundingClientRect?this.content.getBoundingClientRect():{top:0,left:0};return{top:e.top,left:e.left}},_buildDOM:function(){var e=this.getContainer();e.innerHTML=F,this.content=document.createElement(M),this.content.style.position=_,this.content.style.display=D,this.content.className=P,this.content.setAttribute("role","presentation"),e.appendChild(this.content),this.bufferCanvas=new Kinetic.SceneCanvas({pixelRatio:1}),this.bufferHitCanvas=new Kinetic.HitCanvas,this._resizeDOM()},_onContent:function(e,t){var n=e.split(H),r=n.length,i,s;for(i=0;i<r;i++)s=n[i],this.content.addEventListener(s,t,!1)}}),Kinetic.Util.extend(Kinetic.Stage,Kinetic.Container),Kinetic.Factory.addGetter(Kinetic.Stage,"container"),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Stage,"container")}(),function(){var e="#",t="beforeDraw",n="draw",r=[{x:0,y:0},{x:-1,y:0},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:1,y:0},{x:1,y:1},{x:0,y:1},{x:-1,y:1}],i=r.length;Kinetic.Util.addMethods(Kinetic.Layer,{___init:function(e){this.nodeType="Layer",this.canvas=new Kinetic.SceneCanvas,this.hitCanvas=new Kinetic.HitCanvas,Kinetic.Container.call(this,e)},_validateAdd:function(e){var t=e.getType();t!=="Group"&&t!=="Shape"&&Kinetic.Util.error("You may only add groups and shapes to a layer.")},getIntersection:function(e){var t,n,s,o;if(!this.isVisible())return null;for(n=0;n<i;n++){s=r[n],t=this._getIntersection({x:e.x+s.x,y:e.y+s.y}),o=t.shape;if(o)return o;if(!t.antialiased)return null}},_getIntersection:function(t){var n=this.hitCanvas.context._context.getImageData(t.x,t.y,1,1).data,r=n[3],i,s;return r===255?(i=Kinetic.Util._rgbToHex(n[0],n[1],n[2]),s=Kinetic.shapes[e+i],{shape:s}):r>0?{antialiased:!0}:{}},drawScene:function(e){var r=this.getLayer(),i=e||r&&r.getCanvas();return this._fire(t,{node:this}),this.getClearBeforeDraw()&&i.getContext().clear(),Kinetic.Container.prototype.drawScene.call(this,i),this._fire(n,{node:this}),this},drawHit:function(e){var t=this.getLayer(),n=e||t&&t.hitCanvas;return t&&t.getClearBeforeDraw()&&t.getHitCanvas().getContext().clear(),Kinetic.Container.prototype.drawHit.call(this,n),this},getCanvas:function(){return this.canvas},getHitCanvas:function(){return this.hitCanvas},getContext:function(){return this.getCanvas().getContext()},clear:function(e){var t=this.getContext(),n=this.getHitCanvas().getContext();return t.clear(e),n.clear(e),this},setVisible:function(e){return Kinetic.Node.prototype.setVisible.call(this,e),e?(this.getCanvas()._canvas.style.display="block",this.hitCanvas._canvas.style.display="block"):(this.getCanvas()._canvas.style.display="none",this.hitCanvas._canvas.style.display="none"),this},setZIndex:function(e){Kinetic.Node.prototype.setZIndex.call(this,e);var t=this.getStage();return t&&(t.content.removeChild(this.getCanvas()._canvas),e<t.getChildren().length-1?t.content.insertBefore(this.getCanvas()._canvas,t.getChildren()[e+1].getCanvas()._canvas):t.content.appendChild(this.getCanvas()._canvas)),this},moveToTop:function(){Kinetic.Node.prototype.moveToTop.call(this);var e=this.getStage();e&&(e.content.removeChild(this.getCanvas()._canvas),e.content.appendChild(this.getCanvas()._canvas))},moveUp:function(){if(Kinetic.Node.prototype.moveUp.call(this)){var e=this.getStage();e&&(e.content.removeChild(this.getCanvas()._canvas),this.index<e.getChildren().length-1?e.content.insertBefore(this.getCanvas()._canvas,e.getChildren()[this.index+1].getCanvas()._canvas):e.content.appendChild(this.getCanvas()._canvas))}},moveDown:function(){if(Kinetic.Node.prototype.moveDown.call(this)){var e=this.getStage();if(e){var t=e.getChildren();e.content.removeChild(this.getCanvas()._canvas),e.content.insertBefore(this.getCanvas()._canvas,t[this.index+1].getCanvas()._canvas)}}},moveToBottom:function(){if(Kinetic.Node.prototype.moveToBottom.call(this)){var e=this.getStage();if(e){var t=e.getChildren();e.content.removeChild(this.getCanvas()._canvas),e.content.insertBefore(this.getCanvas()._canvas,t[1].getCanvas()._canvas)}}},getLayer:function(){return this},remove:function(){var e=this.getStage(),t=this.getCanvas(),n=t._canvas;return Kinetic.Node.prototype.remove.call(this),e&&n&&Kinetic.Util._isInDocument(n)&&e.content.removeChild(n),this},getStage:function(){return this.parent},enableHitGraph:function(){return this.setHitGraphEnabled(!0),this},disableHitGraph:function(){return this.setHitGraphEnabled(!1),this}}),Kinetic.Util.extend(Kinetic.Layer,Kinetic.Container),Kinetic.Factory.addGetterSetter(Kinetic.Layer,"clearBeforeDraw",!0),Kinetic.Factory.addGetterSetter(Kinetic.Layer,"hitGraphEnabled",!0),Kinetic.Collection.mapMethods(Kinetic.Layer)}(),function(){Kinetic.Util.addMethods(Kinetic.Group,{___init:function(e){this.nodeType="Group",Kinetic.Container.call(this,e)},_validateAdd:function(e){var t=e.getType();t!=="Group"&&t!=="Shape"&&Kinetic.Util.error("You may only add groups and shapes to groups.")}}),Kinetic.Util.extend(Kinetic.Group,Kinetic.Container),Kinetic.Collection.mapMethods(Kinetic.Group)}(),function(){Kinetic.Rect=function(e){this.___init(e)},Kinetic.Rect.prototype={___init:function(e){Kinetic.Shape.call(this,e),this.className="Rect",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var t=this.getCornerRadius(),n=this.getWidth(),r=this.getHeight();e.beginPath(),t?(e.moveTo(t,0),e.lineTo(n-t,0),e.arc(n-t,t,t,Math.PI*3/2,0,!1),e.lineTo(n,r-t),e.arc(n-t,r-t,t,0,Math.PI/2,!1),e.lineTo(t,r),e.arc(t,r-t,t,Math.PI/2,Math.PI,!1),e.lineTo(0,t),e.arc(t,t,t,Math.PI,Math.PI*3/2,!1)):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.Rect,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Rect,"cornerRadius",0),Kinetic.Collection.mapMethods(Kinetic.Rect)}(),function(){var e=Math.PI*2-1e-4,t="Circle";Kinetic.Circle=function(e){this.___init(e)},Kinetic.Circle.prototype={___init:function(e){Kinetic.Shape.call(this,e),this.className=t,this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){t.beginPath(),t.arc(0,0,this.getRadius(),0,e,!1),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){return this.getRadius()*2},getHeight:function(){return this.getRadius()*2},setWidth:function(e){Kinetic.Node.prototype.setWidth.call(this,e),this.setRadius(e/2)},setHeight:function(e){Kinetic.Node.prototype.setHeight.call(this,e),this.setRadius(e/2)}},Kinetic.Util.extend(Kinetic.Circle,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Circle,"radius",0),Kinetic.Collection.mapMethods(Kinetic.Circle)}(),function(){var e=Math.PI*2-1e-4,t="Ellipse";Kinetic.Ellipse=function(e){this.___init(e)},Kinetic.Ellipse.prototype={___init:function(e){Kinetic.Shape.call(this,e),this.className=t,this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var n=this.getRadius(),r=n.x,i=n.y;t.beginPath(),t.save(),r!==i&&t.scale(1,i/r),t.arc(0,0,r,0,e,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){return this.getRadius().x*2},getHeight:function(){return this.getRadius().y*2},setWidth:function(e){Kinetic.Node.prototype.setWidth.call(this,e),this.setRadius({x:e/2})},setHeight:function(e){Kinetic.Node.prototype.setHeight.call(this,e),this.setRadius({y:e/2})}},Kinetic.Util.extend(Kinetic.Ellipse,Kinetic.Shape),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Ellipse,"radius",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Ellipse,"radiusX",0),Kinetic.Factory.addGetterSetter(Kinetic.Ellipse,"radiusY",0),Kinetic.Collection.mapMethods(Kinetic.Ellipse)}(),function(){var e=Math.PI*2-1e-4;Kinetic.Ring=function(e){this.___init(e)},Kinetic.Ring.prototype={___init:function(e){Kinetic.Shape.call(this,e),this.className="Ring",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){t.beginPath(),t.arc(0,0,this.getInnerRadius(),0,e,!1),t.moveTo(this.getOuterRadius(),0),t.arc(0,0,this.getOuterRadius(),e,0,!0),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){return this.getOuterRadius()*2},getHeight:function(){return this.getOuterRadius()*2},setWidth:function(e){Kinetic.Node.prototype.setWidth.call(this,e),this.setOuterRadius(e/2)},setHeight:function(e){Kinetic.Node.prototype.setHeight.call(this,e),this.setOuterRadius(e/2)}},Kinetic.Util.extend(Kinetic.Ring,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Ring,"innerRadius",0),Kinetic.Factory.addGetterSetter(Kinetic.Ring,"outerRadius",0),Kinetic.Collection.mapMethods(Kinetic.Ring)}(),function(){Kinetic.Wedge=function(e){this.___init(e)},Kinetic.Wedge.prototype={___init:function(e){Kinetic.Shape.call(this,e),this.className="Wedge",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){e.beginPath(),e.arc(0,0,this.getRadius(),0,this.getAngle()*Math.PI/180,this.getClockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.Wedge,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Wedge,"radius",0),Kinetic.Factory.addGetterSetter(Kinetic.Wedge,"angle",0),Kinetic.Factory.addGetterSetter(Kinetic.Wedge,"clockwise",!1),Kinetic.Factory.backCompat(Kinetic.Wedge,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Kinetic.Collection.mapMethods(Kinetic.Wedge)}(),function(){Kinetic.Arc=function(e){this.___init(e)},Kinetic.Arc.prototype={___init:function(e){Kinetic.Shape.call(this,e),this.className="Arc",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var t=this.angle()*Math.PI/180,n=this.clockwise();e.beginPath(),e.arc(0,0,this.getOuterRadius(),0,t,n),e.arc(0,0,this.getInnerRadius(),t,0,!n),e.closePath(),e.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.Arc,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Arc,"innerRadius",0),Kinetic.Factory.addGetterSetter(Kinetic.Arc,"outerRadius",0),Kinetic.Factory.addGetterSetter(Kinetic.Arc,"angle",0),Kinetic.Factory.addGetterSetter(Kinetic.Arc,"clockwise",!1),Kinetic.Collection.mapMethods(Kinetic.Arc)}(),function(){var e="Image",t="set";Kinetic.Image=function(e){this.___init(e)},Kinetic.Image.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className=e,this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_useBufferCanvas:function(){return(this.hasShadow()||this.getAbsoluteOpacity()!==1)&&this.hasStroke()},_sceneFunc:function(e){var t=this.getWidth(),n=this.getHeight(),r=this.getImage(),i,s,o,u;r&&(i=this.getCrop(),s=i.width,o=i.height,s&&o?u=[r,i.x,i.y,s,o,0,0,t,n]:u=[r,0,0,t,n]),e.beginPath(),e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this),r&&e.drawImage.apply(e,u)},_hitFunc:function(e){var t=this.getWidth(),n=this.getHeight();e.beginPath(),e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){var e=this.getImage();return this.attrs.width||(e?e.width:0)},getHeight:function(){var e=this.getImage();return this.attrs.height||(e?e.height:0)}},Kinetic.Util.extend(Kinetic.Image,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Image,"image"),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Image,"crop",["x","y","width","height"]),Kinetic.Factory.addGetterSetter(Kinetic.Image,"cropX",0),Kinetic.Factory.addGetterSetter(Kinetic.Image,"cropY",0),Kinetic.Factory.addGetterSetter(Kinetic.Image,"cropWidth",0),Kinetic.Factory.addGetterSetter(Kinetic.Image,"cropHeight",0),Kinetic.Collection.mapMethods(Kinetic.Image)}(),function(){function E(e){e.fillText(this.partialText,0,0)}function S(e){e.strokeText(this.partialText,0,0)}var e="auto",t="canvas",n="center",r="Change.kinetic",i="2d",s="-",o="",u="left",a="text",f="Text",l="middle",c="normal",h="px ",p=" ",d="right",v="word",m="char",g="none",y=["fontFamily","fontSize","fontStyle","padding","align","lineHeight","text","width","height","wrap"],b=y.length,w=document.createElement(t).getContext(i);Kinetic.Text=function(e){this.___init(e)},Kinetic.Text.prototype={___init:function(t){var n=this;t.width===undefined&&(t.width=e),t.height===undefined&&(t.height=e),Kinetic.Shape.call(this,t),this._fillFunc=E,this._strokeFunc=S,this.className=f;for(var i=0;i<b;i++)this.on(y[i]+r,n._setTextData);this._setTextData(),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(e){var t=this.getPadding(),r=this.getTextHeight(),i=this.getLineHeight()*r,s=this.textArr,o=s.length,a=this.getWidth(),f;e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",l),e.setAttr("textAlign",u),e.save(),e.translate(t,0),e.translate(0,t+r/2);for(f=0;f<o;f++){var c=s[f],h=c.text,p=c.width;e.save(),this.getAlign()===d?e.translate(a-p-t*2,0):this.getAlign()===n&&e.translate((a-p-t*2)/2,0),this.partialText=h,e.fillStrokeShape(this),e.restore(),e.translate(0,i)}e.restore()},_hitFunc:function(e){var t=this.getWidth(),n=this.getHeight();e.beginPath(),e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)},setText:function(e){var t=Kinetic.Util._isString(e)?e:e.toString();return this._setAttr(a,t),this},getWidth:function(){return this.attrs.width===e?this.getTextWidth()+this.getPadding()*2:this.attrs.width},getHeight:function(){return this.attrs.height===e?this.getTextHeight()*this.textArr.length*this.getLineHeight()+this.getPadding()*2:this.attrs.height},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},_getTextSize:function(e){var t=w,n=this.getFontSize(),r;return t.save(),t.font=this._getContextFont(),r=t.measureText(e),t.restore(),{width:r.width,height:parseInt(n,10)}},_getContextFont:function(){return this.getFontStyle()+p+this.getFontSize()+h+this.getFontFamily()},_addTextLine:function(e,t){return this.textArr.push({text:e,width:t})},_getTextWidth:function(e){return w.measureText(e).width},_setTextData:function(){var t=this.getText().split("\n"),n=+this.getFontSize(),r=0,i=this.getLineHeight()*n,o=this.attrs.width,u=this.attrs.height,a=o!==e,f=u!==e,l=this.getPadding(),c=o-l*2,d=u-l*2,v=0,y=this.getWrap(),b=y!==g,E=y!==m&&b;this.textArr=[],w.save(),w.font=this.getFontStyle()+p+n+h+this.getFontFamily();for(var S=0,x=t.length;S<x;++S){var T=t[S],N=this._getTextWidth(T);if(a&&N>c)while(T.length>0){var C=0,k=T.length,L="",A=0;while(C<k){var O=C+k>>>1,M=T.slice(0,O+1),_=this._getTextWidth(M);_<=c?(C=O+1,L=M,A=_):k=O}if(!L)break;if(E){var D=Math.max(L.lastIndexOf(p),L.lastIndexOf(s))+1;D>0&&(C=D,L=L.slice(0,C),A=this._getTextWidth(L))}this._addTextLine(L,A),v+=i;if(!b||f&&v+i>d)break;T=T.slice(C);if(T.length>0){N=this._getTextWidth(T);if(N<=c){this._addTextLine(T,N),v+=i;break}}}else this._addTextLine(T,N),v+=i,r=Math.max(r,N);if(f&&v+i>d)break}w.restore(),this.textHeight=n,this.textWidth=r}},Kinetic.Util.extend(Kinetic.Text,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Text,"fontFamily","Arial"),Kinetic.Factory.addGetterSetter(Kinetic.Text,"fontSize",12),Kinetic.Factory.addGetterSetter(Kinetic.Text,"fontStyle",c),Kinetic.Factory.addGetterSetter(Kinetic.Text,"padding",0),Kinetic.Factory.addGetterSetter(Kinetic.Text,"align",u),Kinetic.Factory.addGetterSetter(Kinetic.Text,"lineHeight",1),Kinetic.Factory.addGetterSetter(Kinetic.Text,"wrap",v),Kinetic.Factory.addGetter(Kinetic.Text,"text",o),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Text,"text"),Kinetic.Collection.mapMethods(Kinetic.Text)}(),function(){Kinetic.Line=function(e){this.___init(e)},Kinetic.Line.prototype={___init:function(e){var t=this;Kinetic.Shape.call(this,e),this.className="Line",this.on("pointsChange.kinetic tensionChange.kinetic closedChange.kinetic",function(){this._clearCache("tensionPoints")}),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var t=this.getPoints(),n=t.length,r=this.getTension(),i=this.getClosed(),s,o,u,a;e.beginPath(),e.moveTo(t[0],t[1]);if(r!==0&&n>4){s=this.getTensionPoints(),o=s.length,u=i?0:4,i||e.quadraticCurveTo(s[0],s[1],s[2],s[3]);while(u<o-2)e.bezierCurveTo(s[u++],s[u++],s[u++],s[u++],s[u++],s[u++]);i||e.quadraticCurveTo(s[o-2],s[o-1],t[n-2],t[n-1])}else for(u=2;u<n;u+=2)e.lineTo(t[u],t[u+1]);i?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)},getTensionPoints:function(){return this._getCache("tensionPoints",this._getTensionPoints)},_getTensionPoints:function(){return this.getClosed()?this._getTensionPointsClosed():Kinetic.Util._expandPoints(this.getPoints(),this.getTension())},_getTensionPointsClosed:function(){var e=this.getPoints(),t=e.length,n=this.getTension(),r=Kinetic.Util,i=r._getControlPoints(e[t-2],e[t-1],e[0],e[1],e[2],e[3],n),s=r._getControlPoints(e[t-4],e[t-3],e[t-2],e[t-1],e[0],e[1],n),o=Kinetic.Util._expandPoints(e,n),u=[i[2],i[3]].concat(o).concat([s[0],s[1],e[t-2],e[t-1],s[2],s[3],i[0],i[1],e[0],e[1]]);return u}},Kinetic.Util.extend(Kinetic.Line,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Line,"closed",!1),Kinetic.Factory.addGetterSetter(Kinetic.Line,"tension",0),Kinetic.Factory.addGetterSetter(Kinetic.Line,"points"),Kinetic.Collection.mapMethods(Kinetic.Line)}(),function(){Kinetic.Sprite=function(e){this.___init(e)},Kinetic.Sprite.prototype={___init:function(e){Kinetic.Shape.call(this,e),this.className="Sprite",this.anim=new Kinetic.Animation,this.on("animationChange.kinetic",function(){this.frameIndex(0)}),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(e){var t=this.getAnimation(),n=this.frameIndex(),r=n*4,i=this.getAnimations()[t],s=i[r+0],o=i[r+1],u=i[r+2],a=i[r+3],f=this.getImage();f&&e.drawImage(f,s,o,u,a,0,0,u,a)},_hitFunc:function(e){var t=this.getAnimation(),n=this.frameIndex(),r=n*4,i=this.getAnimations()[t],s=i[r+2],o=i[r+3];e.beginPath(),e.rect(0,0,s,o),e.closePath(),e.fillShape(this)},_useBufferCanvas:function(){return(this.hasShadow()||this.getAbsoluteOpacity()!==1)&&this.hasStroke()},start:function(){var e=this,t=this.getLayer();this.anim.setLayers(t),this.interval=setInterval(function(){e._updateIndex()},1e3/this.getFrameRate()),this.anim.start()},stop:function(){this.anim.stop(),clearInterval(this.interval)},_updateIndex:function(){var e=this.frameIndex(),t=this.getAnimation(),n=this.getAnimations(),r=n[t],i=r.length/4;e<i-1?this.frameIndex(e+1):this.frameIndex(0)}},Kinetic.Util.extend(Kinetic.Sprite,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"animation"),Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"animations"),Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"image"),Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"frameIndex",0),Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"frameRate",17),Kinetic.Factory.backCompat(Kinetic.Sprite,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Kinetic.Collection.mapMethods(Kinetic.Sprite)}(),function(){Kinetic.Path=function(e){this.___init(e)},Kinetic.Path.prototype={___init:function(e){this.dataArray=[];var t=this;Kinetic.Shape.call(this,e),this.className="Path",this.dataArray=Kinetic.Path.parsePathData(this.getData()),this.on("dataChange.kinetic",function(){t.dataArray=Kinetic.Path.parsePathData(this.getData())}),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var t=this.dataArray,n=!1;e.beginPath();for(var r=0;r<t.length;r++){var i=t[r].command,s=t[r].points;switch(i){case"L":e.lineTo(s[0],s[1]);break;case"M":e.moveTo(s[0],s[1]);break;case"C":e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"Q":e.quadraticCurveTo(s[0],s[1],s[2],s[3]);break;case"A":var o=s[0],u=s[1],a=s[2],f=s[3],l=s[4],c=s[5],h=s[6],p=s[7],d=a>f?a:f,v=a>f?1:a/f,m=a>f?f/a:1;e.translate(o,u),e.rotate(h),e.scale(v,m),e.arc(0,0,d,l,l+c,1-p),e.scale(1/v,1/m),e.rotate(-h),e.translate(-o,-u);break;case"z":e.closePath(),n=!0}}n?e.fillStrokeShape(this):e.strokeShape(this)}},Kinetic.Util.extend(Kinetic.Path,Kinetic.Shape),Kinetic.Path.getLineLength=function(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))},Kinetic.Path.getPointOnLine=function(e,t,n,r,i,s,o){s===undefined&&(s=t),o===undefined&&(o=n);var u=(i-n)/(r-t+1e-8),a=Math.sqrt(e*e/(1+u*u));r<t&&(a*=-1);var f=u*a,l;if(r===t)l={x:s,y:o+f};else if((o-n)/(s-t+1e-8)===u)l={x:s+a,y:o+f};else{var c,h,p=this.getLineLength(t,n,r,i);if(p<1e-8)return undefined;var d=(s-t)*(r-t)+(o-n)*(i-n);d/=p*p,c=t+d*(r-t),h=n+d*(i-n);var v=this.getLineLength(s,o,c,h),m=Math.sqrt(e*e-v*v);a=Math.sqrt(m*m/(1+u*u)),r<t&&(a*=-1),f=u*a,l={x:c+a,y:h+f}}return l},Kinetic.Path.getPointOnCubicBezier=function(e,t,n,r,i,s,o,u,a){function f(e){return e*e*e}function l(e){return 3*e*e*(1-e)}function c(e){return 3*e*(1-e)*(1-e)}function h(e){return(1-e)*(1-e)*(1-e)}var p=u*f(e)+s*l(e)+r*c(e)+t*h(e),d=a*f(e)+o*l(e)+i*c(e)+n*h(e);return{x:p,y:d}},Kinetic.Path.getPointOnQuadraticBezier=function(e,t,n,r,i,s,o){function u(e){return e*e}function a(e){return 2*e*(1-e)}function f(e){return(1-e)*(1-e)}var l=s*u(e)+r*a(e)+t*f(e),c=o*u(e)+i*a(e)+n*f(e);return{x:l,y:c}},Kinetic.Path.getPointOnEllipticalArc=function(e,t,n,r,i,s){var o=Math.cos(s),u=Math.sin(s),a={x:n*Math.cos(i),y:r*Math.sin(i)};return{x:e+(a.x*o-a.y*u),y:t+(a.x*u+a.y*o)}},Kinetic.Path.parsePathData=function(e){if(!e)return[];var t=e,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];t=t.replace(new RegExp(" ","g"),",");for(var r=0;r<n.length;r++)t=t.replace(new RegExp(n[r],"g"),"|"+n[r]);var i=t.split("|"),s=[],o=0,u=0;for(r=1;r<i.length;r++){var a=i[r],f=a.charAt(0);a=a.slice(1),a=a.replace(new RegExp(",-","g"),"-"),a=a.replace(new RegExp("-","g"),",-"),a=a.replace(new RegExp("e,-","g"),"e-");var l=a.split(",");l.length>0&&l[0]===""&&l.shift();for(var c=0;c<l.length;c++)l[c]=parseFloat(l[c]);while(l.length>0){if(isNaN(l[0]))break;var h=null,p=[],d=o,v=u,m,g,y,b,w,E,S,x,T,N;switch(f){case"l":o+=l.shift(),u+=l.shift(),h="L",p.push(o,u);break;case"L":o=l.shift(),u=l.shift(),p.push(o,u);break;case"m":var C=l.shift(),k=l.shift();o+=C,u+=k,h="M";if(s.length>2&&s[s.length-1].command==="z")for(var L=s.length-2;L>=0;L--)if(s[L].command==="M"){o=s[L].points[0]+C,u=s[L].points[1]+k;break}p.push(o,u),f="l";break;case"M":o=l.shift(),u=l.shift(),h="M",p.push(o,u),f="L";break;case"h":o+=l.shift(),h="L",p.push(o,u);break;case"H":o=l.shift(),h="L",p.push(o,u);break;case"v":u+=l.shift(),h="L",p.push(o,u);break;case"V":u=l.shift(),h="L",p.push(o,u);break;case"C":p.push(l.shift(),l.shift(),l.shift(),l.shift()),o=l.shift(),u=l.shift(),p.push(o,u);break;case"c":p.push(o+l.shift(),u+l.shift(),o+l.shift(),u+l.shift()),o+=l.shift(),u+=l.shift(),h="C",p.push(o,u);break;case"S":g=o,y=u,m=s[s.length-1],m.command==="C"&&(g=o+(o-m.points[2]),y=u+(u-m.points[3])),p.push(g,y,l.shift(),l.shift()),o=l.shift(),u=l.shift(),h="C",p.push(o,u);break;case"s":g=o,y=u,m=s[s.length-1],m.command==="C"&&(g=o+(o-m.points[2]),y=u+(u-m.points[3])),p.push(g,y,o+l.shift(),u+l.shift()),o+=l.shift(),u+=l.shift(),h="C",p.push(o,u);break;case"Q":p.push(l.shift(),l.shift()),o=l.shift(),u=l.shift(),p.push(o,u);break;case"q":p.push(o+l.shift(),u+l.shift()),o+=l.shift(),u+=l.shift(),h="Q",p.push(o,u);break;case"T":g=o,y=u,m=s[s.length-1],m.command==="Q"&&(g=o+(o-m.points[0]),y=u+(u-m.points[1])),o=l.shift(),u=l.shift(),h="Q",p.push(g,y,o,u);break;case"t":g=o,y=u,m=s[s.length-1],m.command==="Q"&&(g=o+(o-m.points[0]),y=u+(u-m.points[1])),o+=l.shift(),u+=l.shift(),h="Q",p.push(g,y,o,u);break;case"A":b=l.shift(),w=l.shift(),E=l.shift(),S=l.shift(),x=l.shift(),T=o,N=u,o=l.shift(),u=l.shift(),h="A",p=this.convertEndpointToCenterParameterization(T,N,o,u,S,x,b,w,E);break;case"a":b=l.shift(),w=l.shift(),E=l.shift(),S=l.shift(),x=l.shift(),T=o,N=u,o+=l.shift(),u+=l.shift(),h="A",p=this.convertEndpointToCenterParameterization(T,N,o,u,S,x,b,w,E)}s.push({command:h||f,points:p,start:{x:d,y:v},pathLength:this.calcLength(d,v,h||f,p)})}(f==="z"||f==="Z")&&s.push({command:"z",points:[],start:undefined,pathLength:0})}return s},Kinetic.Path.calcLength=function(e,n,r,i){var s,o,u,a=Kinetic.Path;switch(r){case"L":return a.getLineLength(e,n,i[0],i[1]);case"C":s=0,o=a.getPointOnCubicBezier(0,e,n,i[0],i[1],i[2],i[3],i[4],i[5]);for(t=.01;t<=1;t+=.01)u=a.getPointOnCubicBezier(t,e,n,i[0],i[1],i[2],i[3],i[4],i[5]),s+=a.getLineLength(o.x,o.y,u.x,u.y),o=u;return s;case"Q":s=0,o=a.getPointOnQuadraticBezier(0,e,n,i[0],i[1],i[2],i[3]);for(t=.01;t<=1;t+=.01)u=a.getPointOnQuadraticBezier(t,e,n,i[0],i[1],i[2],i[3]),s+=a.getLineLength(o.x,o.y,u.x,u.y),o=u;return s;case"A":s=0;var f=i[4],l=i[5],c=i[4]+l,h=Math.PI/180;Math.abs(f-c)<h&&(h=Math.abs(f-c)),o=a.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],f,0);if(l<0)for(t=f-h;t>c;t-=h)u=a.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],t,0),s+=a.getLineLength(o.x,o.y,u.x,u.y),o=u;else for(t=f+h;t<c;t+=h)u=a.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],t,0),s+=a.getLineLength(o.x,o.y,u.x,u.y),o=u;return u=a.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],c,0),s+=a.getLineLength(o.x,o.y,u.x,u.y),s}return 0},Kinetic.Path.convertEndpointToCenterParameterization=function(e,t,n,r,i,s,o,u,a){var f=a*(Math.PI/180),l=Math.cos(f)*(e-n)/2+Math.sin(f)*(t-r)/2,c=-1*Math.sin(f)*(e-n)/2+Math.cos(f)*(t-r)/2,h=l*l/(o*o)+c*c/(u*u);h>1&&(o*=Math.sqrt(h),u*=Math.sqrt(h));var p=Math.sqrt((o*o*u*u-o*o*c*c-u*u*l*l)/(o*o*c*c+u*u*l*l));i==s&&(p*=-1),isNaN(p)&&(p=0);var d=p*o*c/u,v=p*-u*l/o,m=(e+n)/2+Math.cos(f)*d-Math.sin(f)*v,g=(t+r)/2+Math.sin(f)*d+Math.cos(f)*v,y=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},b=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(y(e)*y(t))},w=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(b(e,t))},E=w([1,0],[(l-d)/o,(c-v)/u]),S=[(l-d)/o,(c-v)/u],x=[(-1*l-d)/o,(-1*c-v)/u],T=w(S,x);return b(S,x)<=-1&&(T=Math.PI),b(S,x)>=1&&(T=0),s===0&&T>0&&(T-=2*Math.PI),s==1&&T<0&&(T+=2*Math.PI),[m,g,o,u,E,T,f,s]},Kinetic.Factory.addGetterSetter(Kinetic.Path,"data"),Kinetic.Collection.mapMethods(Kinetic.Path)}(),function(){function r(e){e.fillText(this.partialText,0,0)}function i(e){e.strokeText(this.partialText,0,0)}var e="",t="Calibri",n="normal";Kinetic.TextPath=function(e){this.___init(e)},Kinetic.TextPath.prototype={___init:function(e){var t=this;this.dummyCanvas=document.createElement("canvas"),this.dataArray=[],Kinetic.Shape.call(this,e),this._fillFunc=r,this._strokeFunc=i,this._fillFuncHit=r,this._strokeFuncHit=i,this.className="TextPath",this.dataArray=Kinetic.Path.parsePathData(this.attrs.data),this.on("dataChange.kinetic",function(){t.dataArray=Kinetic.Path.parsePathData(this.attrs.data)}),this.on("textChange.kinetic textStroke.kinetic textStrokeWidth.kinetic",t._setTextData),t._setTextData(),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline","middle"),e.setAttr("textAlign","left"),e.save();var t=this.glyphInfo;for(var n=0;n<t.length;n++){e.save();var r=t[n].p0;e.translate(r.x,r.y),e.rotate(t[n].rotation),this.partialText=t[n].text,e.fillStrokeShape(this),e.restore()}e.restore()},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},setText:function(e){Kinetic.Text.prototype.setText.call(this,e)},_getTextSize:function(e){var t=this.dummyCanvas,n=t.getContext("2d");n.save(),n.font=this._getContextFont();var r=n.measureText(e);return n.restore(),{width:r.width,height:parseInt(this.attrs.fontSize,10)}},_setTextData:function(){var e=this,t=this._getTextSize(this.attrs.text);this.textWidth=t.width,this.textHeight=t.height,this.glyphInfo=[];var n=this.attrs.text.split(""),r,i,s,o=-1,u=0,a=function(){u=0;var t=e.dataArray;for(var n=o+1;n<t.length;n++){if(t[n].pathLength>0)return o=n,t[n];t[n].command=="M"&&(r={x:t[n].points[0],y:t[n].points[1]})}return{}},f=function(t,n){var o=e._getTextSize(t).width,f=0,l=0;i=undefined;while(Math.abs(o-f)/o>.01&&l<25){l++;var c=f;while(s===undefined)s=a(),s&&c+s.pathLength<o&&(c+=s.pathLength,s=undefined);if(s==={}||r===undefined)return undefined;var h=!1;switch(s.command){case"L":Kinetic.Path.getLineLength(r.x,r.y,s.points[0],s.points[1])>o?i=Kinetic.Path.getPointOnLine(o,r.x,r.y,s.points[0],s.points[1],r.x,r.y):s=undefined;break;case"A":var p=s.points[4],d=s.points[5],v=s.points[4]+d;u===0?u=p+1e-8:o>f?u+=Math.PI/180*d/Math.abs(d):u-=Math.PI/360*d/Math.abs(d);if(d<0&&u<v||d>=0&&u>v)u=v,h=!0;i=Kinetic.Path.getPointOnEllipticalArc(s.points[0],s.points[1],s.points[2],s.points[3],u,s.points[6]);break;case"C":u===0?o>s.pathLength?u=1e-8:u=o/s.pathLength:o>f?u+=(o-f)/s.pathLength:u-=(f-o)/s.pathLength,u>1&&(u=1,h=!0),i=Kinetic.Path.getPointOnCubicBezier(u,s.start.x,s.start.y,s.points[0],s.points[1],s.points[2],s.points[3],s.points[4],s.points[5]);break;case"Q":u===0?u=o/s.pathLength:o>f?u+=(o-f)/s.pathLength:u-=(f-o)/s.pathLength,u>1&&(u=1,h=!0),i=Kinetic.Path.getPointOnQuadraticBezier(u,s.start.x,s.start.y,s.points[0],s.points[1],s.points[2],s.points[3])}i!==undefined&&(f=Kinetic.Path.getLineLength(r.x,r.y,i.x,i.y)),h&&(h=!1,s=undefined)}};for(var l=0;l<n.length;l++){f(n[l]);if(r===undefined||i===undefined)break;var c=Kinetic.Path.getLineLength(r.x,r.y,i.x,i.y),h=0,p=Kinetic.Path.getPointOnLine(h+c/2,r.x,r.y,i.x,i.y),d=Math.atan2(i.y-r.y,i.x-r.x);this.glyphInfo.push({transposeX:p.x,transposeY:p.y,text:n[l],rotation:d,p0:r,p1:i}),r=i}}},Kinetic.TextPath.prototype._getContextFont=Kinetic.Text.prototype._getContextFont,Kinetic.Util.extend(Kinetic.TextPath,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.TextPath,"fontFamily","Arial"),Kinetic.Factory.addGetterSetter(Kinetic.TextPath,"fontSize",12),Kinetic.Factory.addGetterSetter(Kinetic.TextPath,"fontStyle",n),Kinetic.Factory.addGetter(Kinetic.TextPath,"text",e),Kinetic.Collection.mapMethods(Kinetic.TextPath)}(),function(){Kinetic.RegularPolygon=function(e){this.___init(e)},Kinetic.RegularPolygon.prototype={___init:function(e){Kinetic.Shape.call(this,e),this.className="RegularPolygon",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var t=this.attrs.sides,n=this.attrs.radius,r,i,s;e.beginPath(),e.moveTo(0,0-n);for(r=1;r<t;r++)i=n*Math.sin(r*2*Math.PI/t),s=-1*n*Math.cos(r*2*Math.PI/t),e.lineTo(i,s);e.closePath(),e.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.RegularPolygon,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.RegularPolygon,"radius",0),Kinetic.Factory.addGetterSetter(Kinetic.RegularPolygon,"sides",0),Kinetic.Collection.mapMethods(Kinetic.RegularPolygon)}(),function(){Kinetic.Star=function(e){this.___init(e)},Kinetic.Star.prototype={___init:function(e){Kinetic.Shape.call(this,e),this.className="Star",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var t=this.innerRadius(),n=this.outerRadius(),r=this.numPoints();e.beginPath(),e.moveTo(0,0-n);for(var i=1;i<r*2;i++){var s=i%2===0?n:t,o=s*Math.sin(i*Math.PI/r),u=-1*s*Math.cos(i*Math.PI/r);e.lineTo(o,u)}e.closePath(),e.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.Star,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Star,"numPoints",5),Kinetic.Factory.addGetterSetter(Kinetic.Star,"innerRadius",0),Kinetic.Factory.addGetterSetter(Kinetic.Star,"outerRadius",0),Kinetic.Collection.mapMethods(Kinetic.Star)}(),function(){var e=["fontFamily","fontSize","fontStyle","padding","lineHeight","text"],t="Change.kinetic",n="none",r="up",i="right",s="down",o="left",u="Label",a=e.length;Kinetic.Label=function(e){this.____init(e)},Kinetic.Label.prototype={____init:function(e){var t=this;this.className=u,Kinetic.Group.call(this,e),this.on("add.kinetic",function(e){t._addListeners(e.child),t._sync()})},getText:function(){return this.find("Text")[0]},getTag:function(){return this.find("Tag")[0]},_addListeners:function(n){var r=this,i,s=function(){r._sync()};for(i=0;i<a;i++)n.on(e[i]+t,s)},getWidth:function(){return this.getText().getWidth()},getHeight:function(){return this.getText().getHeight()},_sync:function(){var e=this.getText(),t=this.getTag(),n,u,a,f,l,c;if(e&&t){n=e.getWidth(),u=e.getHeight(),a=t.getPointerDirection(),f=t.getPointerWidth(),pointerHeight=t.getPointerHeight(),l=0,c=0;switch(a){case r:l=n/2,c=-1*pointerHeight;break;case i:l=n+f,c=u/2;break;case s:l=n/2,c=u+pointerHeight;break;case o:l=-1*f,c=u/2}t.setAttrs({x:-1*l,y:-1*c,width:n,height:u}),e.setAttrs({x:-1*l,y:-1*c})}}},Kinetic.Util.extend(Kinetic.Label,Kinetic.Group),Kinetic.Collection.mapMethods(Kinetic.Label),Kinetic.Tag=function(e){this.___init(e)},Kinetic.Tag.prototype={___init:function(e){Kinetic.Shape.call(this,e),this.className="Tag",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var t=this.getWidth(),n=this.getHeight(),u=this.getPointerDirection(),a=this.getPointerWidth(),f=this.getPointerHeight(),l=this.getCornerRadius();e.beginPath(),e.moveTo(0,0),u===r&&(e.lineTo((t-a)/2,0),e.lineTo(t/2,-1*f),e.lineTo((t+a)/2,0)),e.lineTo(t,0),u===i&&(e.lineTo(t,(n-f)/2),e.lineTo(t+a,n/2),e.lineTo(t,(n+f)/2)),e.lineTo(t,n),u===s&&(e.lineTo((t+a)/2,n),e.lineTo(t/2,n+f),e.lineTo((t-a)/2,n)),e.lineTo(0,n),u===o&&(e.lineTo(0,(n+f)/2),e.lineTo(-1*a,n/2),e.lineTo(0,(n-f)/2)),e.closePath(),e.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.Tag,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Tag,"pointerDirection",n),Kinetic.Factory.addGetterSetter(Kinetic.Tag,"pointerWidth",0),Kinetic.Factory.addGetterSetter(Kinetic.Tag,"pointerHeight",0),Kinetic.Factory.addGetterSetter(Kinetic.Tag,"cornerRadius",0),Kinetic.Collection.mapMethods(Kinetic.Tag)}(),!function(e,t){function n(){r.READY||(r.event.determineEventTypes(),r.utils.each(r.gestures,function(e){r.detection.register(e)}),r.event.onTouch(r.DOCUMENT,r.EVENT_MOVE,r.detection.detect),r.event.onTouch(r.DOCUMENT,r.EVENT_END,r.detection.detect),r.READY=!0)}var r=function(e,t){return new r.Instance(e,t||{})};r.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},r.HAS_POINTEREVENTS=e.navigator.pointerEnabled||e.navigator.msPointerEnabled,r.HAS_TOUCHEVENTS="ontouchstart"in e,r.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i,r.NO_MOUSEEVENTS=r.HAS_TOUCHEVENTS&&e.navigator.userAgent.match(r.MOBILE_REGEX),r.EVENT_TYPES={},r.DIRECTION_DOWN="down",r.DIRECTION_LEFT="left",r.DIRECTION_UP="up",r.DIRECTION_RIGHT="right",r.POINTER_MOUSE="mouse",r.POINTER_TOUCH="touch",r.POINTER_PEN="pen",r.EVENT_START="start",r.EVENT_MOVE="move",r.EVENT_END="end",r.DOCUMENT=e.document,r.plugins=r.plugins||{},r.gestures=r.gestures||{},r.READY=!1,r.utils={extend:function(e,n,r){for(var i in n)e[i]!==t&&r||(e[i]=n[i]);return e},each:function(e,n,r){var i,s;if("forEach"in e)e.forEach(n,r);else if(e.length!==t){for(i=0,s=e.length;s>i;i++)if(n.call(r,e[i],i,e)===!1)return}else for(i in e)if(e.hasOwnProperty(i)&&n.call(r,e[i],i,e)===!1)return},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(e){var t=[],n=[];return r.utils.each(e,function(e){t.push("undefined"!=typeof e.clientX?e.clientX:e.pageX),n.push("undefined"!=typeof e.clientY?e.clientY:e.pageY)}),{pageX:(Math.min.apply(Math,t)+Math.max.apply(Math,t))/2,pageY:(Math.min.apply(Math,n)+Math.max.apply(Math,n))/2}},getVelocity:function(e,t,n){return{x:Math.abs(t/e)||0,y:Math.abs(n/e)||0}},getAngle:function(e,t){var n=t.pageY-e.pageY,r=t.pageX-e.pageX;return 180*Math.atan2(n,r)/Math.PI},getDirection:function(e,t){var n=Math.abs(e.pageX-t.pageX),i=Math.abs(e.pageY-t.pageY);return n>=i?e.pageX-t.pageX>0?r.DIRECTION_LEFT:r.DIRECTION_RIGHT:e.pageY-t.pageY>0?r.DIRECTION_UP:r.DIRECTION_DOWN},getDistance:function(e,t){var n=t.pageX-e.pageX,r=t.pageY-e.pageY;return Math.sqrt(n*n+r*r)},getScale:function(e,t){return e.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return e.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(e){return e==r.DIRECTION_UP||e==r.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(e,t){t&&e&&e.style&&(r.utils.each(["webkit","khtml","moz","Moz","ms","o",""],function(n){r.utils.each(t,function(t){n&&(t=n+t.substring(0,1).toUpperCase()+t.substring(1)),t in e.style&&(e.style[t]=t)})}),"none"==t.userSelect&&(e.onselectstart=function(){return!1}),"none"==t.userDrag&&(e.ondragstart=function(){return!1}))}},r.Instance=function(e,t){var i=this;return n(),this.element=e,this.enabled=!0,this.options=r.utils.extend(r.utils.extend({},r.defaults),t||{}),this.options.stop_browser_behavior&&r.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),r.event.onTouch(e,r.EVENT_START,function(e){i.enabled&&r.detection.startDetect(i,e)}),this},r.Instance.prototype={on:function(e,t){var n=e.split(" ");return r.utils.each(n,function(e){this.element.addEventListener(e,t,!1)},this),this},off:function(e,t){var n=e.split(" ");return r.utils.each(n,function(e){this.element.removeEventListener(e,t,!1)},this),this},trigger:function(e,t){t||(t={});var n=r.DOCUMENT.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t;var i=this.element;return r.utils.hasParent(t.target,i)&&(i=t.target),i.dispatchEvent(n),this},enable:function(e){return this.enabled=e,this}};var i=null,s=!1,o=!1;r.event={bindDom:function(e,t,n){var i=t.split(" ");r.utils.each(i,function(t){e.addEventListener(t,n,!1)})},onTouch:function(e,t,n){var u=this;this.bindDom(e,r.EVENT_TYPES[t],function(l){var p=l.type.toLowerCase();if(!p.match(/mouse/)||!o){p.match(/touch/)||p.match(/pointerdown/)||p.match(/mouse/)&&1===l.which?s=!0:p.match(/mouse/)&&!l.which&&(s=!1),p.match(/touch|pointer/)&&(o=!0);var v=0;s&&(r.HAS_POINTEREVENTS&&t!=r.EVENT_END?v=r.PointerEvent.updatePointer(t,l):p.match(/touch/)?v=l.touches.length:o||(v=p.match(/up/)?0:1),v>0&&t==r.EVENT_END?t=r.EVENT_MOVE:v||(t=r.EVENT_END),(v||null===i)&&(i=l),n.call(r.detection,u.collectEventData(e,t,u.getTouchList(i,t),l)),r.HAS_POINTEREVENTS&&t==r.EVENT_END&&(v=r.PointerEvent.updatePointer(t,l))),v||(i=null,s=!1,o=!1,r.PointerEvent.reset())}})},determineEventTypes:function(){var e;e=r.HAS_POINTEREVENTS?r.PointerEvent.getEvents():r.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],r.EVENT_TYPES[r.EVENT_START]=e[0],r.EVENT_TYPES[r.EVENT_MOVE]=e[1],r.EVENT_TYPES[r.EVENT_END]=e[2]},getTouchList:function(e){return r.HAS_POINTEREVENTS?r.PointerEvent.getTouchList():e.touches?e.touches:(e.identifier=1,[e])},collectEventData:function(e,t,n,i){var s=r.POINTER_TOUCH;return(i.type.match(/mouse/)||r.PointerEvent.matchType(r.POINTER_MOUSE,i))&&(s=r.POINTER_MOUSE),{center:r.utils.getCenter(n),timeStamp:(new Date).getTime(),target:i.target,touches:n,eventType:t,pointerType:s,srcEvent:i,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return r.detection.stopDetect()}}}},r.PointerEvent={pointers:{},getTouchList:function(){var e=this,t=[];return r.utils.each(e.pointers,function(e){t.push(e)}),t},updatePointer:function(e,t){return e==r.EVENT_END?this.pointers={}:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t),Object.keys(this.pointers).length},matchType:function(e,t){if(!t.pointerType)return!1;var n=t.pointerType,i={};return i[r.POINTER_MOUSE]=n===t.MSPOINTER_TYPE_MOUSE||n===r.POINTER_MOUSE,i[r.POINTER_TOUCH]=n===t.MSPOINTER_TYPE_TOUCH||n===r.POINTER_TOUCH,i[r.POINTER_PEN]=n===t.MSPOINTER_TYPE_PEN||n===r.POINTER_PEN,i[e]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},r.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(e,t){this.current||(this.stopped=!1,this.current={inst:e,startEvent:r.utils.extend({},t),lastEvent:!1,name:""},this.detect(t))},detect:function(e){if(this.current&&!this.stopped){e=this.extendEventData(e);var t=this.current.inst.options;return r.utils.each(this.gestures,function(n){return this.stopped||t[n.name]===!1||n.handler.call(n,e,this.current.inst)!==!1?void 0:(this.stopDetect(),!1)},this),this.current&&(this.current.lastEvent=e),e.eventType==r.EVENT_END&&!e.touches.length-1&&this.stopDetect(),e}},stopDetect:function(){this.previous=r.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(e){var t=this.current.startEvent;!t||e.touches.length==t.touches.length&&e.touches!==t.touches||(t.touches=[],r.utils.each(e.touches,function(e){t.touches.push(r.utils.extend({},e))}));var n,i,s=e.timeStamp-t.timeStamp,o=e.center.pageX-t.center.pageX,u=e.center.pageY-t.center.pageY,a=r.utils.getVelocity(s,o,u);return"end"===e.eventType?(n=this.current.lastEvent&&this.current.lastEvent.interimAngle,i=this.current.lastEvent&&this.current.lastEvent.interimDirection):(n=this.current.lastEvent&&r.utils.getAngle(this.current.lastEvent.center,e.center),i=this.current.lastEvent&&r.utils.getDirection(this.current.lastEvent.center,e.center)),r.utils.extend(e,{deltaTime:s,deltaX:o,deltaY:u,velocityX:a.x,velocityY:a.y,distance:r.utils.getDistance(t.center,e.center),angle:r.utils.getAngle(t.center,e.center),interimAngle:n,direction:r.utils.getDirection(t.center,e.center),interimDirection:i,scale:r.utils.getScale(t.touches,e.touches),rotation:r.utils.getRotation(t.touches,e.touches),startEvent:t}),e},register:function(e){var n=e.defaults||{};return n[e.name]===t&&(n[e.name]=!0),r.utils.extend(r.defaults,n,!0),e.index=e.index||1e3,this.gestures.push(e),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}},r.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:!0,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(e,t){if(r.detection.current.name!=this.name&&this.triggered)return t.trigger(this.name+"end",e),this.triggered=!1,void 0;if(!(t.options.drag_max_touches>0&&e.touches.length>t.options.drag_max_touches))switch(e.eventType){case r.EVENT_START:this.triggered=!1;break;case r.EVENT_MOVE:if(e.distance<t.options.drag_min_distance&&r.detection.current.name!=this.name)return;if(r.detection.current.name!=this.name&&(r.detection.current.name=this.name,t.options.correct_for_drag_min_distance&&e.distance>0)){var n=Math.abs(t.options.drag_min_distance/e.distance);r.detection.current.startEvent.center.pageX+=e.deltaX*n,r.detection.current.startEvent.center.pageY+=e.deltaY*n,e=r.detection.extendEventData(e)}(r.detection.current.lastEvent.drag_locked_to_axis||t.options.drag_lock_to_axis&&t.options.drag_lock_min_distance<=e.distance)&&(e.drag_locked_to_axis=!0);var i=r.detection.current.lastEvent.direction;e.drag_locked_to_axis&&i!==e.direction&&(e.direction=r.utils.isVertical(i)?e.deltaY<0?r.DIRECTION_UP:r.DIRECTION_DOWN:e.deltaX<0?r.DIRECTION_LEFT:r.DIRECTION_RIGHT),this.triggered||(t.trigger(this.name+"start",e),this.triggered=!0),t.trigger(this.name,e),t.trigger(this.name+e.direction,e),(t.options.drag_block_vertical&&r.utils.isVertical(e.direction)||t.options.drag_block_horizontal&&!r.utils.isVertical(e.direction))&&e.preventDefault();break;case r.EVENT_END:this.triggered&&t.trigger(this.name+"end",e),this.triggered=!1}}},r.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(e,t){switch(e.eventType){case r.EVENT_START:clearTimeout(this.timer),r.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==r.detection.current.name&&t.trigger("hold",e)},t.options.hold_timeout);break;case r.EVENT_MOVE:e.distance>t.options.hold_threshold&&clearTimeout(this.timer);break;case r.EVENT_END:clearTimeout(this.timer)}}},r.gestures.Release={name:"release",index:1/0,handler:function(e,t){e.eventType==r.EVENT_END&&t.trigger(this.name,e)}},r.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_min_touches:1,swipe_max_touches:1,swipe_velocity:.7},handler:function(e,t){if(e.eventType==r.EVENT_END){if(t.options.swipe_max_touches>0&&e.touches.length<t.options.swipe_min_touches&&e.touches.length>t.options.swipe_max_touches)return;(e.velocityX>t.options.swipe_velocity||e.velocityY>t.options.swipe_velocity)&&(t.trigger(this.name,e),t.trigger(this.name+e.direction,e))}}},r.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(e,t){if(e.eventType==r.EVENT_END&&"touchcancel"!=e.srcEvent.type){var n=r.detection.previous,i=!1;if(e.deltaTime>t.options.tap_max_touchtime||e.distance>t.options.tap_max_distance)return;n&&"tap"==n.name&&e.timeStamp-n.lastEvent.timeStamp<t.options.doubletap_interval&&e.distance<t.options.doubletap_distance&&(t.trigger("doubletap",e),i=!0),(!i||t.options.tap_always)&&(r.detection.current.name="tap",t.trigger(r.detection.current.name,e))}}},r.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(e,t){return t.options.prevent_mouseevents&&e.pointerType==r.POINTER_MOUSE?(e.stopDetect(),void 0):(t.options.prevent_default&&e.preventDefault(),e.eventType==r.EVENT_START&&t.trigger(this.name,e),void 0)}},r.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(e,t){if(r.detection.current.name!=this.name&&this.triggered)return t.trigger(this.name+"end",e),this.triggered=!1,void 0;if(!(e.touches.length<2))switch(t.options.transform_always_block&&e.preventDefault(),e.eventType){case r.EVENT_START:this.triggered=!1;break;case r.EVENT_MOVE:var n=Math.abs(1-e.scale),i=Math.abs(e.rotation);if(n<t.options.transform_min_scale&&i<t.options.transform_min_rotation)return;r.detection.current.name=this.name,this.triggered||(t.trigger(this.name+"start",e),this.triggered=!0),t.trigger(this.name,e),i>t.options.transform_min_rotation&&t.trigger("rotate",e),n>t.options.transform_min_scale&&(t.trigger("pinch",e),t.trigger("pinch"+(e.scale<1?"in":"out"),e));break;case r.EVENT_END:this.triggered&&t.trigger(this.name+"end",e),this.triggered=!1}}},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("hammerjs",[],function(){return r}):"object"==typeof module&&"object"==typeof module.exports?module.exports=r:e.Hammer=r}(this),function(e,t){function n(e,n){e.event.bindDom=function(e,r,i){n(e).on(r,function(e){var n=e.originalEvent||e;n.pageX===t&&(n.pageX=e.pageX,n.pageY=e.pageY),n.target||(n.target=e.target),n.which===t&&(n.which=n.button),n.preventDefault||(n.preventDefault=e.preventDefault),n.stopPropagation||(n.stopPropagation=e.stopPropagation),i.call(this,n)})},e.Instance.prototype.on=function(e,t){return n(this.element).on(e,t)},e.Instance.prototype.off=function(e,t){return n(this.element).off(e,t)},e.Instance.prototype.trigger=function(e,t){var r=n(this.element);return r.has(t.target).length&&(r=n(t.target)),r.trigger({type:e,gesture:t})},n.fn.hammer=function(t){return this.each(function(){var r=n(this),i=r.data("hammer");i?i&&t&&e.utils.extend(i.options,t):r.data("hammer",new e(this,t||{}))})}}typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("hammer.jquery",["hammerjs","jquery"],n):n(e.Hammer,e.jQuery||e.Zepto)}(this),function(e,t,n){function r(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function i(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return d[e.which]?d[e.which]:v[e.which]?v[e.which]:String.fromCharCode(e.which).toLowerCase()}function s(e){e=e||{};var t=!1,n;for(n in E)e[n]?t=!0:E[n]=0;t||(N=!1)}function o(e,t,n,r,i,s){var o,u,a=[],f=n.type;if(!b[e])return[];"keyup"==f&&l(e)&&(t=[e]);for(o=0;o<b[e].length;++o)if(u=b[e][o],!(!r&&u.seq&&E[u.seq]!=u.level||f!=u.action||("keypress"!=f||n.metaKey||n.ctrlKey)&&t.sort().join(",")!==u.modifiers.sort().join(","))){var c=r&&u.seq==r&&u.level==s;(!r&&u.combo==i||c)&&b[e].splice(o,1),a.push(u)}return a}function u(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function a(e,t,n,r){C.stopCallback(t,t.target||t.srcElement,n,r)||!1!==e(t,n)||(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)}function f(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=i(e);t&&("keyup"==e.type&&x===t?x=!1:C.handleKey(t,u(e),e))}function l(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function c(e,t,n,r){function o(t){return function(){N=t,++E[e],clearTimeout(S),S=setTimeout(s,1e3)}}function u(t){a(n,t,e),"keyup"!==r&&(x=i(t)),setTimeout(s,10)}for(var f=E[e]=0;f<t.length;++f){var l=f+1===t.length?u:o(r||h(t[f+1]).action);p(t[f],l,r,e,f)}}function h(e,t){var n,r,i,s=[];n="+"===e?["+"]:e.split("+");for(i=0;i<n.length;++i)r=n[i],g[r]&&(r=g[r]),t&&"keypress"!=t&&m[r]&&(r=m[r],s.push("shift")),l(r)&&s.push(r);n=r,i=t;if(!i){if(!y){y={};for(var o in d)95<o&&112>o||d.hasOwnProperty(o)&&(y[d[o]]=o)}i=y[n]?"keydown":"keypress"}return"keypress"==i&&s.length&&(i="keydown"),{key:r,modifiers:s,action:i}}function p(e,t,n,r,i){w[e+":"+n]=t,e=e.replace(/\s+/g," ");var s=e.split(" ");1<s.length?c(e,s,t,n):(n=h(e,n),b[n.key]=b[n.key]||[],o(n.key,n.modifiers,{type:n.action},r,e,i),b[n.key][r?"unshift":"push"]({callback:t,modifiers:n.modifiers,action:n.action,seq:r,level:i,combo:e}))}var d={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},v={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},m={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},g={option:"alt",command:"meta","return":"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},y,b={},w={},E={},S,x=!1,T=!1,N=!1;for(n=1;20>n;++n)d[111+n]="f"+n;for(n=0;9>=n;++n)d[n+96]=n;r(t,"keypress",f),r(t,"keydown",f),r(t,"keyup",f);var C={bind:function(e,t,n){e=e instanceof Array?e:[e];for(var r=0;r<e.length;++r)p(e[r],t,n);return this},unbind:function(e,t){return C.bind(e,function(){},t)},trigger:function(e,t){return w[e+":"+t]&&w[e+":"+t]({},e),this},reset:function(){return b={},w={},this},stopCallback:function(e,t){return-1<(" "+t.className+" ").indexOf(" mousetrap ")?!1:"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},handleKey:function(e,t,n){var r=o(e,t,n),i;t={};var u=0,f=!1;for(i=0;i<r.length;++i)r[i].seq&&(u=Math.max(u,r[i].level));for(i=0;i<r.length;++i)r[i].seq?r[i].level==u&&(f=!0,t[r[i].seq]=1,a(r[i].callback,n,r[i].combo,r[i].seq)):f||a(r[i].callback,n,r[i].combo);r="keypress"==n.type&&T,n.type!=N||l(e)||r||s(t),T=f&&"keydown"==n.type}};e.Mousetrap=C,"function"==typeof define&&define.amd&&define("mousetrap",C)}(window,document),function(e,t){typeof define=="function"&&define.amd?define("dat",t):e.dat=t()}(this,function(){var e=e||{};return e.gui=e.gui||{},e.utils=e.utils||{},e.controllers=e.controllers||{},e.dom=e.dom||{},e.color=e.color||{},e.utils.css=function(){return{load:function(e,t){t=t||document;var n=t.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=e,t.getElementsByTagName("head")[0].appendChild(n)},inject:function(e,t){t=t||document;var n=document.createElement("style");n.type="text/css",n.innerHTML=e,t.getElementsByTagName("head")[0].appendChild(n)}}}(),e.utils.common=function(){var e=Array.prototype.forEach,t=Array.prototype.slice;return{BREAK:{},extend:function(e){return this.each(t.call(arguments,1),function(t){for(var n in t)this.isUndefined(t[n])||(e[n]=t[n])},this),e},defaults:function(e){return this.each(t.call(arguments,1),function(t){for(var n in t)this.isUndefined(e[n])&&(e[n]=t[n])},this),e},compose:function(){var e=t.call(arguments);return function(){var n=t.call(arguments);for(var r=e.length-1;r>=0;r--)n=[e[r].apply(this,n)];return n[0]}},each:function(t,n,r){if(!t)return;if(e&&t.forEach&&t.forEach===e)t.forEach(n,r);else if(t.length===t.length+0){for(var i=0,s=t.length;i<s;i++)if(i in t&&n.call(r,t[i],i)===this.BREAK)return}else for(var i in t)if(n.call(r,t[i],i)===this.BREAK)return},defer:function(e){setTimeout(e,0)},toArray:function(e){return e.toArray?e.toArray():t.call(e)},isUndefined:function(e){return e===undefined},isNull:function(e){return e===null},isNaN:function(e){return e!==e},isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return e===!1||e===!0},isFunction:function(e){return Object.prototype.toString.call(e)==="[object Function]"}}}(),e.controllers.Controller=function(e){var t=function(e,t){this.initialValue=e[t],this.domElement=document.createElement("div"),this.object=e,this.property=t,this.__onChange=undefined,this.__onFinishChange=undefined};return e.extend(t.prototype,{onChange:function(e){return this.__onChange=e,this},onFinishChange:function(e){return this.__onFinishChange=e,this},setValue:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this},getValue:function(){return this.object[this.property]},updateDisplay:function(){return this},isModified:function(){return this.initialValue!==this.getValue()}}),t}(e.utils.common),e.dom.dom=function(e){function i(t){if(t==="0"||e.isUndefined(t))return 0;var n=t.match(r);return e.isNull(n)?0:parseFloat(n[1])}var t={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},n={};e.each(t,function(t,r){e.each(t,function(e){n[e]=r})});var r=/(\d+(\.\d+)?)px/,s={makeSelectable:function(e,t){if(e===undefined||e.style===undefined)return;e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off"},makeFullscreen:function(t,n,r){e.isUndefined(n)&&(n=!0),e.isUndefined(r)&&(r=!0),t.style.position="absolute",n&&(t.style.left=0,t.style.right=0),r&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(t,r,i,s){i=i||{};var o=n[r];if(!o)throw new Error("Event type "+r+" not supported.");var u=document.createEvent(o);switch(o){case"MouseEvents":var a=i.x||i.clientX||0,f=i.y||i.clientY||0;u.initMouseEvent(r,i.bubbles||!1,i.cancelable||!0,window,i.clickCount||1,0,0,a,f,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var l=u.initKeyboardEvent||u.initKeyEvent;e.defaults(i,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:undefined,charCode:undefined}),l(r,i.bubbles||!1,i.cancelable,window,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.keyCode,i.charCode);break;default:u.initEvent(r,i.bubbles||!1,i.cancelable||!0)}e.defaults(u,s),t.dispatchEvent(u)},bind:function(e,t,n,r){return r=r||!1,e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on"+t,n),s},unbind:function(e,t,n,r){return r=r||!1,e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on"+t,n),s},addClass:function(e,t){if(e.className===undefined)e.className=t;else if(e.className!==t){var n=e.className.split(/ +/);n.indexOf(t)==-1&&(n.push(t),e.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return s},removeClass:function(e,t){if(t){if(e.className!==undefined)if(e.className===t)e.removeAttribute("class");else{var n=e.className.split(/ +/),r=n.indexOf(t);r!=-1&&(n.splice(r,1),e.className=n.join(" "))}}else e.className=undefined;return s},hasClass:function(e,t){return(new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)")).test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return i(t["border-left-width"])+i(t["border-right-width"])+i(t["padding-left"])+i(t["padding-right"])+i(t.width)},getHeight:function(e){var t=getComputedStyle(e);return i(t["border-top-width"])+i(t["border-bottom-width"])+i(t["padding-top"])+i(t["padding-bottom"])+i(t.height)},getOffset:function(e){var t={left:0,top:0};if(e.offsetParent)do t.left+=e.offsetLeft,t.top+=e.offsetTop;while(e=e.offsetParent);return t},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}};return s}(e.utils.common),e.controllers.OptionController=function(e,t,n){var r=function(e,i,s){r.superclass.call(this,e,i);var o=this;this.__select=document.createElement("select");if(n.isArray(s)){var u={};n.each(s,function(e){u[e]=e}),s=u}n.each(s,function(e,t){var n=document.createElement("option");n.innerHTML=t,n.setAttribute("value",e),o.__select.appendChild(n)}),this.updateDisplay(),t.bind(this.__select,"change",function(){var e=this.options[this.selectedIndex].value;o.setValue(e)}),this.domElement.appendChild(this.__select)};return r.superclass=e,n.extend(r.prototype,e.prototype,{setValue:function(e){var t=r.superclass.prototype.setValue.call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),t},updateDisplay:function(){return this.__select.value=this.getValue(),r.superclass.prototype.updateDisplay.call(this)}}),r}(e.controllers.Controller,e.dom.dom,e.utils.common),e.controllers.NumberController=function(e,t){function r(e){return e=e.toString(),e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0}var n=function(e,i,s){n.superclass.call(this,e,i),s=s||{},this.__min=s.min,this.__max=s.max,this.__step=s.step,t.isUndefined(this.__step)?this.initialValue==0?this.__impliedStep=1:this.__impliedStep=Math.pow(10,Math.floor(Math.log(this.initialValue)/Math.LN10))/10:this.__impliedStep=this.__step,this.__precision=r(this.__impliedStep)};return n.superclass=e,t.extend(n.prototype,e.prototype,{setValue:function(e){return this.__min!==undefined&&e<this.__min?e=this.__min:this.__max!==undefined&&e>this.__max&&(e=this.__max),this.__step!==undefined&&e%this.__step!=0&&(e=Math.round(e/this.__step)*this.__step),n.superclass.prototype.setValue.call(this,e)},min:function(e){return this.__min=e,this},max:function(e){return this.__max=e,this},step:function(e){return this.__step=e,this.__impliedStep=e,this.__precision=r(e),this}}),n}(e.controllers.Controller,e.utils.common),e.controllers.NumberControllerBox=function(e,t,n){function i(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}var r=function(e,i,s){function a(){var e=parseFloat(o.__input.value);n.isNaN(e)||o.setValue(e)}function f(){a(),o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}function l(e){t.bind(window,"mousemove",c),t.bind(window,"mouseup",h),u=e.clientY}function c(e){var t=u-e.clientY;o.setValue(o.getValue()+t*o.__impliedStep),u=e.clientY}function h(){t.unbind(window,"mousemove",c),t.unbind(window,"mouseup",h)}this.__truncationSuspended=!1,r.superclass.call(this,e,i,s);var o=this,u;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),t.bind(this.__input,"change",a),t.bind(this.__input,"blur",f),t.bind(this.__input,"mousedown",l),t.bind(this.__input,"keydown",function(e){e.keyCode===13&&(o.__truncationSuspended=!0,this.blur(),o.__truncationSuspended=!1)}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return r.superclass=e,n.extend(r.prototype,e.prototype,{updateDisplay:function(){return this.__input.value=this.__truncationSuspended?this.getValue():i(this.getValue(),this.__precision),r.superclass.prototype.updateDisplay.call(this)}}),r}(e.controllers.NumberController,e.dom.dom,e.utils.common),e.controllers.NumberControllerSlider=function(e,t,n,r,i){function o(e,t,n,r,i){return r+(i-r)*((e-t)/(n-t))}var s=function(e,n,r,i,u){function f(e){t.bind(window,"mousemove",l),t.bind(window,"mouseup",c),l(e)}function l(e){e.preventDefault();var n=t.getOffset(a.__background),r=t.getWidth(a.__background);return a.setValue(o(e.clientX,n.left,n.left+r,a.__min,a.__max)),!1}function c(){t.unbind(window,"mousemove",l),t.unbind(window,"mouseup",c),a.__onFinishChange&&a.__onFinishChange.call(a,a.getValue())}s.superclass.call(this,e,n,{min:r,max:i,step:u});var a=this;this.__background=document.createElement("div"),this.__foreground=document.createElement("div"),t.bind(this.__background,"mousedown",f),t.addClass(this.__background,"slider"),t.addClass(this.__foreground,"slider-fg"),this.updateDisplay(),this.__background.appendChild(this.__foreground),this.domElement.appendChild(this.__background)};return s.superclass=e,s.useDefaultStyles=function(){n.inject(i)},r.extend(s.prototype,e.prototype,{updateDisplay:function(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=e*100+"%",s.superclass.prototype.updateDisplay.call(this)}}),s}(e.controllers.NumberController,e.dom.dom,e.utils.css,e.utils.common,"/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\n.slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}"),e.controllers.FunctionController=function(e,t,n){var r=function(e,n,i){r.superclass.call(this,e,n);var s=this;this.__button=document.createElement("div"),this.__button.innerHTML=i===undefined?"Fire":i,t.bind(this.__button,"click",function(e){return e.preventDefault(),s.fire(),!1}),t.addClass(this.__button,"button"),this.domElement.appendChild(this.__button)};return r.superclass=e,n.extend(r.prototype,e.prototype,{fire:function(){this.__onChange&&this.__onChange.call(this),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.getValue().call(this.object)}}),r}(e.controllers.Controller,e.dom.dom,e.utils.common),e.controllers.BooleanController=function(e,t,n){var r=function(e,n){function s(){i.setValue(!i.__prev)}r.superclass.call(this,e,n);var i=this;this.__prev=this.getValue(),this.__checkbox=document.createElement("input"),this.__checkbox.setAttribute("type","checkbox"),t.bind(this.__checkbox,"change",s,!1),this.domElement.appendChild(this.__checkbox),this.updateDisplay()};return r.superclass=e,n.extend(r.prototype,e.prototype,{setValue:function(e){var t=r.superclass.prototype.setValue.call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),t},updateDisplay:function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0):this.__checkbox.checked=!1,r.superclass.prototype.updateDisplay.call(this)}}),r}(e.controllers.Controller,e.dom.dom,e.utils.common),e.color.toString=function(e){return function(t){if(t.a==1||e.isUndefined(t.a)){var n=t.hex.toString(16);while(n.length<6)n="0"+n;return"#"+n}return"rgba("+Math.round(t.r)+","+Math.round(t.g)+","+Math.round(t.b)+","+t.a+")"}}(e.utils.common),e.color.interpret=function(e,t){var n,r,i=function(){r=!1;var e=arguments.length>1?t.toArray(arguments):arguments[0];return t.each(s,function(i){if(i.litmus(e))return t.each(i.conversions,function(i,s){n=i.read(e);if(r===!1&&n!==!1)return r=n,n.conversionName=s,n.conversion=i,t.BREAK}),t.BREAK}),r},s=[{litmus:t.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return t===null?!1:{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString())}},write:e},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return t===null?!1:{space:"HEX",hex:parseInt("0x"+t[1].toString())}},write:e},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return t===null?!1:{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:e},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return t===null?!1:{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:e}}},{litmus:t.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:t.isArray,conversions:{RGB_ARRAY:{read:function(e){return e.length!=3?!1:{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return e.length!=4?!1:{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:t.isObject,conversions:{RGBA_OBJ:{read:function(e){return t.isNumber(e.r)&&t.isNumber(e.g)&&t.isNumber(e.b)&&t.isNumber(e.a)?{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return t.isNumber(e.r)&&t.isNumber(e.g)&&t.isNumber(e.b)?{space:"RGB",r:e.r,g:e.g,b:e.b}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return t.isNumber(e.h)&&t.isNumber(e.s)&&t.isNumber(e.v)&&t.isNumber(e.a)?{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return t.isNumber(e.h)&&t.isNumber(e.s)&&t.isNumber(e.v)?{space:"HSV",h:e.h,s:e.s,v:e.v}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}];return i}(e.color.toString,e.utils.common),e.GUI=e.gui.GUI=function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d){function C(e,t,n,s){if(t[n]===undefined)throw new Error("Object "+t+' has no property "'+n+'"');var o;if(s.color)o=new l(t,n);else{var u=[t,n].concat(s.factoryArgs);o=r.apply(e,u)}s.before instanceof i&&(s.before=s.before.__li),A(e,o),p.addClass(o.domElement,"c");var a=document.createElement("span");p.addClass(a,"property-name"),a.innerHTML=o.property;var f=document.createElement("div");f.appendChild(a),f.appendChild(o.domElement);var c=k(e,f,s.before);return p.addClass(c,N.CLASS_CONTROLLER_ROW),p.addClass(c,typeof o.getValue()),L(e,c,o),e.__controllers.push(o),o}function k(e,t,n){var r=document.createElement("li");return t&&r.appendChild(t),n?e.__ul.insertBefore(r,params.before):e.__ul.appendChild(r),e.onResize(),r}function L(e,t,n){n.__li=t,n.__gui=e,d.extend(n,{options:function(t){if(arguments.length>1)return n.remove(),C(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[d.toArray(arguments)]});if(d.isArray(t)||d.isObject(t))return n.remove(),C(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[t]})},name:function(e){return n.__li.firstElementChild.firstElementChild.innerHTML=e,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}});if(n instanceof a){var r=new u(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});d.each(["updateDisplay","onChange","onFinishChange"],function(e){var t=n[e],i=r[e];n[e]=r[e]=function(){var e=Array.prototype.slice.call(arguments);return t.apply(n,e),i.apply(r,e)}}),p.addClass(t,"has-slider"),n.domElement.insertBefore(r.domElement,n.domElement.firstElementChild)}else if(n instanceof u){var i=function(t){return d.isNumber(n.__min)&&d.isNumber(n.__max)?(n.remove(),C(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]})):t};n.min=d.compose(i,n.min),n.max=d.compose(i,n.max)}else n instanceof s?(p.bind(t,"click",function(){p.fakeEvent(n.__checkbox,"click")}),p.bind(n.__checkbox,"click",function(e){e.stopPropagation()})):n instanceof o?(p.bind(t,"click",function(){p.fakeEvent(n.__button,"click")}),p.bind(t,"mouseover",function(){p.addClass(n.__button,"hover")}),p.bind(t,"mouseout",function(){p.removeClass(n.__button,"hover")})):n instanceof l&&(p.addClass(t,"color"),n.updateDisplay=d.compose(function(e){return t.style.borderLeftColor=n.__color.toString(),e},n.updateDisplay),n.updateDisplay());n.setValue=d.compose(function(t){return e.getRoot().__preset_select&&n.isModified()&&j(e.getRoot(),!0),t},n.setValue)}function A(e,t){var n=e.getRoot(),r=n.__rememberedObjects.indexOf(t.object);if(r!=-1){var i=n.__rememberedObjectIndecesToControllers[r];i===undefined&&(i={},n.__rememberedObjectIndecesToControllers[r]=i),i[t.property]=t;if(n.load&&n.load.remembered){var s=n.load.remembered,o;if(s[e.preset])o=s[e.preset];else{if(!s[y])return;o=s[y]}if(o[r]&&o[r][t.property]!==undefined){var u=o[r][t.property];t.initialValue=u,t.setValue(u)}}}}function O(e,t){return document.location.href+"."+t}function M(e){var t=e.__save_row=document.createElement("li");p.addClass(e.domElement,"has-save"),e.__ul.insertBefore(t,e.__ul.firstChild),p.addClass(t,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",p.addClass(n,"button gears");var r=document.createElement("span");r.innerHTML="Save",p.addClass(r,"button"),p.addClass(r,"save");var i=document.createElement("span");i.innerHTML="New",p.addClass(i,"button"),p.addClass(i,"save-as");var s=document.createElement("span");s.innerHTML="Revert",p.addClass(s,"button"),p.addClass(s,"revert");var o=e.__preset_select=document.createElement("select");e.load&&e.load.remembered?d.each(e.load.remembered,function(t,n){H(e,n,n==e.preset)}):H(e,y,!1),p.bind(o,"change",function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value}),t.appendChild(o),t.appendChild(n),t.appendChild(r),t.appendChild(i),t.appendChild(s);if(b){var u=document.getElementById("dg-save-locally"),a=document.getElementById("dg-local-explain");u.style.display="block";var f=document.getElementById("dg-local-storage");localStorage.getItem(O(e,"isLocal"))==="true"&&f.setAttribute("checked","checked");function l(){a.style.display=e.useLocalStorage?"block":"none"}l(),p.bind(f,"change",function(){e.useLocalStorage=!e.useLocalStorage,l()})}var c=document.getElementById("dg-new-constructor");p.bind(c,"keydown",function(e){e.metaKey&&(e.which===67||e.keyCode==67)&&w.hide()}),p.bind(n,"click",function(){c.innerHTML=JSON.stringify(e.getSaveObject(),undefined,2),w.show(),c.focus(),c.select()}),p.bind(r,"click",function(){e.save()}),p.bind(i,"click",function(){var t=prompt("Enter a new preset name.");t&&e.saveAs(t)}),p.bind(s,"click",function(){e.revert()})}function _(e){function n(n){return n.preventDefault(),t=n.clientX,p.addClass(e.__closeButton,N.CLASS_DRAG),p.bind(window,"mousemove",r),p.bind(window,"mouseup",i),!1}function r(n){return n.preventDefault(),e.width+=t-n.clientX,e.onResize(),t=n.clientX,!1}function i(){p.removeClass(e.__closeButton,N.CLASS_DRAG),p.unbind(window,"mousemove",r),p.unbind(window,"mouseup",i)}e.__resize_handle=document.createElement("div"),d.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});var t;p.bind(e.__resize_handle,"mousedown",n),p.bind(e.__closeButton,"mousedown",n),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}function D(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function P(e,t){var n={};return d.each(e.__rememberedObjects,function(r,i){var s={},o=e.__rememberedObjectIndecesToControllers[i];d.each(o,function(e,n){s[n]=t?e.initialValue:e.getValue()}),n[i]=s}),n}function H(e,t,n){var r=document.createElement("option");r.innerHTML=t,r.value=t,e.__preset_select.appendChild(r),n&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function B(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value==e.preset&&(e.__preset_select.selectedIndex=t)}function j(e,t){var n=e.__preset_select[e.__preset_select.selectedIndex];t?n.innerHTML=n.value+"*":n.innerHTML=n.value}function F(e){e.length!=0&&c(function(){F(e)}),d.each(e,function(e){e.updateDisplay()})}e.inject(n);var v="dg",m=72,g=20,y="Default",b=function(){try{return"localStorage"in window&&window.localStorage!==null}catch(e){return!1}}(),w,E=!0,S,x=!1,T=[],N=function(e){function f(){var e=t.getRoot();e.width+=1,d.defer(function(){e.width-=1})}var t=this;this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),p.addClass(this.domElement,v),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],e=e||{},e=d.defaults(e,{autoPlace:!0,width:N.DEFAULT_WIDTH}),e=d.defaults(e,{resizable:e.autoPlace,hideable:e.autoPlace}),d.isUndefined(e.load)?e.load={preset:y}:e.preset&&(e.load.preset=e.preset),d.isUndefined(e.parent)&&e.hideable&&T.push(this),e.resizable=d.isUndefined(e.parent)&&e.resizable,e.autoPlace&&d.isUndefined(e.scrollable)&&(e.scrollable=!0);var n=b&&localStorage.getItem(O(this,"isLocal"))==="true",r;Object.defineProperties(this,{parent:{get:function(){return e.parent}},scrollable:{get:function(){return e.scrollable}},autoPlace:{get:function(){return e.autoPlace}},preset:{get:function(){return t.parent?t.getRoot().preset:e.load.preset},set:function(n){t.parent?t.getRoot().preset=n:e.load.preset=n,B(this),t.revert()}},width:{get:function(){return e.width},set:function(n){e.width=n,D(t,n)}},name:{get:function(){return e.name},set:function(t){e.name=t,s&&(s.innerHTML=e.name)}},closed:{get:function(){return e.closed},set:function(n){e.closed=n,e.closed?p.addClass(t.__ul,N.CLASS_CLOSED):p.removeClass(t.__ul,N.CLASS_CLOSED),this.onResize(),t.__closeButton&&(t.__closeButton.innerHTML=n?N.TEXT_OPEN:N.TEXT_CLOSED)}},load:{get:function(){return e.load}},useLocalStorage:{get:function(){return n},set:function(e){b&&(n=e,e?p.bind(window,"unload",r):p.unbind(window,"unload",r),localStorage.setItem(O(t,"isLocal"),e))}}});if(d.isUndefined(e.parent)){e.closed=!1,p.addClass(this.domElement,N.CLASS_MAIN),p.makeSelectable(this.domElement,!1);if(b&&n){t.useLocalStorage=!0;var i=localStorage.getItem(O(this,"gui"));i&&(e.load=JSON.parse(i))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=N.TEXT_CLOSED,p.addClass(this.__closeButton,N.CLASS_CLOSE_BUTTON),this.domElement.appendChild(this.__closeButton),p.bind(this.__closeButton,"click",function(){t.closed=!t.closed})}else{e.closed===undefined&&(e.closed=!0);var s=document.createTextNode(e.name);p.addClass(s,"controller-name");var o=k(t,s),u=function(e){return e.preventDefault(),t.closed=!t.closed,!1};p.addClass(this.__ul,N.CLASS_CLOSED),p.addClass(o,"title"),p.bind(o,"click",u),e.closed||(this.closed=!1)}e.autoPlace&&(d.isUndefined(e.parent)&&(E&&(S=document.createElement("div"),p.addClass(S,v),p.addClass(S,N.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(S),E=!1),S.appendChild(this.domElement),p.addClass(this.domElement,N.CLASS_AUTO_PLACE)),this.parent||D(t,e.width)),p.bind(window,"resize",function(){t.onResize()}),p.bind(this.__ul,"webkitTransitionEnd",function(){t.onResize()}),p.bind(this.__ul,"transitionend",function(){t.onResize()}),p.bind(this.__ul,"oTransitionEnd",function(){t.onResize()}),this.onResize(),e.resizable&&_(this),r=function(){b&&localStorage.getItem(O(t,"isLocal"))==="true"&&localStorage.setItem(O(t,"gui"),JSON.stringify(t.getSaveObject()))},this.saveToLocalStorageIfPossible=r;var a=t.getRoot();e.parent||f()};return N.toggleHide=function(){x=!x,d.each(T,function(e){e.domElement.style.zIndex=x?-999:999,e.domElement.style.opacity=x?0:1})},N.CLASS_AUTO_PLACE="a",N.CLASS_AUTO_PLACE_CONTAINER="ac",N.CLASS_MAIN="main",N.CLASS_CONTROLLER_ROW="cr",N.CLASS_TOO_TALL="taller-than-window",N.CLASS_CLOSED="closed",N.CLASS_CLOSE_BUTTON="close-button",N.CLASS_DRAG="drag",N.DEFAULT_WIDTH=245,N.TEXT_CLOSED="Close Controls",N.TEXT_OPEN="Open Controls",p.bind(window,"keydown",function(e){document.activeElement.type!=="text"&&(e.which===m||e.keyCode==m)&&N.toggleHide()},!1),d.extend(N.prototype,{add:function(e,t){return C(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return C(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.slice(this.__controllers.indexOf(e),1);var t=this;d.defer(function(){t.onResize()})},destroy:function(){this.autoPlace&&S.removeChild(this.domElement)},addFolder:function(e){if(this.__folders[e]!==undefined)throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var n=new N(t);this.__folders[e]=n;var r=k(this,n.domElement);return p.addClass(r,"folder"),n},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=p.getOffset(e.__ul).top,n=0;d.each(e.__ul.childNodes,function(t){if(!e.autoPlace||t!==e.__save_row)n+=p.getHeight(t)}),window.innerHeight-t-g<n?(p.addClass(e.domElement,N.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-g+"px"):(p.removeClass(e.domElement,N.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&d.defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"}),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},remember:function(){d.isUndefined(w)&&(w=new h,w.domElement.innerHTML=t);if(this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;d.each(Array.prototype.slice.call(arguments),function(t){e.__rememberedObjects.length==0&&M(e),e.__rememberedObjects.indexOf(t)==-1&&e.__rememberedObjects.push(t)}),this.autoPlace&&D(this,this.width)},getRoot:function(){var e=this;while(e.parent)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=P(this)),e.folders={},d.each(this.__folders,function(t,n){e.folders[n]=t.getSaveObject()}),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=P(this),j(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[y]=P(this,!0)),this.load.remembered[e]=P(this),this.preset=e,H(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){d.each(this.__controllers,function(t){this.getRoot().load.remembered?A(e||this.getRoot(),t):t.setValue(t.initialValue)},this),d.each(this.__folders,function(e){e.revert(e)}),e||j(this.getRoot(),!1)},listen:function(e){var t=this.__listening.length==0;this.__listening.push(e),t&&F(this.__listening)}}),N}(e.utils.css,'<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>',".dg {\n  /** Clear list styles */\n  /* Auto-place container */\n  /* Auto-placed GUI's */\n  /* Line items that don't contain folders. */\n  /** Folder names */\n  /** Hides closed items */\n  /** Controller row */\n  /** Name-half (left) */\n  /** Controller-half (right) */\n  /** Controller placement */\n  /** Shorter number boxes when slider is present. */\n  /** Ensure the entire boolean and function row shows a hand */ }\n  .dg ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    clear: both; }\n  .dg.ac {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 0;\n    z-index: 0; }\n  .dg:not(.ac) .main {\n    /** Exclude mains in ac so that we don't hide close button */\n    overflow: hidden; }\n  .dg.main {\n    -webkit-transition: opacity 0.1s linear;\n    -o-transition: opacity 0.1s linear;\n    -moz-transition: opacity 0.1s linear;\n    transition: opacity 0.1s linear; }\n    .dg.main.taller-than-window {\n      overflow-y: auto; }\n      .dg.main.taller-than-window .close-button {\n        opacity: 1;\n        /* TODO, these are style notes */\n        margin-top: -1px;\n        border-top: 1px solid #2c2c2c; }\n    .dg.main ul.closed .close-button {\n      opacity: 1 !important; }\n    .dg.main:hover .close-button,\n    .dg.main .close-button.drag {\n      opacity: 1; }\n    .dg.main .close-button {\n      /*opacity: 0;*/\n      -webkit-transition: opacity 0.1s linear;\n      -o-transition: opacity 0.1s linear;\n      -moz-transition: opacity 0.1s linear;\n      transition: opacity 0.1s linear;\n      border: 0;\n      position: absolute;\n      line-height: 19px;\n      height: 20px;\n      /* TODO, these are style notes */\n      cursor: pointer;\n      text-align: center;\n      background-color: #000; }\n      .dg.main .close-button:hover {\n        background-color: #111; }\n  .dg.a {\n    float: right;\n    margin-right: 15px;\n    overflow-x: hidden; }\n    .dg.a.has-save > ul {\n      margin-top: 27px; }\n      .dg.a.has-save > ul.closed {\n        margin-top: 0; }\n    .dg.a .save-row {\n      position: fixed;\n      top: 0;\n      z-index: 1002; }\n  .dg li {\n    -webkit-transition: height 0.1s ease-out;\n    -o-transition: height 0.1s ease-out;\n    -moz-transition: height 0.1s ease-out;\n    transition: height 0.1s ease-out; }\n  .dg li:not(.folder) {\n    cursor: auto;\n    height: 27px;\n    line-height: 27px;\n    overflow: hidden;\n    padding: 0 4px 0 5px; }\n  .dg li.folder {\n    padding: 0;\n    border-left: 4px solid rgba(0, 0, 0, 0); }\n  .dg li.title {\n    cursor: pointer;\n    margin-left: -4px; }\n  .dg .closed li:not(.title),\n  .dg .closed ul li,\n  .dg .closed ul li > * {\n    height: 0;\n    overflow: hidden;\n    border: 0; }\n  .dg .cr {\n    clear: both;\n    padding-left: 3px;\n    height: 27px; }\n  .dg .property-name {\n    cursor: default;\n    float: left;\n    clear: left;\n    width: 40%;\n    overflow: hidden;\n    text-overflow: ellipsis; }\n  .dg .c {\n    float: left;\n    width: 60%; }\n  .dg .c input[type=text] {\n    border: 0;\n    margin-top: 4px;\n    padding: 3px;\n    width: 100%;\n    float: right; }\n  .dg .has-slider input[type=text] {\n    width: 30%;\n    /*display: none;*/\n    margin-left: 0; }\n  .dg .slider {\n    float: left;\n    width: 66%;\n    margin-left: -5px;\n    margin-right: 0;\n    height: 19px;\n    margin-top: 4px; }\n  .dg .slider-fg {\n    height: 100%; }\n  .dg .c input[type=checkbox] {\n    margin-top: 9px; }\n  .dg .c select {\n    margin-top: 5px; }\n  .dg .cr.function,\n  .dg .cr.function .property-name,\n  .dg .cr.function *,\n  .dg .cr.boolean,\n  .dg .cr.boolean * {\n    cursor: pointer; }\n  .dg .selector {\n    display: none;\n    position: absolute;\n    margin-left: -9px;\n    margin-top: 23px;\n    z-index: 10; }\n  .dg .c:hover .selector,\n  .dg .selector.drag {\n    display: block; }\n  .dg li.save-row {\n    padding: 0; }\n    .dg li.save-row .button {\n      display: inline-block;\n      padding: 0px 6px; }\n  .dg.dialogue {\n    background-color: #222;\n    width: 460px;\n    padding: 15px;\n    font-size: 13px;\n    line-height: 15px; }\n\n/* TODO Separate style and structure */\n#dg-new-constructor {\n  padding: 10px;\n  color: #222;\n  font-family: Monaco, monospace;\n  font-size: 10px;\n  border: 0;\n  resize: none;\n  box-shadow: inset 1px 1px 1px #888;\n  word-wrap: break-word;\n  margin: 12px 0;\n  display: block;\n  width: 440px;\n  overflow-y: scroll;\n  height: 100px;\n  position: relative; }\n\n#dg-local-explain {\n  display: none;\n  font-size: 11px;\n  line-height: 17px;\n  border-radius: 3px;\n  background-color: #333;\n  padding: 8px;\n  margin-top: 10px; }\n  #dg-local-explain code {\n    font-size: 10px; }\n\n#dat-gui-save-locally {\n  display: none; }\n\n/** Main type */\n.dg {\n  color: #eee;\n  font: 11px 'Lucida Grande', sans-serif;\n  text-shadow: 0 -1px 0 #111;\n  /** Auto place */\n  /* Controller row, <li> */\n  /** Controllers */ }\n  .dg.main {\n    /** Scrollbar */ }\n    .dg.main::-webkit-scrollbar {\n      width: 5px;\n      background: #1a1a1a; }\n    .dg.main::-webkit-scrollbar-corner {\n      height: 0;\n      display: none; }\n    .dg.main::-webkit-scrollbar-thumb {\n      border-radius: 5px;\n      background: #676767; }\n  .dg li:not(.folder) {\n    background: #1a1a1a;\n    border-bottom: 1px solid #2c2c2c; }\n  .dg li.save-row {\n    line-height: 25px;\n    background: #dad5cb;\n    border: 0; }\n    .dg li.save-row select {\n      margin-left: 5px;\n      width: 108px; }\n    .dg li.save-row .button {\n      margin-left: 5px;\n      margin-top: 1px;\n      border-radius: 2px;\n      font-size: 9px;\n      line-height: 7px;\n      padding: 4px 4px 5px 4px;\n      background: #c5bdad;\n      color: #fff;\n      text-shadow: 0 1px 0 #b0a58f;\n      box-shadow: 0 -1px 0 #b0a58f;\n      cursor: pointer; }\n      .dg li.save-row .button.gears {\n        background: #c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;\n        height: 7px;\n        width: 8px; }\n      .dg li.save-row .button:hover {\n        background-color: #bab19e;\n        box-shadow: 0 -1px 0 #b0a58f; }\n  .dg li.folder {\n    border-bottom: 0; }\n  .dg li.title {\n    padding-left: 16px;\n    background: black url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;\n    cursor: pointer;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.2); }\n  .dg .closed li.title {\n    background-image: url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==); }\n  .dg .cr.boolean {\n    border-left: 3px solid #806787; }\n  .dg .cr.function {\n    border-left: 3px solid #e61d5f; }\n  .dg .cr.number {\n    border-left: 3px solid #2fa1d6; }\n    .dg .cr.number input[type=text] {\n      color: #2fa1d6; }\n  .dg .cr.string {\n    border-left: 3px solid #1ed36f; }\n    .dg .cr.string input[type=text] {\n      color: #1ed36f; }\n  .dg .cr.function:hover, .dg .cr.boolean:hover {\n    background: #111; }\n  .dg .c input[type=text] {\n    background: #303030;\n    outline: none; }\n    .dg .c input[type=text]:hover {\n      background: #3c3c3c; }\n    .dg .c input[type=text]:focus {\n      background: #494949;\n      color: #fff; }\n  .dg .c .slider {\n    background: #303030;\n    cursor: ew-resize; }\n  .dg .c .slider-fg {\n    background: #2fa1d6; }\n  .dg .c .slider:hover {\n    background: #3c3c3c; }\n    .dg .c .slider:hover .slider-fg {\n      background: #44abda; }\n",e.controllers.factory=function(e,t,n,r,i,s,o){return function(u,a){var f=u[a];if(o.isArray(arguments[2])||o.isObject(arguments[2]))return new e(u,a,arguments[2]);if(o.isNumber(f))return o.isNumber(arguments[2])&&o.isNumber(arguments[3])?new n(u,a,arguments[2],arguments[3]):new t(u,a,{min:arguments[2],max:arguments[3]});if(o.isString(f))return new r(u,a);if(o.isFunction(f))return new i(u,a,"");if(o.isBoolean(f))return new s(u,a)}}(e.controllers.OptionController,e.controllers.NumberControllerBox,e.controllers.NumberControllerSlider,e.controllers.StringController=function(e,t,n){var r=function(e,n){function s(){i.setValue(i.__input.value)}function o(){i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())}r.superclass.call(this,e,n);var i=this;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),t.bind(this.__input,"keyup",s),t.bind(this.__input,"change",s),t.bind(this.__input,"blur",o),t.bind(this.__input,"keydown",function(e){e.keyCode===13&&this.blur()}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return r.superclass=e,n.extend(r.prototype,e.prototype,{updateDisplay:function(){return t.isActive(this.__input)||(this.__input.value=this.getValue()),r.superclass.prototype.updateDisplay.call(this)}}),r}(e.controllers.Controller,e.dom.dom,e.utils.common),e.controllers.FunctionController,e.controllers.BooleanController,e.utils.common),e.controllers.Controller,e.controllers.BooleanController,e.controllers.FunctionController,e.controllers.NumberControllerBox,e.controllers.NumberControllerSlider,e.controllers.OptionController,e.controllers.ColorController=function(e,t,n,r,i){function u(e,t,n,r){e.style.background="",i.each(o,function(i){e.style.cssText+="background: "+i+"linear-gradient("+t+", "+n+" 0%, "+r+" 100%); "})}function a(e){e.style.background="",e.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",e.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var s=function(e,o){function c(e){v(e),t.bind(window,"mousemove",v),t.bind(window,"mouseup",h)}function h(){t.unbind(window,"mousemove",v),t.unbind(window,"mouseup",h)}function p(){var e=r(this.value);e!==!1?(f.__color.__state=e,f.setValue(f.__color.toOriginal())):this.value=f.__color.toString()}function d(){t.unbind(window,"mousemove",m),t.unbind(window,"mouseup",d)}function v(e){e.preventDefault();var n=t.getWidth(f.__saturation_field),r=t.getOffset(f.__saturation_field),i=(e.clientX-r.left+document.body.scrollLeft)/n,s=1-(e.clientY-r.top+document.body.scrollTop)/n;return s>1?s=1:s<0&&(s=0),i>1?i=1:i<0&&(i=0),f.__color.v=s,f.__color.s=i,f.setValue(f.__color.toOriginal()),!1}function m(e){e.preventDefault();var n=t.getHeight(f.__hue_field),r=t.getOffset(f.__hue_field),i=1-(e.clientY-r.top+document.body.scrollTop)/n;return i>1?i=1:i<0&&(i=0),f.__color.h=i*360,f.setValue(f.__color.toOriginal()),!1}s.superclass.call(this,e,o),this.__color=new n(this.getValue()),this.__temp=new n(0);var f=this;this.domElement=document.createElement("div"),t.makeSelectable(this.domElement,!1),this.__selector=document.createElement("div"),this.__selector.className="selector",this.__saturation_field=document.createElement("div"),this.__saturation_field.className="saturation-field",this.__field_knob=document.createElement("div"),this.__field_knob.className="field-knob",this.__field_knob_border="2px solid ",this.__hue_knob=document.createElement("div"),this.__hue_knob.className="hue-knob",this.__hue_field=document.createElement("div"),this.__hue_field.className="hue-field",this.__input=document.createElement("input"),this.__input.type="text",this.__input_textShadow="0 1px 1px ",t.bind(this.__input,"keydown",function(e){e.keyCode===13&&p.call(this)}),t.bind(this.__input,"blur",p),t.bind(this.__selector,"mousedown",function(e){t.addClass(this,"drag").bind(window,"mouseup",function(e){t.removeClass(f.__selector,"drag")})});var l=document.createElement("div");i.extend(this.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),i.extend(this.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:this.__field_knob_border+(this.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),i.extend(this.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),i.extend(this.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),i.extend(l.style,{width:"100%",height:"100%",background:"none"}),u(l,"top","rgba(0,0,0,0)","#000"),i.extend(this.__hue_field.style,{width:"15px",height:"100px",display:"inline-block",border:"1px solid #555",cursor:"ns-resize"}),a(this.__hue_field),i.extend(this.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:this.__input_textShadow+"rgba(0,0,0,0.7)"}),t.bind(this.__saturation_field,"mousedown",c),t.bind(this.__field_knob,"mousedown",c),t.bind(this.__hue_field,"mousedown",function(e){m(e),t.bind(window,"mousemove",m),t.bind(window,"mouseup",d)}),this.__saturation_field.appendChild(l),this.__selector.appendChild(this.__field_knob),this.__selector.appendChild(this.__saturation_field),this.__selector.appendChild(this.__hue_field),this.__hue_field.appendChild(this.__hue_knob),this.domElement.appendChild(this.__input),this.domElement.appendChild(this.__selector),this.updateDisplay()};s.superclass=e,i.extend(s.prototype,e.prototype,{updateDisplay:function(){var e=r(this.getValue());if(e!==!1){var t=!1;i.each(n.COMPONENTS,function(n){if(!i.isUndefined(e[n])&&!i.isUndefined(this.__color.__state[n])&&e[n]!==this.__color.__state[n])return t=!0,{}},this),t&&i.extend(this.__color.__state,e)}i.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var s=this.__color.v<.5||this.__color.s>.5?255:0,o=255-s;i.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+"rgb("+s+","+s+","+s+")"}),this.__hue_knob.style.marginTop=(1-this.__color.h/360)*100+"px",this.__temp.s=1,this.__temp.v=1,u(this.__saturation_field,"left","#fff",this.__temp.toString()),i.extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:"rgb("+s+","+s+","+s+")",textShadow:this.__input_textShadow+"rgba("+o+","+o+","+o+",.7)"})}});var o=["-moz-","-o-","-webkit-","-ms-",""];return s}(e.controllers.Controller,e.dom.dom,e.color.Color=function(e,t,n,r){function s(e,t,n){Object.defineProperty(e,t,{get:function(){return this.__state.space==="RGB"?this.__state[t]:(u(this,t,n),this.__state[t])},set:function(e){this.__state.space!=="RGB"&&(u(this,t,n),this.__state.space="RGB"),this.__state[t]=e}})}function o(e,t){Object.defineProperty(e,t,{get:function(){return this.__state.space==="HSV"?this.__state[t]:(a(this),this.__state[t])},set:function(e){this.__state.space!=="HSV"&&(a(this),this.__state.space="HSV"),this.__state[t]=e}})}function u(e,n,i){if(e.__state.space==="HEX")e.__state[n]=t.component_from_hex(e.__state.hex,i);else{if(e.__state.space!=="HSV")throw"Corrupted color state";r.extend(e.__state,t.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}}function a(e){var n=t.rgb_to_hsv(e.r,e.g,e.b);r.extend(e.__state,{s:n.s,v:n.v}),r.isNaN(n.h)?r.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=n.h}var i=function(){this.__state=e.apply(this,arguments);if(this.__state===!1)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};return i.COMPONENTS=["r","g","b","h","s","v","hex","a"],r.extend(i.prototype,{toString:function(){return n(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),s(i.prototype,"r",2),s(i.prototype,"g",1),s(i.prototype,"b",0),o(i.prototype,"h"),o(i.prototype,"s"),o(i.prototype,"v"),Object.defineProperty(i.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(i.prototype,"hex",{get:function(){return!this.__state.space!=="HEX"&&(this.__state.hex=t.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}}),i}(e.color.interpret,e.color.math=function(){var e;return{hsv_to_rgb:function(e,t,n){var r=Math.floor(e/60)%6,i=e/60-Math.floor(e/60),s=n*(1-t),o=n*(1-i*t),u=n*(1-(1-i)*t),a=[[n,u,s],[o,n,s],[s,n,u],[s,o,n],[u,s,n],[n,s,o]][r];return{r:a[0]*255,g:a[1]*255,b:a[2]*255}},rgb_to_hsv:function(e,t,n){var r=Math.min(e,t,n),i=Math.max(e,t,n),s=i-r,o,u;return i==0?{h:NaN,s:0,v:0}:(u=s/i,e==i?o=(t-n)/s:t==i?o=2+(n-e)/s:o=4+(e-t)/s,o/=6,o<0&&(o+=1),{h:o*360,s:u,v:i/255})},rgb_to_hex:function(e,t,n){var r=this.hex_with_component(0,2,e);return r=this.hex_with_component(r,1,t),r=this.hex_with_component(r,0,n),r},component_from_hex:function(e,t){return e>>t*8&255},hex_with_component:function(t,n,r){return r<<(e=n*8)|t&~(255<<e)}}}(),e.color.toString,e.utils.common),e.color.interpret,e.utils.common),e.utils.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}}(),e.dom.CenteredDiv=function(e,t){function r(e){console.log(e)}var n=function(){this.backgroundElement=document.createElement("div"),t.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear"}),e.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),t.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var n=this;e.bind(this.backgroundElement,"click",function(){n.hide()})};return n.prototype.show=function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),t.defer(function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"})},n.prototype.hide=function(){var t=this,n=function(){t.domElement.style.display="none",t.backgroundElement.style.display="none",e.unbind(t.domElement,"webkitTransitionEnd",n),e.unbind(t.domElement,"transitionend",n),e.unbind(t.domElement,"oTransitionEnd",n)};e.bind(this.domElement,"webkitTransitionEnd",n),e.bind(this.domElement,"transitionend",n),e.bind(this.domElement,"oTransitionEnd",n),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"},n.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-e.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-e.getHeight(this.domElement)/2+"px"},n}(e.dom.dom,e.utils.common),e.dom.dom,e.utils.common),e}),!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define("math",e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.mathjs=e()}}(function(){var e;return function t(e,n,r){function i(o,u){if(!n[o]){if(!e[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};e[o][0].call(f.exports,function(t){var n=e[o][1][t];return i(n?n:t)},f,f.exports,t,e,n,r)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t){t.exports=e("./lib/math.js")},{"./lib/math.js":207}],2:[function(e,t){t.exports=function(t){function n(e){if(!(this instanceof n))throw new SyntaxError("Selector constructor must be called with the new operator");this.value=e instanceof n?e.value:e}function r(e,t){var r=Array.prototype.slice;n.prototype[e]="function"==typeof t?function(){var e=[this.value].concat(r.call(arguments,0));return new n(t.apply(this,e))}:new n(t)}var i=e("../util/string");n.prototype.done=function(){return this.value},n.prototype.valueOf=function(){return this.value},n.prototype.toString=function(){return i.format(this.value)},n.createProxy=r;for(var s in t)t.hasOwnProperty(s)&&s&&r(s,t[s]);return n}},{"../util/string":221}],3:[function(e,t){t.exports=function(t){var n=e("./type/Complex");t.pi=Math.PI,t.e=Math.E,t.tau=2*Math.PI,t.i=new n(0,1),t.Infinity=1/0,t.NaN=0/0,t["true"]=!0,t["false"]=!1,t.E=Math.E,t.LN2=Math.LN2,t.LN10=Math.LN10,t.LOG2E=Math.LOG2E,t.LOG10E=Math.LOG10E,t.PI=Math.PI,t.SQRT1_2=Math.SQRT1_2,t.SQRT2=Math.SQRT2}},{"./type/Complex":208}],4:[function(e,t){function n(e){if(!(this instanceof n))throw new SyntaxError("Parser constructor must be called with the new operator");if("object"!=typeof e)throw new TypeError("Object expected as parameter math");this.math=e,this.scope={}}var r=e("./parse");n.prototype.parse=function(e){return r(e)},n.prototype.compile=function(e){return r(e).compile(this.math)},n.prototype.eval=function(e){return r(e).compile(this.math).eval(this.scope)},n.prototype.get=function(e){return this.scope[e]},n.prototype.set=function(e,t){return this.scope[e]=t},n.prototype.remove=function(e){delete this.scope[e]},n.prototype.clear=function(){for(var e in this.scope)this.scope.hasOwnProperty(e)&&delete this.scope[e]},t.exports=n},{"./parse":120}],5:[function(e,t){t.exports={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]}},{}],6:[function(e,t){t.exports={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]}},{}],7:[function(e,t){t.exports={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]}},{}],8:[function(e,t){t.exports={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]}},{}],9:[function(e,t){t.exports={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]}},{}],10:[function(e,t){t.exports={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]}},{}],11:[function(e,t){t.exports={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]}},{}],12:[function(e,t){t.exports={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]}},{}],13:[function(e,t){t.exports={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]}},{}],14:[function(e,t){t.exports={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]}},{}],15:[function(e,t){t.exports={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]}},{}],16:[function(e,t){t.exports={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]}},{}],17:[function(e,t){t.exports={name:"tau",category:"Constants",syntax:["pi"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]}},{}],18:[function(e,t){t.exports={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]}},{}],19:[function(e,t){t.exports={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]}},{}],20:[function(e,t){t.exports={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["2.1 + 3.6","ans - 3.6","3 + 2i",'"hello" + " world"',"3 cm + 2 inch"],seealso:["subtract"]}},{}],21:[function(e,t){t.exports={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity.If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]}},{}],22:[function(e,t){t.exports={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]}},{}],23:[function(e,t){t.exports={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["2 / 3","ans * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]}},{}],24:[function(e,t){t.exports={name:"edivide",category:"Operators",syntax:["x ./ y","edivide(x, y)"],description:"divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","emultiply","divide"]}},{}],25:[function(e,t){t.exports={name:"emultiply",category:"Operators",syntax:["x .* y","emultiply(x, y)"],description:"multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","edivide"]}},{}],26:[function(e,t){t.exports={name:"epow",category:"Operators",syntax:["x .^ y","epow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]}},{}],27:[function(e,t){t.exports={name:"equal",category:"Operators",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns 1 if the values are equal, and 0 if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallereq","largereq"]}},{}],28:[function(e,t){t.exports={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["square","multiply","log"]}},{}],29:[function(e,t){t.exports={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero.If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]}},{}],30:[function(e,t){t.exports={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]}},{}],31:[function(e,t){t.exports={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]}},{}],32:[function(e,t){t.exports={name:"larger",category:"Operators",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns 1 if x is larger than y, and 0 if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallereq","largereq"]}},{}],33:[function(e,t){t.exports={name:"largereq",category:"Operators",syntax:["x >= y","largereq(x, y)"],description:"Check if value x is larger or equal to y. Returns 1 if x is larger or equal to y, and 0 if not.",examples:["2 > 1+1","2 >= 1+1","a = 3.2","b = 6-2.8","(a > b)"],seealso:["equal","unequal","smallereq","smaller","largereq"]}},{}],34:[function(e,t){t.exports={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]}},{}],35:[function(e,t){t.exports={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 3","log(1000, 10)","log(1000) / log(10)","b = logb(1024, 2)","2 ^ b"],seealso:["exp","log10"]}},{}],36:[function(e,t){t.exports={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(1000)","10 ^ 3","log10(0.01)","log(1000) / log(10)","log(1000, 10)"],seealso:["exp","log"]}},{}],37:[function(e,t){t.exports={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","function isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:[]}},{}],38:[function(e,t){t.exports={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["2.1 * 3.6","ans / 3.6","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]}},{}],39:[function(e,t){t.exports={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3 = 8","2*2*2","1 + e ^ (pi * i)"],seealso:["unequal","smaller","larger","smallereq","largereq"]}},{}],40:[function(e,t){t.exports={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]}},{}],41:[function(e,t){t.exports={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]}},{}],42:[function(e,t){t.exports={name:"smaller",category:"Operators",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns 1 if x is smaller than y, and 0 if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallereq","largereq"]}},{}],43:[function(e,t){t.exports={name:"smallereq",category:"Operators",syntax:["x <= y","smallereq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns 1 if x is smaller than y, and 0 if not.",examples:["2 < 1+1","2 <= 1+1","a = 3.2","b = 6-2.8","(a < b)"],seealso:["equal","unequal","larger","smaller","largereq"]}},{}],44:[function(e,t){t.exports={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","multiply"]}},{}],45:[function(e,t){t.exports={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]}},{}],46:[function(e,t){t.exports={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["5.3 - 2","ans + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]}},{}],47:[function(e,t){t.exports={name:"unary",category:"Operators",syntax:["-x","unary(x)"],description:"Inverse the sign of a value.",examples:["-4.5","-(-5.6)"],seealso:["add","subtract"]}},{}],48:[function(e,t){t.exports={name:"unequal",category:"Operators",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns 1 if the values are unequal, and 0 if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallereq","largereq"]}},{}],49:[function(e,t){t.exports={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]}},{}],50:[function(e,t){t.exports={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 - 3i)"],seealso:["re","im","conj","abs"]}},{}],51:[function(e,t){t.exports={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]}},{}],52:[function(e,t){t.exports={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]}},{}],53:[function(e,t){t.exports={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]}},{}],54:[function(e,t){t.exports={name:"bignumber",category:"Type",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","index","matrix","string","unit"]}},{}],55:[function(e,t){t.exports={name:"boolean",category:"Type",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]}},{}],56:[function(e,t){t.exports={name:"complex",category:"Type",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]}},{}],57:[function(e,t){t.exports={name:"index",category:"Type",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]}},{}],58:[function(e,t){t.exports={name:"matrix",category:"Type",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()","matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])"],seealso:["bignumber","boolean","complex","index","number","string","unit"]}},{}],59:[function(e,t){t.exports={name:"number",category:"Type",syntax:["x","number(x)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]}},{}],60:[function(e,t){t.exports={name:"string",category:"Type",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]}},{}],61:[function(e,t){t.exports={name:"unit",category:"Type",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]}},{}],62:[function(e,t){t.exports={name:"eval",category:"Expression",syntax:["eval(expression)","eval([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['eval("2 + 3")','eval("sqrt(" + 4 + ")")'],seealso:[]}},{}],63:[function(e,t){t.exports={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]}},{}],64:[function(e,t){t.exports={name:"concat",category:"Matrix",syntax:["concat(a, b, c, ...)","concat(a, b, c, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the first dimension. The dimension on which to concatenate can be provided as last argument.",examples:["a = [1, 2; 5, 6]","b = [3, 4; 7, 8]","concat(a, b)","[a, b]","concat(a, b, 2)","[a; b]"],seealso:["det","diag","eye","inv","ones","range","size","squeeze","subset","transpose","zeros"]}},{}],65:[function(e,t){t.exports={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","eye","inv","ones","range","size","squeeze","subset","transpose","zeros"]}},{}],66:[function(e,t){t.exports={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned.When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","eye","inv","ones","range","size","squeeze","subset","transpose","zeros"]}},{}],67:[function(e,t){t.exports={name:"eye",category:"Matrix",syntax:["eye(n)","eye(m, n)","eye([m, n])","eye"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["eye(3)","eye(3, 5)","a = [1, 2, 3; 4, 5, 6]","eye(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","transpose","zeros"]}},{}],68:[function(e,t){t.exports={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","eye","ones","range","size","squeeze","subset","transpose","zeros"]}},{}],69:[function(e,t){t.exports={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])","ones"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","eye","inv","range","size","squeeze","subset","transpose","zeros"]}},{}],70:[function(e,t){t.exports={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","eye","inv","ones","size","squeeze","subset","transpose","zeros"]}},{}],71:[function(e,t){t.exports={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5], 0)","resize(2, [2, 3], 0)",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze"]}},{}],72:[function(e,t){t.exports={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","det","diag","eye","inv","ones","range","squeeze","subset","transpose","zeros"]}},{}],73:[function(e,t){t.exports={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove singleton dimensions from a matrix.",examples:["a = zeros(1,3,2)","size(squeeze(a))","b = zeros(3,1,1)","size(squeeze(b))"],seealso:["concat","det","diag","eye","inv","ones","range","size","subset","transpose","zeros"]}},{}],74:[function(e,t){t.exports={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","transpose","zeros"]}},{}],75:[function(e,t){t.exports={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","zeros"]}},{}],76:[function(e,t){t.exports={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])","zeros"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","transpose"]}},{}],77:[function(e,t){t.exports={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["permutations","factorial"]}},{}],78:[function(e,t){t.exports={name:"distribution",category:"Probability",syntax:["distribution(name)","distribution(name, arg1, arg2, ...)"],description:'Create a distribution object of a specific type. A distribution object contains functions `random([size,] [min,] [max])`, `randomInt([size,] [min,] [max])`, and `pickRandom(array)`. Available types of distributions: "uniform", "normal". Note that the function distribution is currently not available via the expression parser.',examples:[],seealso:["random","randomInt"]}},{}],79:[function(e,t){t.exports={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5*4*3*2*1","3!"],seealso:[]}},{}],80:[function(e,t){t.exports={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 4)"],seealso:["combinations","factorial"]}},{}],81:[function(e,t){t.exports={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])"],seealso:["distribution","random","randomInt"]}},{}],82:[function(e,t){t.exports={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["distribution","pickRandom","randomInt"]}},{}],83:[function(e,t){t.exports={name:"randInt",category:"Probability",syntax:["randInt()","randInt(max)","randInt(min, max)","randInt(size)","randInt(size, max)","randInt(size, min, max)"],description:"Return a random integer number",examples:["randInt()","randInt(10, 20)","randInt([2, 3], 10)"],seealso:["distribution","pickRandom","random"]}},{}],84:[function(e,t){t.exports={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3], 0)","max([2, 5; 4, 3], 1)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","min"]}},{}],85:[function(e,t){t.exports={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3], 0)","mean([2, 5; 4, 3], 1)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","min"]}},{}],86:[function(e,t){t.exports={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3], 0)","min([2, 5; 4, 3], 1)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","min"]}},{}],87:[function(e,t){t.exports={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","acos","asin"]}},{}],88:[function(e,t){t.exports={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(2.3))"],seealso:["sin","acos","asin"]}},{}],89:[function(e,t){t.exports={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(2.3))"],seealso:["tan","acos","asin"]}},{}],90:[function(e,t){t.exports={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]}},{}],91:[function(e,t){t.exports={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]}},{}],92:[function(e,t){t.exports={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]}},{}],93:[function(e,t){t.exports={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]}},{}],94:[function(e,t){t.exports={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]}},{}],95:[function(e,t){t.exports={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]}},{}],96:[function(e,t){t.exports={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]}},{}],97:[function(e,t){t.exports={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch in cm","3.2kg in g","16 bytes in bits"],seealso:[]}},{}],98:[function(e,t){t.exports={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]}},{}],99:[function(e,t){t.exports={name:"forEach",category:"Utils",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback.",examples:["forEach([1, 2, 3], function(val) { console.log(val) })"],seealso:[]}},{}],100:[function(e,t){t.exports={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]}},{}],101:[function(e,t){t.exports={name:"import",category:"Utils",syntax:["import(string)"],description:"Import functions from a file.",examples:['import("numbers")','import("./mylib.js")'],seealso:[]}},{}],102:[function(e,t){t.exports={name:"map",category:"Utils",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], function(val) { return math.max(val, 1.5) })"],seealso:[]}},{}],103:[function(e,t){t.exports={name:"typeof",category:"Utils",syntax:["typeof(x)"],description:"Get the type of a variable.",examples:["typeof(3.5)","typeof(2 - 4i)","typeof(45 deg)",'typeof("hello world")'],seealso:[]}},{}],104:[function(e,t,n){n.e=e("./constants/e"),n.E=e("./constants/e"),n["false"]=e("./constants/false"),n.i=e("./constants/i"),n.Infinity=e("./constants/Infinity"),n.LN2=e("./constants/LN2"),n.LN10=e("./constants/LN10"),n.LOG2E=e("./constants/LOG2E"),n.LOG10E=e("./constants/LOG10E"),n.NaN=e("./constants/NaN"),n.pi=e("./constants/pi"),n.PI=e("./constants/pi"),n.SQRT1_2=e("./constants/SQRT1_2"),n.SQRT2=e("./constants/SQRT2"),n.tau=e("./constants/tau"),n["true"]=e("./constants/true"),n.abs=e("./function/arithmetic/abs"),n.add=e("./function/arithmetic/add"),n.ceil=e("./function/arithmetic/ceil"),n.cube=e("./function/arithmetic/cube"),n.divide=e("./function/arithmetic/divide"),n.edivide=e("./function/arithmetic/edivide"),n.emultiply=e("./function/arithmetic/emultiply"),n.epow=e("./function/arithmetic/epow"),n.equal=e("./function/arithmetic/equal"),n.exp=e("./function/arithmetic/exp"),n.fix=e("./function/arithmetic/fix"),n.floor=e("./function/arithmetic/floor"),n.gcd=e("./function/arithmetic/gcd"),n.larger=e("./function/arithmetic/larger"),n.largereq=e("./function/arithmetic/largereq"),n.lcm=e("./function/arithmetic/lcm"),n.log=e("./function/arithmetic/log"),n.log10=e("./function/arithmetic/log10"),n.mod=e("./function/arithmetic/mod"),n.multiply=e("./function/arithmetic/multiply"),n.pow=e("./function/arithmetic/pow"),n.round=e("./function/arithmetic/round"),n.sign=e("./function/arithmetic/sign"),n.smaller=e("./function/arithmetic/smaller"),n.smallereq=e("./function/arithmetic/smallereq"),n.sqrt=e("./function/arithmetic/sqrt"),n.square=e("./function/arithmetic/square"),n.subtract=e("./function/arithmetic/subtract"),n.unary=e("./function/arithmetic/unary"),n.unequal=e("./function/arithmetic/unequal"),n.xgcd=e("./function/arithmetic/xgcd"),n.arg=e("./function/complex/arg"),n.conj=e("./function/complex/conj"),n.re=e("./function/complex/re"),n.im=e("./function/complex/im"),n.bignumber=e("./function/construction/bignumber"),n["boolean"]=e("./function/construction/boolean"),n.complex=e("./function/construction/complex"),n.index=e("./function/construction/index"),n.matrix=e("./function/construction/matrix"),n.number=e("./function/construction/number"),n.string=e("./function/construction/string"),n.unit=e("./function/construction/unit"),n.eval=e("./function/expression/eval"),n.help=e("./function/expression/help"),n.concat=e("./function/matrix/concat"),n.det=e("./function/matrix/det"),n.diag=e("./function/matrix/diag"),n.eye=e("./function/matrix/eye"),n.inv=e("./function/matrix/inv"),n.ones=e("./function/matrix/ones"),n.range=e("./function/matrix/range"),n.resize=e("./function/matrix/resize"),n.size=e("./function/matrix/size"),n.squeeze=e("./function/matrix/squeeze"),n.subset=e("./function/matrix/subset"),n.transpose=e("./function/matrix/transpose"),n.zeros=e("./function/matrix/zeros"),n.combinations=e("./function/probability/combinations"),n.distribution=e("./function/probability/distribution"),n.factorial=e("./function/probability/factorial"),n.permutations=e("./function/probability/permutations"),n.pickRandom=e("./function/probability/pickRandom"),n.random=e("./function/probability/random"),n.randomInt=e("./function/probability/randomInt"),n.min=e("./function/statistics/min"),n.mean=e("./function/statistics/mean"),n.max=e("./function/statistics/max"),n.acos=e("./function/trigonometry/acos"),n.asin=e("./function/trigonometry/asin"),n.atan=e("./function/trigonometry/atan"),n.atan2=e("./function/trigonometry/atan2"),n.cos=e("./function/trigonometry/cos"),n.cot=e("./function/trigonometry/cot"),n.csc=e("./function/trigonometry/csc"),n.sec=e("./function/trigonometry/sec"),n.sin=e("./function/trigonometry/sin"),n.tan=e("./function/trigonometry/tan"),n.to=e("./function/units/to"),n.clone=e("./function/utils/clone"),n.map=e("./function/utils/map"),n.forEach=e("./function/utils/forEach"),n.format=e("./function/utils/format"),n["import"]=e("./function/utils/import"),n["typeof"]=e("./function/utils/typeof")},{"./constants/Infinity":5,"./constants/LN10":6,"./constants/LN2":7,"./constants/LOG10E":8,"./constants/LOG2E":9,"./constants/NaN":10,"./constants/SQRT1_2":11,"./constants/SQRT2":12,"./constants/e":13,"./constants/false":14,"./constants/i":15,"./constants/pi":16,"./constants/tau":17,"./constants/true":18,"./function/arithmetic/abs":19,"./function/arithmetic/add":20,"./function/arithmetic/ceil":21,"./function/arithmetic/cube":22,"./function/arithmetic/divide":23,"./function/arithmetic/edivide":24,"./function/arithmetic/emultiply":25,"./function/arithmetic/epow":26,"./function/arithmetic/equal":27,"./function/arithmetic/exp":28,"./function/arithmetic/fix":29,"./function/arithmetic/floor":30,"./function/arithmetic/gcd":31,"./function/arithmetic/larger":32,"./function/arithmetic/largereq":33,"./function/arithmetic/lcm":34,"./function/arithmetic/log":35,"./function/arithmetic/log10":36,"./function/arithmetic/mod":37,"./function/arithmetic/multiply":38,"./function/arithmetic/pow":39,"./function/arithmetic/round":40,"./function/arithmetic/sign":41,"./function/arithmetic/smaller":42,"./function/arithmetic/smallereq":43,"./function/arithmetic/sqrt":44,"./function/arithmetic/square":45,"./function/arithmetic/subtract":46,"./function/arithmetic/unary":47,"./function/arithmetic/unequal":48,"./function/arithmetic/xgcd":49,"./function/complex/arg":50,"./function/complex/conj":51,"./function/complex/im":52,"./function/complex/re":53,"./function/construction/bignumber":54,"./function/construction/boolean":55,"./function/construction/complex":56,"./function/construction/index":57,"./function/construction/matrix":58,"./function/construction/number":59,"./function/construction/string":60,"./function/construction/unit":61,"./function/expression/eval":62,"./function/expression/help":63,"./function/matrix/concat":64,"./function/matrix/det":65,"./function/matrix/diag":66,"./function/matrix/eye":67,"./function/matrix/inv":68,"./function/matrix/ones":69,"./function/matrix/range":70,"./function/matrix/resize":71,"./function/matrix/size":72,"./function/matrix/squeeze":73,"./function/matrix/subset":74,"./function/matrix/transpose":75,"./function/matrix/zeros":76,"./function/probability/combinations":77,"./function/probability/distribution":78,"./function/probability/factorial":79,"./function/probability/permutations":80,"./function/probability/pickRandom":81,"./function/probability/random":82,"./function/probability/randomInt":83,"./function/statistics/max":84,"./function/statistics/mean":85,"./function/statistics/min":86,"./function/trigonometry/acos":87,"./function/trigonometry/asin":88,"./function/trigonometry/atan":89,"./function/trigonometry/atan2":90,"./function/trigonometry/cos":91,"./function/trigonometry/cot":92,"./function/trigonometry/csc":93,"./function/trigonometry/sec":94,"./function/trigonometry/sin":95,"./function/trigonometry/tan":96,"./function/units/to":97,"./function/utils/clone":98,"./function/utils/forEach":99,"./function/utils/format":100,"./function/utils/import":101,"./function/utils/map":102,"./function/utils/typeof":103}],105:[function(e,t){function n(e){this.nodes=e||[]}var r=e("./Node"),i=(e("../../util/object"),e("../../util/string"));e("../../type/collection"),e("../../type/Matrix"),n.prototype=new r,n.prototype._compile=function(e){var t="array"!==e.math.config().matrix,n=this.nodes.map(function(t){return t._compile(e)});return(t?"math.matrix([":"[")+n.join(",")+(t?"])":"]")},n.prototype.find=function(e){var t=[];this.match(e)&&t.push(this);for(var n=this.nodes,r=0,i=n.length;i>r;r++)for(var s=n[r],o=0,u=s.length;u>o;o++)t=t.concat(s[o].find(e));return t},n.prototype.toString=function(){return i.format(this.nodes)},t.exports=n},{"../../type/Matrix":211,"../../type/collection":214,"../../util/object":220,"../../util/string":221,"./Node":111}],106:[function(e,t){function n(e,t){this.name=e,this.expr=t}var r=e("./Node");n.prototype=new r,n.prototype._compile=function(e){return'scope["'+this.name+'"] = '+this.expr._compile(e)},n.prototype.find=function(e){var t=[];return this.match(e)&&t.push(this),this.expr&&(t=t.concat(this.expr.find(e))),t},n.prototype.toString=function(){return this.name+" = "+this.expr.toString()},t.exports=n},{"./Node":111}],107:[function(e,t){function n(){this.params=[]}var r=e("./Node");n.prototype=new r,n.prototype.add=function(e,t){var n=this.params.length;this.params[n]={node:e,visible:void 0!=t?t:!0}},n.prototype._compile=function(e){var t=this.params.map(function(t){var n=t.node._compile(e);return t.visible?"results.push("+n+");":n+";"});return"(function () {var results = [];"+t.join("")+"return results;})()"},n.prototype.find=function(e){var t=[];this.match(e)&&t.push(this);var n=this.params;if(n)for(var r=0,i=n.length;i>r;r++)t=t.concat(n[r].node.find(e));return t},n.prototype.toString=function(){return this.params.map(function(e){return e.node.toString()+(e.visible?"":";")}).join("\n")},t.exports=n},{"./Node":111}],108:[function(e,t){function n(e,t){if(!s(e))throw new TypeError("Constant type must be a string");if(!s(t))throw new TypeError("Constant value must be a string");this.type=e,this.value=t}var r=e("./Node"),i=(e("../../type/Complex"),e("bignumber.js"),e("../../util/string")),s=i.isString;n.prototype=new r,n.prototype._compile=function(e){switch(this.type){case"number":return"bignumber"===e.math.config().number?'math.bignumber("'+this.value+'")':this.value.replace(/^(0*)[0-9]/,function(e,t){return e.substring(t.length)});case"string":return'"'+this.value+'"';case"complex":return"math.complex(0, "+this.value+")";case"boolean":return this.value;case"undefined":return this.value;case"null":return this.value;default:throw new TypeError('Unsupported type of constant "'+this.type+'"')}},n.prototype.toString=function(){switch(this.type){case"string":return'"'+this.value+'"';case"complex":return this.value+"i";default:return this.value}},t.exports=n},{"../../type/Complex":208,"../../util/string":221,"./Node":111,"bignumber.js":223}],109:[function(e,t){function n(e,t,n){this.name=e,this.args=t,this.expr=n}var r=e("./Node");n.prototype=new r,n.prototype._eval=function(){return this.scope.set(this.name,this.fn),this.fn},n.prototype._compile=function(e){return'scope["'+this.name+'"] =   (function (scope) {    scope = Object.create(scope);     var fn = function '+this.name+"("+this.args.join(",")+") {      if (arguments.length != "+this.args.length+') {        throw new SyntaxError("Wrong number of arguments in function '+this.name+' (" + arguments.length + " provided, '+this.args.length+' expected)");      }'+this.args.map(function(e,t){return'scope["'+e+'"] = arguments['+t+"];"}).join("")+"      return "+this.expr._compile(e)+'    };    fn.syntax = "'+this.name+"("+this.args.join(", ")+')";    return fn;  })(scope);'},n.prototype.find=function(e){var t=[];return this.match(e)&&t.push(this),this.expr&&(t=t.concat(this.expr.find(e))),t},n.prototype.toString=function(){return"function "+this.name+"("+this.args.join(", ")+") = "+this.expr.toString()},t.exports=n},{"./Node":111}],110:[function(e,t){function n(e,t){this.object=e,this.ranges=t}var r=e("../../util/number.js"),i=e("./Node.js"),s=e("./RangeNode.js"),o=e("./SymbolNode.js");e("bignumber.js"),e("../../type/Index.js"),e("../../type/Range.js"),r.isNumber,r.toNumber,n.prototype=new i,n.prototype._compile=function(e){return this.compileSubset(e)},n.prototype.compileSubset=function(e,t){var n={type:o,properties:{name:"end"}},r=this.ranges.map(function(e){return e.find(n).length>0}),i=this.ranges.map(function(t,n){var i=r[n];return t instanceof s?i?'(function (scope) {  scope = Object.create(scope);   scope["end"] = size['+n+"];  var step = "+(t.step?t.step._compile(e):"1")+";  return [    "+t.start._compile(e)+" - 1,     "+t.end._compile(e)+" - (step > 0 ? 0 : 2),     step  ];})(scope)":"(function () {  var step = "+(t.step?t.step._compile(e):"1")+";  return [    "+t.start._compile(e)+" - 1,     "+t.end._compile(e)+" - (step > 0 ? 0 : 2),     step  ];})()":i?'(function (scope) {  scope = Object.create(scope);   scope["end"] = size['+n+"];  return "+t._compile(e)+" - 1;})(scope)":t._compile(e)+" - 1"}),u=i.some(function(e){return e});return u?"(function () {  var obj = "+this.object._compile(e)+";  var size = math.size(obj).valueOf();  return math.subset(    obj,     math.index("+i.join(", ")+")    "+(t?", "+t:"")+"  );})()":"math.subset("+this.object._compile(e)+",math.index("+i.join(", ")+(t?", "+t:"")+")"},n.prototype.find=function(e){var t=[];this.match(e)&&t.push(this),this.object&&(t=t.concat(this.object.find(e)));var n=this.ranges;if(n)for(var r=0,i=n.length;i>r;r++)t=t.concat(n[r].find(e));return t},n.prototype.objectName=function(){return this.object.name},n.prototype.toString=function(){var e=this.object?this.object.toString():"";return this.ranges&&(e+="["+this.ranges.join(", ")+"]"),e},t.exports=n},{"../../type/Index.js":210,"../../type/Range.js":212,"../../util/number.js":219,"./Node.js":111,"./RangeNode.js":114,"./SymbolNode.js":115,"bignumber.js":223}],111:[function(e,t){function n(){}n.prototype.eval=function(){throw new Error("Node.eval is deprecated. Use Node.compile(math).eval([scope]) instead.")},n.prototype.compile=function(e){if("object"!=typeof e)throw new TypeError("Object expected as parameter math");var t={math:e},n=this._compile(t),r=Object.keys(t).map(function(e){return"    var "+e+' = defs["'+e+'"];'}),i=r.join(" ")+'return {  "eval": function (scope) {    scope = scope || {};    return '+n+";  }};",s=new Function("defs",i);return s(t)},n.prototype._compile=function(){throw new Error("Cannot compile a Node interface")},n.prototype.find=function(e){return this.match(e)?[this]:[]},n.prototype.match=function(e){var t=!0;if(e&&(!e.type||this instanceof e.type||(t=!1),t&&e.properties))for(var n in e.properties)if(e.properties.hasOwnProperty(n)&&this[n]!=e.properties[n]){t=!1;break}return t},n.prototype.toString=function(){return""},t.exports=n},{}],112:[function(e,t){function n(e,t,n){this.op=e,this.fn=t,this.params=n}var r=e("./Node");n.prototype=new r,n.prototype._compile=function(e){if(this.fn in e.math){var t=this.params.map(function(t){return t._compile(e)});return"math."+this.fn+"("+t.join(", ")+")"}throw new Error("Function "+this.fn+' missing in provided namespace "math"')},n.prototype.find=function(e){var t=[];this.match(e)&&t.push(this);var n=this.params;if(n)for(var r=0,i=n.length;i>r;r++)t=t.concat(n[r].find(e));return t},n.prototype.toString=function(){var e=this.params;switch(e.length){case 1:return"-"==this.op?"-"+e[0].toString():e[0].toString()+this.op;case 2:var t=e[0].toString();e[0]instanceof n&&(t="("+t+")");var r=e[1].toString();return e[1]instanceof n&&(r="("+r+")"),t+" "+this.op+" "+r;default:return this.op+"("+this.params.join(", ")+")"}},t.exports=n},{"./Node":111}],113:[function(e,t){function n(e,t){this.object=e,this.params=t}var r=e("../../util/number"),i=e("./Node");e("./RangeNode"),e("./SymbolNode"),e("bignumber.js"),e("../../type/Index"),e("../../type/Range"),r.isNumber,r.toNumber,n.prototype=new i,n.prototype._compile=function(e){var t=this.params.map(function(t){return t._compile(e)});return this.object._compile(e)+"("+t.join(", ")+")"},n.prototype.find=function(e){var t=[];this.match(e)&&t.push(this),this.object&&(t=t.concat(this.object.find(e)));var n=this.params;if(n)for(var r=0,i=n.length;i>r;r++)t=t.concat(n[r].find(e));return t},n.prototype.toString=function(){var e=this.object?this.object.toString():"";return this.params&&(e+="("+this.params.join(", ")+")"),e},t.exports=n},{"../../type/Index":210,"../../type/Range":212,"../../util/number":219,"./Node":111,"./RangeNode":114,"./SymbolNode":115,"bignumber.js":223}],114:[function(e,t){function n(e){if(2!=e.length&&3!=e.length)throw new SyntaxError("Wrong number of arguments. Expected [start, end] or [start, end, step]");this.start=e[0],this.end=e[1],this.step=e[2]}var r=e("../../util/number"),i=e("./Node");e("bignumber.js"),e("../../type/Range"),e("../../type/Matrix"),r.toNumber,n.prototype=new i,n.prototype._compile=function(e){return"math.range("+this.start._compile(e)+", "+this.end._compile(e)+", "+(this.step?this.step._compile(e)+", ":"")+"true)"},n.prototype.find=function(e){var t=[];return this.match(e)&&t.push(this),this.start&&(t=t.concat(this.start.find(e))),this.step&&(t=t.concat(this.step.find(e))),this.end&&(t=t.concat(this.end.find(e))),t},n.prototype.toString=function(){var e=this.start.toString();return this.step&&(e+=":"+this.step.toString()),e+=":"+this.end.toString()},t.exports=n},{"../../type/Matrix":211,"../../type/Range":212,"../../util/number":219,"./Node":111,"bignumber.js":223}],115:[function(e,t){function n(e){this.name=e}function r(e){throw new Error("Undefined symbol "+e)}var i=e("./Node"),s=e("../../type/Unit");n.prototype=new i,n.prototype._compile=function(e){return e.undef=r,e.Unit=s,'(scope["'+this.name+'"] !== undefined ? scope["'+this.name+'"] : math["'+this.name+'"] !== undefined ? math["'+this.name+'"] : '+(s.isPlainUnit(this.name)?'new Unit(null, "'+this.name+'")':'undef("'+this.name+'")')+")"},n.prototype.toString=function(){return this.name},t.exports=n},{"../../type/Unit":213,"./Node":111}],116:[function(e,t){function n(e,t){this.value=e,this.unit=t}var r=e("./Node"),i=(e("bignumber.js"),e("../../type/Complex"),e("../../type/Unit"),e("../../util/number"));i.toNumber,n.prototype=new r,n.prototype._compile=function(e){return"math.unit("+this.value._compile(e)+', "'+this.unit+'")'},n.prototype.find=function(e){var t=[];return this.match(e)&&t.push(this),t=t.concat(this.value.find(e))},n.prototype.toString=function(){return this.value+" "+this.unit},t.exports=n},{"../../type/Complex":208,"../../type/Unit":213,"../../util/number":219,"./Node":111,"bignumber.js":223}],117:[function(e,t){function n(e,t){if(!(e instanceof s))throw new TypeError("index mus be an IndexNode");this.index=e,this.expr=t}var r=e("../../util/number"),i=e("./Node"),s=(e("./RangeNode"),e("./IndexNode"));e("./SymbolNode"),e("bignumber.js"),e("../../type/Index"),e("../../type/Range"),r.isNumber,r.toNumber,n.prototype=new i,n.prototype._compile=function(e){return'scope["'+this.index.objectName()+'"] = '+this.index.compileSubset(e,this.expr._compile(e))},n.prototype.find=function(e){var t=[];this.match(e)&&t.push(this);var n=this.ranges;if(n)for(var r=0,i=n.length;i>r;r++)t=t.concat(n[r].find(e));return this.expr&&(t=t.concat(this.expr.find(e))),t},n.prototype.toString=function(){return this.index.toString()+" = "+this.expr.toString()},t.exports=n},{"../../type/Index":210,"../../type/Range":212,"../../util/number":219,"./IndexNode":110,"./Node":111,"./RangeNode":114,"./SymbolNode":115,"bignumber.js":223}],118:[function(){},{}],119:[function(e,t,n){n.ArrayNode=e("./ArrayNode"),n.AssignmentNode=e("./AssignmentNode"),n.BlockNode=e("./BlockNode"),n.ConstantNode=e("./ConstantNode"),n.IndexNode=e("./IndexNode"),n.FunctionNode=e("./FunctionNode"),n.Node=e("./Node"),n.OperatorNode=e("./OperatorNode"),n.ParamsNode=e("./ParamsNode"),n.RangeNode=e("./RangeNode"),n.SymbolNode=e("./SymbolNode"),n.UnitNode=e("./UnitNode"),n.UpdateNode=e("./UpdateNode"),n.handlers=e("./handlers")},{"./ArrayNode":105,"./AssignmentNode":106,"./BlockNode":107,"./ConstantNode":108,"./FunctionNode":109,"./IndexNode":110,"./Node":111,"./OperatorNode":112,"./ParamsNode":113,"./RangeNode":114,"./SymbolNode":115,"./UnitNode":116,"./UpdateNode":117,"./handlers":118}],120:[function(e,t){function n(e){if(1!=arguments.length)throw new SyntaxError("Wrong number of arguments: 1 expected");if(R(e))return ut=e||"",c();if(U(e)||e instanceof z)return W.deepMap(e,function(e){return ut=e||"",c()});throw new TypeError("String or matrix expected")}function r(){at=0,ft=ut.charAt(0)}function i(){at++,ft=ut.charAt(at)}function s(){return ut.charAt(at+1)}function o(){for(ct=it.NULL,lt="";" "==ft||"  "==ft;)i();if("#"==ft)for(;"\n"!=ft&&""!=ft;)i();if(""==ft)return void (ct=it.DELIMITER);var e=ft+s();if(st[e])return ct=it.DELIMITER,lt=e,i(),void i();if(st[ft])return ct=it.DELIMITER,lt=ft,void i();if(!f(ft)){if(a(ft)){for(;a(ft)||l(ft);)lt+=ft,i();return void (ct=ot[lt]?it.DELIMITER:it.SYMBOL)}for(ct=it.UNKNOWN;""!=ft;)lt+=ft,i();throw F('Syntax error in part "'+lt+'"')}if(ct=it.NUMBER,"."==ft)lt+=ft,i(),l(ft)||(ct=it.UNKNOWN);else{for(;l(ft);)lt+=ft,i();"."==ft&&(lt+=ft,i())}for(;l(ft);)lt+=ft,i();if("E"==ft||"e"==ft)for(lt+=ft,i(),("+"==ft||"-"==ft)&&(lt+=ft,i()),l(ft)||(ct=it.UNKNOWN);l(ft);)lt+=ft,i()}function u(){for(;"\n"==lt;)o()}function a(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"==e}function f(e){return e>="0"&&"9">=e||"."==e}function l(e){return e>="0"&&"9">=e}function c(){r(),o();var e;if(e=""==lt?new J("undefined","undefined"):h(),""!=lt)throw ct==it.DELIMITER?I("Unknown operator "+lt):F('Unexpected part "'+lt+'"');return e}function h(){var e,t,n;for("\n"!=lt&&";"!=lt&&""!=lt&&(e=p());"\n"==lt||";"==lt;)t||(t=new $,e&&(n=";"!=lt,t.add(e,n))),o(),"\n"!=lt&&";"!=lt&&""!=lt&&(e=p(),n=";"!=lt,t.add(e,n));return t?t:(e||(e=p()),e)}function p(){var e=d(),t="ans";return new V(t,e)}function d(){if(ct==it.SYMBOL&&"function"==lt)throw new Error('Deprecated keyword "function". Functions can now be assigned without it, like "f(x) = x^2".');return v()}function v(){var e,t,n,r=m();if("="==lt){if(r instanceof et)return e=r.name,o(),n=v(),new V(e,n);if(r instanceof Q)return o(),n=v(),new nt(r,n);if(r instanceof Y){var i=!0;if(t=[],r.object instanceof et?(e=r.object.name,r.params.forEach(function(e,n){e instanceof et?t[n]=e.name:i=!1})):i=!1,i)return o(),n=v(),new K(e,t,n)}throw F("Invalid left hand side of assignment operator =")}return r}function m(){var e,t=[];if(e=":"==lt?new J("number","1"):g(),":"==lt){for(t.push(e);":"==lt;)o(),t.push(")"==lt||"]"==lt||","==lt||""==lt?new et("end"):g());if(t.length){if(3==t.length){var n=t[2];t[2]=t[1],t[1]=n}e=new Z(t)}}return e}function g(){var e=y();return e}function y(){var e,t,n,r,i;for(e=b(),t={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallereq",">=":"largereq"};lt in t;)n=lt,r=t[n],o(),i=[e,b()],e=new G(n,r,i);return e}function b(){var e,t,n,r,i;for(e=w(),t={to:"to","in":"to"};lt in t;)n=lt,r=t[n],o(),i=[e,w()],e=new G(n,r,i);return e}function w(){var e,t,n,r,i;for(e=E(),t={"+":"add","-":"subtract"};lt in t;)n=lt,r=t[n],o(),i=[e,E()],e=new G(n,r,i);return e}function E(){var e,t,n,r,i;for(e=S(),t={"*":"multiply",".*":"emultiply","/":"divide","./":"edivide","%":"mod",mod:"mod"};lt in t;)n=lt,r=t[n],o(),i=[e,S()],e=new G(n,r,i);return e}function S(){var e,t;return e=x(),(ct==it.SYMBOL||"in"==lt)&&(t=lt,o(),e=new tt(e,t)),e}function x(){var e,t,n;return"-"==lt?(e=lt,t="unary",o(),n=[x()],new G(e,t,n)):T()}function T(){var e,t,n,r,i,s,u;for(n=[N()],r=[];"^"==lt||".^"==lt;)r.push(lt),o(),n.push(N());for(e=n.pop();n.length;)t=n.pop(),i=r.pop(),s="^"==i?"pow":"epow",u=[t,e],e=new G(i,s,u);return e}function N(){var e,t,n,r,i;for(e=C(),t={"!":"factorial","'":"transpose"};lt in t;)n=lt,r=t[n],o(),i=[e],e=new G(n,r,i);return e}function C(){var e,t;if(ct==it.SYMBOL&&rt[lt]){if(t=rt[lt],o(),"("==lt){if(e=[],o(),")"!=lt)for(e.push(m());","==lt;)o(),e.push(m());if(")"!=lt)throw F("Parenthesis ) expected");o()}return new t(e)}return k()}function k(){var e,t;return ct==it.SYMBOL||ct==it.DELIMITER&&lt in ot?(t=lt,o(),e=new et(t),L(e)):A()}function L(e){for(var t,n;"("==lt||"["==lt;){if(t=lt,n=[],o(),")"!=lt&&"]"!=lt)for(n.push(m());","==lt;)o(),n.push(m());if("("==t&&")"!=lt)throw F("Parenthesis ) expected");if("["==t&&"]"!=lt)throw F("Parenthesis ] expected");o(),e="("==t?new Y(e,n):new Q(e,n)}return e}function A(){var e,t,n;if('"'==lt){for(t="",n="";""!=ft&&('"'!=ft||"\\"==n);)t+=ft,n=ft,i();if(o(),'"'!=lt)throw F('End of string " expected');return o(),e=new J("string",t),e=L(e)}return O()}function O(){var e,t,n,r;if("["==lt){if(o(),u(),"]"!=lt){var i=M();if(";"==lt){for(n=1,t=[i];";"==lt;)o(),u(),t[n]=M(),n++,u();if("]"!=lt)throw F("End of matrix ] expected");o(),r=t.length>0?t[0].length:0;for(var s=1;n>s;s++)if(t[s].length!=r)throw I("Number of columns must match ("+t[s].length+" != "+r+")");e=new X(t)}else{if("]"!=lt)throw F("End of matrix ] expected");o(),e=i}}else o(),e=new X([]);return e=L(e)}return _()}function M(){for(var e=[v()],t=1;","==lt;)o(),u(),e[t]=v(),t++,u();return new X(e)}function _(){var e,t;return ct==it.NUMBER?(t="."==lt?"0":lt,o(),"i"==lt||"I"==lt?(o(),e=new J("complex",t)):e=new J("number",t),e=L(e)):D()}function D(){var e;if("("==lt){if(o(),e=v(),")"!=lt)throw F("Parenthesis ) expected");return o(),e=L(e)}return P()}function P(){throw F(""==lt?"Unexpected end of expression":"Value expected")}function H(){return void 0}function B(){return at-lt.length+1}function j(e){var t=H(),n=B();return void 0===t?void 0===n?e:e+" (char "+n+")":e+" (line "+t+", char "+n+")"}function F(e){return new SyntaxError(j(e))}function I(e){return new Error(j(e))}var q=e("../util/index"),R=(q.number.toNumber,q.string.isString),U=Array.isArray,z=(e("../type/Complex"),e("../type/Matrix")),W=(e("../type/Unit"),e("../type/collection")),X=e("./node/ArrayNode"),V=e("./node/AssignmentNode"),$=e("./node/BlockNode"),J=e("./node/ConstantNode"),K=e("./node/FunctionNode"),Q=e("./node/IndexNode"),G=e("./node/OperatorNode"),Y=e("./node/ParamsNode"),Z=e("./node/RangeNode"),et=e("./node/SymbolNode"),tt=e("./node/UnitNode"),nt=e("./node/UpdateNode"),rt=e("./node/handlers"),it={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},st={",":!0,"(":!0,")":!0,"[":!0,"]":!0,'"':!0,"\n":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"!":!0,"'":!0,"=":!0,":":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0},ot={mod:!0,to:!0,"in":!0},ut="",at=0,ft="",lt="",ct=it.NULL;t.exports=n},{"../type/Complex":208,"../type/Matrix":211,"../type/Unit":213,"../type/collection":214,"../util/index":218,"./node/ArrayNode":105,"./node/AssignmentNode":106,"./node/BlockNode":107,"./node/ConstantNode":108,"./node/FunctionNode":109,"./node/IndexNode":110,"./node/OperatorNode":112,"./node/ParamsNode":113,"./node/RangeNode":114,"./node/SymbolNode":115,"./node/UnitNode":116,"./node/UpdateNode":117,"./node/handlers":118}],121:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=(e("../../type/Matrix"),e("../../type/collection")),o=n.number.isNumber,u=n["boolean"].isBoolean,a=i.isComplex,f=s.isCollection;t.abs=function l(e){if(1!=arguments.length)throw new t.error.ArgumentsError("abs",arguments.length,1);if(o(e))return Math.abs(e);if(a(e))return Math.sqrt(e.re*e.re+e.im*e.im);if(e instanceof r)return e.abs();if(f(e))return s.deepMap(e,l);if(u(e))return Math.abs(e);throw new t.error.UnsupportedTypeError("abs",e)}}},{"../../type/Complex":208,"../../type/Matrix":211,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],122:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=(e("../../type/Matrix"),e("../../type/Unit")),o=e("../../type/collection"),u=n["boolean"].isBoolean,a=n.number.isNumber,f=n.number.toNumber,l=n.number.toBigNumber,c=n.string.isString,h=i.isComplex,p=s.isUnit,d=o.isCollection;t.add=function v(e,n){if(2!=arguments.length)throw new t.error.ArgumentsError("add",arguments.length,2);if(a(e)){if(a(n))return e+n;if(h(n))return new i(e+n.re,n.im)}if(h(e)){if(h(n))return new i(e.re+n.re,e.im+n.im);if(a(n))return new i(e.re+n,e.im)}if(p(e)&&p(n)){if(!e.equalBase(n))throw new Error("Units do not match");if(null==e.value)throw new Error("Unit on left hand side of operator + has an undefined value");if(null==n.value)throw new Error("Unit on right hand side of operator + has an undefined value");var s=e.clone();return s.value+=n.value,s.fixPrefix=!1,s}if(e instanceof r)return a(n)?n=l(n):u(n)&&(n=new r(n?1:0)),n instanceof r?e.plus(n):v(f(e),n);if(n instanceof r)return a(e)?e=l(e):u(e)&&(e=new r(e?1:0)),e instanceof r?e.plus(n):v(e,f(n));if(c(e)||c(n))return e+n;if(d(e)||d(n))return o.deepMap2(e,n,v);if(u(e))return v(+e,n);if(u(n))return v(e,+n);throw new t.error.UnsupportedTypeError("add",e,n)}}},{"../../type/Complex":208,"../../type/Matrix":211,"../../type/Unit":213,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],123:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/collection"),o=n.number.isNumber,u=n["boolean"].isBoolean,a=s.isCollection,f=i.isComplex;t.ceil=function l(e){if(1!=arguments.length)throw new t.error.ArgumentsError("ceil",arguments.length,1);if(o(e))return Math.ceil(e);if(f(e))return new i(Math.ceil(e.re),Math.ceil(e.im));if(e instanceof r)return e.ceil();if(a(e))return s.deepMap(e,l);if(u(e))return Math.ceil(e);throw new t.error.UnsupportedTypeError("ceil",e)}}},{"../../type/Complex":208,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],124:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/collection"),o=n.number.isNumber,u=n["boolean"].isBoolean,a=i.isComplex,f=s.isCollection;t.cube=function l(e){if(1!=arguments.length)throw new t.error.ArgumentsError("cube",arguments.length,1);if(o(e))return e*e*e;if(a(e))return t.multiply(t.multiply(e,e),e);if(e instanceof r)return e.times(e).times(e);if(f(e))return s.deepMap(e,l);if(u(e))return l(+e);throw new t.error.UnsupportedTypeError("cube",e)}}},{"../../type/Complex":208,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],125:[function(e,t){t.exports=function(t){function n(e,t){var n=t.re*t.re+t.im*t.im;return 0!=n?new s((e.re*t.re+e.im*t.im)/n,(e.im*t.re-e.re*t.im)/n):new s(0!=e.re?e.re/0:0,0!=e.im?e.im/0:0)}var r=e("../../util/index"),i=e("bignumber.js"),s=e("../../type/Complex"),o=(e("../../type/Matrix"),e("../../type/Unit")),u=e("../../type/collection"),a=r.number.isNumber,f=r.number.toNumber,l=r.number.toBigNumber,c=r["boolean"].isBoolean,h=s.isComplex,p=o.isUnit,d=u.isCollection;t.divide=function v(e,r){if(2!=arguments.length)throw new t.error.ArgumentsError("divide",arguments.length,2);if(a(e)){if(a(r))return e/r;if(h(r))return n(new s(e,0),r)}if(h(e)){if(h(r))return n(e,r);if(a(r))return n(e,new s(r,0))}if(e instanceof i)return a(r)?r=l(r):c(r)&&(r=new i(r?1:0)),r instanceof i?e.div(r):v(f(e),r);if(r instanceof i)return a(e)?e=l(e):c(e)&&(e=new i(e?1:0)),e instanceof i?e.div(r):v(e,f(r));if(p(e)&&a(r)){var o=e.clone();return o.value/=r,o}if(d(e))return d(r)?t.multiply(e,t.inv(r)):u.deepMap2(e,r,v);if(d(r))return t.multiply(e,t.inv(r));if(c(e))return v(+e,r);if(c(r))return v(e,+r);throw new t.error.UnsupportedTypeError("divide",e,r)}}},{"../../type/Complex":208,"../../type/Matrix":211,"../../type/Unit":213,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],126:[function(e,t){t.exports=function(t){var n=e("../../type/collection");t.edivide=function(e,r){if(2!=arguments.length)throw new t.error.ArgumentsError("edivide",arguments.length,2);return n.deepMap2(e,r,t.divide)}}},{"../../type/collection":214}],127:[function(e,t){t.exports=function(t){var n=e("../../type/collection");t.emultiply=function(e,r){if(2!=arguments.length)throw new t.error.ArgumentsError("emultiply",arguments.length,2);return n.deepMap2(e,r,t.multiply)}}},{"../../type/collection":214}],128:[function(e,t){t.exports=function(t){var n=e("../../type/collection");t.epow=function(e,r){if(2!=arguments.length)throw new t.error.ArgumentsError("epow",arguments.length,2);return n.deepMap2(e,r,t.pow)}}},{"../../type/collection":214}],129:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/Unit"),o=e("../../type/collection"),u=n.number.isNumber,a=n.number.toNumber,f=n.number.toBigNumber,l=n["boolean"].isBoolean,c=n.string.isString,h=i.isComplex,p=s.isUnit,d=o.isCollection;t.equal=function v(e,n){if(2!=arguments.length)throw new t.error.ArgumentsError("equal",arguments.length,2);if(u(e)){if(u(n))return e==n;if(h(n))return e==n.re&&0==n.im}if(h(e)){if(u(n))return e.re==n&&0==e.im;if(h(n))return e.re==n.re&&e.im==n.im}if(e instanceof r)return u(n)?n=f(n):l(n)&&(n=new r(n?1:0)),n instanceof r?e.eq(n):v(a(e),n);if(n instanceof r)return u(e)?e=f(e):l(e)&&(e=new r(e?1:0)),e instanceof r?e.eq(n):v(e,a(n));if(p(e)&&p(n)){if(!e.equalBase(n))throw new Error("Cannot compare units with different base");return e.value==n.value}if(c(e)||c(n))return e==n;if(d(e)||d(n))return o.deepMap2(e,n,v);if(l(e))return v(+e,n);if(l(n))return v(e,+n);throw new t.error.UnsupportedTypeError("equal",e,n)}}},{"../../type/Complex":208,"../../type/Unit":213,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],130:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=(e("../../type/Matrix"),e("../../type/collection")),o=n.number.isNumber,u=n["boolean"].isBoolean,a=i.isComplex,f=s.isCollection;t.exp=function l(e){if(1!=arguments.length)throw new t.error.ArgumentsError("exp",arguments.length,1);if(o(e))return Math.exp(e);if(a(e)){var h=Math.exp(e.re);return new i(h*Math.cos(e.im),h*Math.sin(e.im))}if(e instanceof r)return l(n.number.toNumber(e));if(f(e))return s.deepMap(e,l);if(u(e))return Math.exp(e);throw new t.error.UnsupportedTypeError("exp",e)}}},{"../../type/Complex":208,"../../type/Matrix":211,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],131:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/collection"),o=n.number.isNumber,u=n["boolean"].isBoolean,a=i.isComplex,f=s.isCollection;t.fix=function l(e){if(1!=arguments.length)throw new t.error.ArgumentsError("fix",arguments.length,1);if(o(e))return e>0?Math.floor(e):Math.ceil(e);if(a(e))return new i(e.re>0?Math.floor(e.re):Math.ceil(e.re),e.im>0?Math.floor(e.im):Math.ceil(e.im));if(e instanceof r)return e.isNegative()?e.ceil():e.floor();if(f(e))return s.deepMap(e,l);if(u(e))return l(+e);throw new t.error.UnsupportedTypeError("fix",e)}}},{"../../type/Complex":208,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],132:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/collection"),o=n.number.isNumber,u=n["boolean"].isBoolean,a=i.isComplex,f=s.isCollection;t.floor=function l(e){if(1!=arguments.length)throw new t.error.ArgumentsError("floor",arguments.length,1);if(o(e))return Math.floor(e);if(a(e))return new i(Math.floor(e.re),Math.floor(e.im));if(e instanceof r)return e.floor();if(f(e))return s.deepMap(e,l);if(u(e))return l(+e);throw new t.error.UnsupportedTypeError("floor",e)}}},{"../../type/Complex":208,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],133:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/collection"),s=n.number.isNumber,o=n.number.toNumber,u=n["boolean"].isBoolean,a=n.number.isInteger,f=i.isCollection;t.gcd=function l(){var e,n=arguments[0],h=arguments[1];if(2==arguments.length){if(s(n)&&s(h)){if(!a(n)||!a(h))throw new Error("Parameters in function gcd must be integer numbers");for(;0!=h;)e=n%h,n=h,h=e;return 0>n?-n:n}if(f(n)||f(h))return i.deepMap2(n,h,l);if(n instanceof r)return l(o(n),h);if(h instanceof r)return l(n,o(h));if(u(n))return l(+n,h);if(u(h))return l(n,+h);throw new t.error.UnsupportedTypeError("gcd",n,h)}if(arguments.length>2){for(var p=1;p<arguments.length;p++)n=l(n,arguments[p]);return n}throw new SyntaxError("Function gcd expects two or more arguments")}}},{"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],134:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/Unit"),o=e("../../type/collection"),u=n.number.isNumber,a=n.number.toNumber,f=n.number.toBigNumber,l=n["boolean"].isBoolean,c=n.string.isString,h=i.isComplex,p=s.isUnit,d=o.isCollection;t.larger=function v(e,n){if(2!=arguments.length)throw new t.error.ArgumentsError("larger",arguments.length,2);if(u(e)&&u(n))return e>n;if(e instanceof r)return u(n)?n=f(n):l(n)&&(n=new r(n?1:0)),n instanceof r?e.gt(n):v(a(e),n);if(n instanceof r)return u(e)?e=f(e):l(e)&&(e=new r(e?1:0)),e instanceof r?e.gt(n):v(e,a(n));if(p(e)&&p(n)){if(!e.equalBase(n))throw new Error("Cannot compare units with different base");return e.value>n.value}if(c(e)||c(n))return e>n;if(d(e)||d(n))return o.deepMap2(e,n,v);if(l(e))return v(+e,n);if(l(n))return v(e,+n);throw h(e)||h(n)?new TypeError("No ordering relation is defined for complex numbers"):new t.error.UnsupportedTypeError("larger",e,n)}}},{"../../type/Complex":208,"../../type/Unit":213,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],135:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/Unit"),o=e("../../type/collection"),u=n.number.isNumber,a=n.number.toNumber,f=n.number.toBigNumber,l=n["boolean"].isBoolean,c=n.string.isString,h=i.isComplex,p=s.isUnit,d=o.isCollection;t.largereq=function v(e,n){if(2!=arguments.length)throw new t.error.ArgumentsError("largereq",arguments.length,2);if(u(e)&&u(n))return e>=n;if(e instanceof r)return u(n)?n=f(n):l(n)&&(n=new r(n?1:0)),n instanceof r?e.gte(n):v(a(e),n);if(n instanceof r)return u(e)?e=f(e):l(e)&&(e=new r(e?1:0)),e instanceof r?e.gte(n):v(e,a(n));if(p(e)&&p(n)){if(!e.equalBase(n))throw new Error("Cannot compare units with different base");return e.value>=n.value}if(c(e)||c(n))return e>=n;if(d(e)||d(n))return o.deepMap2(e,n,v);if(l(e))return v(+e,n);if(l(n))return v(e,+n);throw h(e)||h(n)?new TypeError("No ordering relation is defined for complex numbers"):new t.error.UnsupportedTypeError("largereq",e,n)}}},{"../../type/Complex":208,"../../type/Unit":213,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],136:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/collection"),s=n.number.isNumber,o=n.number.toNumber,u=n["boolean"].isBoolean,a=n.number.isInteger,f=i.isCollection;t.lcm=function l(){var e,n=arguments[0],h=arguments[1];if(2==arguments.length){if(s(n)&&s(h)){if(!a(n)||!a(h))throw new Error("Parameters in function lcm must be integer numbers");if(0==n||0==h)return 0;for(var p=n*h;0!=h;)e=h,h=n%e,n=e;return Math.abs(p/n)}if(f(n)||f(h))return i.deepMap2(n,h,l);if(u(n))return l(+n,h);if(u(h))return l(n,+h);if(n instanceof r)return l(o(n),h);if(h instanceof r)return l(n,o(h));throw new t.error.UnsupportedTypeError("lcm",n,h)}if(arguments.length>2){for(var d=1;d<arguments.length;d++)n=l(n,arguments[d]);return n}throw new SyntaxError("Function lcm expects two or more arguments")}}},{"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],137:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/collection"),o=n.number.isNumber,u=n["boolean"].isBoolean,a=i.isComplex,f=s.isCollection;t.log=function l(e,h){if(1==arguments.length){if(o(e))return e>=0?Math.log(e):l(new i(e,0));if(a(e))return new i(Math.log(Math.sqrt(e.re*e.re+e.im*e.im)),Math.atan2(e.im,e.re));if(e instanceof r)return l(n.number.toNumber(e));if(f(e))return s.deepMap(e,l);if(u(e))return l(+e);throw new t.error.UnsupportedTypeError("log",e)}if(2==arguments.length)return t.divide(l(e),l(h));throw new t.error.ArgumentsError("log",arguments.length,1,2)}}},{"../../type/Complex":208,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],138:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/collection"),o=n.number.isNumber,u=n["boolean"].isBoolean,a=i.isComplex,f=s.isCollection;t.log10=function l(e){if(1!=arguments.length)throw new t.error.ArgumentsError("log10",arguments.length,1);if(o(e))return e>=0?Math.log(e)/Math.LN10:l(new i(e,0));if(e instanceof r)return l(n.number.toNumber(e));if(a(e))return new i(Math.log(Math.sqrt(e.re*e.re+e.im*e.im))/Math.LN10,Math.atan2(e.im,e.re)/Math.LN10);if(f(e))return s.deepMap(e,l);if(u(e))return l(+e);throw new t.error.UnsupportedTypeError("log10",e)}}},{"../../type/Complex":208,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],139:[function(e,t){t.exports=function(t){function n(e,t){if(t>0)return e>0?e%t:0==e?0:e-t*Math.floor(e/t);if(0==t)return e;throw new Error("Cannot calculate mod for a negative divisor")}var r=e("../../util/index"),i=e("bignumber.js"),s=e("../../type/collection"),o=r.number.isNumber,u=r.number.toNumber,a=r.number.toBigNumber,f=r["boolean"].isBoolean,l=s.isCollection;t.mod=function c(e,r){if(2!=arguments.length)throw new t.error.ArgumentsError("mod",arguments.length,2);if(o(e)&&o(r))return n(e,r);if(e instanceof i)return o(r)?r=a(r):f(r)&&(r=new i(r?1:0)),r instanceof i?e.mod(r):c(u(e),r);if(r instanceof i)return o(e)?e=a(e):f(e)&&(e=new i(e?1:0)),e instanceof i?e.mod(r):c(e,u(r));if(l(e)||l(r))return s.deepMap2(e,r,c);if(f(e))return c(+e,r);if(f(r))return c(e,+r);throw new t.error.UnsupportedTypeError("mod",e,r)}}},{"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],140:[function(e,t){t.exports=function(t){function n(e,n){for(var r=[],i=e.length,s=n[0].length,o=e[0].length,u=0;i>u;u++){r[u]=[];for(var a=0;s>a;a++){for(var f=null,l=0;o>l;l++){var c=t.multiply(e[u][l],n[l][a]);f=null===f?c:t.add(f,c)}r[u][a]=f}}return r}function r(e,n){for(var r=[],i=n.length,s=n[0].length,o=0;s>o;o++){for(var u=null,a=0;i>a;a++){var f=t.multiply(e[a],n[a][o]);u=0===a?f:t.add(u,f)}r[o]=u}return r}function i(e,n){for(var r=[],i=e.length,s=e[0].length,o=0;i>o;o++){for(var u=null,a=0;s>a;a++){var f=t.multiply(e[o][a],n[a]);u=0===a?f:t.add(u,f)}r[o]=u}return r}function s(e,n){var r=e.length,i=null;if(r){i=0;for(var s=0,o=e.length;o>s;s++)i=t.add(i,t.multiply(e[s],n[s]))}return i}function o(e,t){return 0==e.im?0==t.im?new f(e.re*t.re,0):0==t.re?new f(0,e.re*t.im):new f(e.re*t.re,e.re*t.im):0==e.re?0==t.im?new f(0,e.im*t.re):0==t.re?new f(-e.im*t.im,0):new f(-e.im*t.im,e.im*t.re):0==t.im?new f(e.re*t.re,e.im*t.re):0==t.re?new f(-e.im*t.im,e.re*t.im):new f(e.re*t.re-e.im*t.im,e.re*t.im+e.im*t.re)}var u=e("../../util/index"),a=e("bignumber.js"),f=e("../../type/Complex"),l=e("../../type/Matrix"),c=e("../../type/Unit"),h=e("../../type/collection"),p=u.array,d=u.number.isNumber,v=u.number.toNumber,m=u.number.toBigNumber,g=u["boolean"].isBoolean,y=f.isComplex,b=Array.isArray,w=c.isUnit;t.multiply=function E(e,u){if(2!=arguments.length)throw new t.error.ArgumentsError("multiply",arguments.length,2);if(d(e)){if(d(u))return e*u;if(y(u))return o(new f(e,0),u);if(w(u))return res=u.clone(),res.value*=e,res}if(y(e)){if(d(u))return o(e,new f(u,0));if(y(u))return o(e,u)}if(e instanceof a)return d(u)?u=m(u):g(u)&&(u=new a(u?1:0)),u instanceof a?e.times(u):E(v(e),u);if(u instanceof a)return d(e)?e=m(e):g(e)&&(e=new a(e?1:0)),e instanceof a?e.times(u):E(e,v(u));if(w(e)&&d(u))return res=e.clone(),res.value*=u,res;if(b(e)){if(b(u)){var c=p.size(e),S=p.size(u);if(1==c.length){if(1==S.length){if(c[0]!=S[0])throw new RangeError("Dimensions mismatch in multiplication. Length of A must match length of B (A is "+c[0]+", B is "+S[0]+c[0]+" != "+S[0]+")");return s(e,u)}if(2==S.length){if(c[0]!=S[0])throw new RangeError("Dimensions mismatch in multiplication. Length of A must match rows of B (A is "+c[0]+", B is "+S[0]+"x"+S[1]+", "+c[0]+" != "+S[0]+")");return r(e,u)}throw new Error("Can only multiply a 1 or 2 dimensional matrix (B has "+S.length+" dimensions)")}if(2==c.length){if(1==S.length){if(c[1]!=S[0])throw new RangeError("Dimensions mismatch in multiplication. Columns of A must match length of B (A is "+c[0]+"x"+c[0]+", B is "+S[0]+", "+c[1]+" != "+S[0]+")");return i(e,u)}if(2==S.length){if(c[1]!=S[0])throw new RangeError("Dimensions mismatch in multiplication. Columns of A must match rows of B (A is "+c[0]+"x"+c[1]+", B is "+S[0]+"x"+S[1]+", "+c[1]+" != "+S[0]+")");return n(e,u)}throw new Error("Can only multiply a 1 or 2 dimensional matrix (B has "+S.length+" dimensions)")}throw new Error("Can only multiply a 1 or 2 dimensional matrix (A has "+c.length+" dimensions)")}return u instanceof l?new l(E(e,u.valueOf())):h.deepMap2(e,u,E)}if(e instanceof l)return new l(u instanceof l?E(e.valueOf(),u.valueOf()):E(e.valueOf(),u));if(b(u))return h.deepMap2(e,u,E);if(u instanceof l)return new l(h.deepMap2(e,u.valueOf(),E));if(g(e))return E(+e,u);if(g(u))return E(e,+u);throw new t.error.UnsupportedTypeError("multiply",e,u)}}},{"../../type/Complex":208,"../../type/Matrix":211,"../../type/Unit":213,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],141:[function(e,t){t.exports=function(t){function n(e,n){var r=t.log(e),i=t.multiply(r,n);return t.exp(i)}var r=e("../../util/index"),i=e("bignumber.js"),s=e("../../type/Complex"),o=e("../../type/Matrix"),u=(e("../../type/collection"),r.array),a=r.number.isNumber,f=r.number.toNumber,l=r.number.toBigNumber,c=r["boolean"].isBoolean,h=Array.isArray,p=r.number.isInteger,d=s.isComplex;t.pow=function v(e,r){if(2!=arguments.length)throw new t.error.ArgumentsError("pow",arguments.length,2);if(a(e)){if(a(r))return p(r)||e>=0?Math.pow(e,r):n(new s(e,0),new s(r,0));if(d(r))return n(new s(e,0),r)}if(d(e)){if(a(r))return n(e,new s(r,0));if(d(r))return n(e,r)}if(e instanceof i)return a(r)?r=l(r):c(r)&&(r=new i(r?1:0)),r instanceof i?e.pow(r):v(f(e),r);if(r instanceof i)return a(e)?e=l(e):c(e)&&(e=new i(e?1:0)),e instanceof i?e.pow(r):v(e,f(r));if(h(e)){if(!a(r)||!p(r)||0>r)throw new TypeError("For A^b, b must be a positive integer (value is "+r+")");var g=u.size(e);if(2!=g.length)throw new Error("For A^b, A must be 2 dimensional (A has "+g.length+" dimensions)");if(g[0]!=g[1])throw new Error("For A^b, A must be square (size is "+g[0]+"x"+g[1]+")");if(0==r)return t.eye(g[0]);for(var y=e,b=1;r>b;b++)y=t.multiply(e,y);return y}if(e instanceof o)return new o(v(e.valueOf(),r));if(c(e))return v(+e,r);if(c(r))return v(e,+r);throw new t.error.UnsupportedTypeError("pow",e,r)}}},{"../../type/Complex":208,"../../type/Matrix":211,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],142:[function(e,t){t.exports=function(t){function n(e,t){if(t){var n=Math.pow(10,t);return Math.round(e*n)/n}return Math.round(e)}var r=e("../../util/index"),i=e("bignumber.js"),s=e("../../type/Complex"),o=e("../../type/collection"),u=r.number.isNumber,a=r.number.isInteger,f=r["boolean"].isBoolean,l=s.isComplex,c=o.isCollection;t.round=function h(e,r){if(1!=arguments.length&&2!=arguments.length)throw new t.error.ArgumentsError("round",arguments.length,1,2);if(void 0==r){if(u(e))return Math.round(e);if(l(e))return new s(Math.round(e.re),Math.round(e.im));if(e instanceof i)return e.round();if(c(e))return o.deepMap(e,h);if(f(e))return Math.round(e);throw new t.error.UnsupportedTypeError("round",e)}if(r instanceof i&&(r=parseFloat(r.valueOf())),!u(r)||!a(r))throw new TypeError("Number of decimals in function round must be an integer");if(0>r||r>9)throw new Error("Number of decimals in function round must be in te range of 0-9");if(u(e))return n(e,r);if(l(e))return new s(n(e.re,r),n(e.im,r));if(e instanceof i&&u(r))return e.round(r);if(c(e)||c(r))return o.deepMap2(e,r,h);if(f(e))return h(+e,r);if(f(r))return h(e,+r);throw new t.error.UnsupportedTypeError("round",e,r)}}},{"../../type/Complex":208,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],143:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/collection"),o=n.number,u=n.number.isNumber,a=n["boolean"].isBoolean,f=i.isComplex,l=s.isCollection;t.sign=function c(e){if(1!=arguments.length)throw new t.error.ArgumentsError("sign",arguments.length,1);if(u(e))return o.sign(e);if(f(e)){var n=Math.sqrt(e.re*e.re+e.im*e.im);return new i(e.re/n,e.im/n)}if(e instanceof r)return new r(e.cmp(0));if(l(e))return s.deepMap(e,c);if(a(e))return o.sign(e);throw new t.error.UnsupportedTypeError("sign",e)}}},{"../../type/Complex":208,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],144:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/Unit"),o=e("../../type/collection"),u=n.number.isNumber,a=n.number.toNumber,f=n.number.toBigNumber,l=n["boolean"].isBoolean,c=n.string.isString,h=i.isComplex,p=s.isUnit,d=o.isCollection;t.smaller=function v(e,n){if(2!=arguments.length)throw new t.error.ArgumentsError("smaller",arguments.length,2);if(u(e)&&u(n))return n>e;if(e instanceof r)return u(n)?n=f(n):l(n)&&(n=new r(n?1:0)),n instanceof r?e.lt(n):v(a(e),n);if(n instanceof r)return u(e)?e=f(e):l(e)&&(e=new r(e?1:0)),e instanceof r?e.lt(n):v(e,a(n));if(p(e)&&p(n)){if(!e.equalBase(n))throw new Error("Cannot compare units with different base");return e.value<n.value}if(c(e)||c(n))return n>e;if(d(e)||d(n))return o.deepMap2(e,n,v);if(l(e))return v(+e,n);if(l(n))return v(e,+n);throw h(e)||h(n)?new TypeError("No ordering relation is defined for complex numbers"):new t.error.UnsupportedTypeError("smaller",e,n)}}},{"../../type/Complex":208,"../../type/Unit":213,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],145:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/Unit"),o=e("../../type/collection"),u=n.number.isNumber,a=n.number.toNumber,f=n.number.toBigNumber,l=n["boolean"].isBoolean,c=n.string.isString,h=i.isComplex,p=s.isUnit,d=o.isCollection;t.smallereq=function v(e,n){if(2!=arguments.length)throw new t.error.ArgumentsError("smallereq",arguments.length,2);if(u(e)&&u(n))return n>=e;if(e instanceof r)return u(n)?n=f(n):l(n)&&(n=new r(n?1:0)),n instanceof r?e.lte(n):v(a(e),n);if(n instanceof r)return u(e)?e=f(e):l(e)&&(e=new r(e?1:0)),e instanceof r?e.lte(n):v(e,a(n));if(p(e)&&p(n)){if(!e.equalBase(n))throw new Error("Cannot compare units with different base");return e.value<=n.value}if(c(e)||c(n))return n>=e;if(d(e)||d(n))return o.deepMap2(e,n,v);if(l(e))return v(+e,n);if(l(n))return v(e,+n);throw h(e)||h(n)?new TypeError("No ordering relation is defined for complex numbers"):new t.error.UnsupportedTypeError("smallereq",e,n)}}},{"../../type/Complex":208,"../../type/Unit":213,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],146:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/collection"),o=n.number.isNumber,u=n["boolean"].isBoolean,a=i.isComplex,f=s.isCollection;t.sqrt=function l(e){if(1!=arguments.length)throw new t.error.ArgumentsError("sqrt",arguments.length,1);if(o(e))return e>=0?Math.sqrt(e):l(new i(e,0));if(a(e)){var n=Math.sqrt(e.re*e.re+e.im*e.im);return e.im>=0?new i(.5*Math.sqrt(2*(n+e.re)),.5*Math.sqrt(2*(n-e.re))):new i(.5*Math.sqrt(2*(n+e.re)),-0.5*Math.sqrt(2*(n-e.re)))}if(e instanceof r)return e.sqrt();if(f(e))return s.deepMap(e,l);if(u(e))return l(+e);throw new t.error.UnsupportedTypeError("sqrt",e)}}},{"../../type/Complex":208,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],147:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/collection"),o=n.number.isNumber,u=n["boolean"].isBoolean,a=i.isComplex,f=s.isCollection;t.square=function l(e){if(1!=arguments.length)throw new t.error.ArgumentsError("square",arguments.length,1);if(o(e))return e*e;if(a(e))return t.multiply(e,e);if(e instanceof r)return e.times(e);if(f(e))return s.deepMap(e,l);if(u(e))return e*e;throw new t.error.UnsupportedTypeError("square",e)}}},{"../../type/Complex":208,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],148:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=(e("../../type/Matrix"),e("../../type/Unit")),o=e("../../type/collection"),u=n.number.toNumber,a=n.number.toBigNumber,f=n["boolean"].isBoolean,l=n.number.isNumber,c=i.isComplex,h=s.isUnit,p=o.isCollection;t.subtract=function d(e,n){if(2!=arguments.length)throw new t.error.ArgumentsError("subtract",arguments.length,2);if(l(e)){if(l(n))return e-n;if(c(n))return new i(e-n.re,-n.im)}else if(c(e)){if(l(n))return new i(e.re-n,e.im);if(c(n))return new i(e.re-n.re,e.im-n.im)}if(e instanceof r)return l(n)?n=a(n):f(n)&&(n=new r(n?1:0)),n instanceof r?e.minus(n):d(u(e),n);if(n instanceof r)return l(e)?e=a(e):f(e)&&(e=new r(e?1:0)),e instanceof r?e.minus(n):d(e,u(n));if(h(e)&&h(n)){if(!e.equalBase(n))throw new Error("Units do not match");if(null==e.value)throw new Error("Unit on left hand side of operator - has an undefined value");if(null==n.value)throw new Error("Unit on right hand side of operator - has an undefined value");var s=e.clone();return s.value-=n.value,s.fixPrefix=!1,s}if(p(e)||p(n))return o.deepMap2(e,n,d);if(f(e))return d(+e,n);if(f(n))return d(e,+n);throw new t.error.UnsupportedTypeError("subtract",e,n)}}},{"../../type/Complex":208,"../../type/Matrix":211,"../../type/Unit":213,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],149:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/Unit"),o=e("../../type/collection"),u=n.number.isNumber,a=n["boolean"].isBoolean,f=i.isComplex,l=s.isUnit,c=o.isCollection;t.unary=function h(e){if(1!=arguments.length)throw new t.error.ArgumentsError("unary",arguments.length,1);if(u(e))return-e;if(f(e))return new i(-e.re,-e.im);if(e instanceof r)return e.neg();if(l(e)){var n=e.clone();return n.value=-e.value,n}if(c(e))return o.deepMap(e,h);if(a(e))return-e;throw new t.error.UnsupportedTypeError("unary",e)}}},{"../../type/Complex":208,"../../type/Unit":213,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],150:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/Unit"),o=e("../../type/collection"),u=n.number.isNumber,a=n.number.toNumber,f=n.number.toBigNumber,l=n["boolean"].isBoolean,c=n.string.isString,h=i.isComplex,p=s.isUnit,d=o.isCollection;t.unequal=function v(e,n){if(2!=arguments.length)throw new t.error.ArgumentsError("unequal",arguments.length,2);if(u(e)){if(u(n))return e!=n;if(h(n))return e!=n.re||0!=n.im}if(h(e)){if(u(n))return e.re!=n||0!=e.im;if(h(n))return e.re!=n.re||e.im!=n.im}if(e instanceof r)return u(n)?n=f(n):l(n)&&(n=new r(n?1:0)),n instanceof r?!e.eq(n):v(a(e),n);if(n instanceof r)return u(e)?e=f(e):l(e)&&(e=new r(e?1:0)),e instanceof r?!e.eq(n):v(e,a(n));if(p(e)&&p(n)){if(!e.equalBase(n))throw new Error("Cannot compare units with different base");return e.value!=n.value}if(c(e)||c(n))return e!=n;if(d(e)||d(n))return o.deepMap2(e,n,v);if(l(e))return v(+e,n);if(l(n))return v(e,+n);throw new t.error.UnsupportedTypeError("unequal",e,n)}}},{"../../type/Complex":208,"../../type/Unit":213,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],151:[function(e,t){t.exports=function(t){function n(e,t){for(var n,r,i,s=0,o=1,u=1,a=0;t;)r=Math.floor(e/t),i=e%t,n=s,s=o-r*s,o=n,n=u,u=a-r*u,a=n,e=t,t=i;return 0>e?[-e,e?-o:0,-a]:[e,e?o:0,a]}var r=e("../../util/index"),i=e("bignumber.js"),s=r.number.toNumber,o=r.number.isNumber,u=r["boolean"].isBoolean,a=r.number.isInteger;t.xgcd=function f(e,r){if(2==arguments.length){if(o(e)&&o(r)){if(!a(e)||!a(r))throw new Error("Parameters in function xgcd must be integer numbers");return n(e,r)}if(e instanceof i)return f(s(e),r);if(r instanceof i)return f(e,s(r));if(u(e))return f(+e,r);if(u(r))return f(e,+r);throw new t.error.UnsupportedTypeError("xgcd",e,r)}throw new SyntaxError("Function xgcd expects two arguments")}}},{"../../util/index":218,"bignumber.js":223}],152:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/collection"),o=n.number.isNumber,u=n["boolean"].isBoolean,a=s.isCollection,f=i.isComplex;t.arg=function l(e){if(1!=arguments.length)throw new t.error.ArgumentsError("arg",arguments.length,1);if(o(e))return Math.atan2(0,e);if(f(e))return Math.atan2(e.im,e.re);if(a(e))return s.deepMap(e,l);if(u(e))return l(+e);if(e instanceof r)return l(n.number.toNumber(e));throw new t.error.UnsupportedTypeError("arg",e)}}},{"../../type/Complex":208,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],153:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/collection"),o=n.object,u=n.number.isNumber,a=n["boolean"].isBoolean,f=s.isCollection,l=i.isComplex;t.conj=function c(e){if(1!=arguments.length)throw new t.error.ArgumentsError("conj",arguments.length,1);return u(e)?e:e instanceof r?new r(e):l(e)?new i(e.re,-e.im):f(e)?s.deepMap(e,c):a(e)?+e:o.clone(e)}}},{"../../type/Complex":208,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],154:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/collection"),o=n.number.isNumber,u=n["boolean"].isBoolean,a=s.isCollection,f=i.isComplex;t.im=function l(e){if(1!=arguments.length)throw new t.error.ArgumentsError("im",arguments.length,1);return o(e)?0:e instanceof r?new r(0):f(e)?e.im:a(e)?s.deepMap(e,l):u(e)?0:0}}},{"../../type/Complex":208,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],155:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/collection"),o=n.object,u=n.number.isNumber,a=n["boolean"].isBoolean,f=s.isCollection,l=i.isComplex;t.re=function c(e){if(1!=arguments.length)throw new t.error.ArgumentsError("re",arguments.length,1);return u(e)?e:e instanceof r?new r(e):l(e)?e.re:f(e)?s.deepMap(e,c):a(e)?+e:o.clone(e)}}},{"../../type/Complex":208,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],156:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/collection"),s=i.isCollection,o=n.number.isNumber,u=n.string.isString,a=n["boolean"].isBoolean;"function"!=typeof r.prototype.clone&&(r.prototype.clone=function(){return new r(this)}),t.bignumber=function f(e){if(arguments.length>1)throw new t.error.ArgumentsError("bignumber",arguments.length,0,1);if(e instanceof r||o(e)||u(e))return new r(e);if(a(e))return new r(+e);if(s(e))return i.deepMap(e,f);if(0==arguments.length)return new r(0);throw new t.error.UnsupportedTypeError("bignumber",e)}}},{"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],157:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/collection"),s=i.isCollection,o=n.number.isNumber,u=n.string.isString;t["boolean"]=function a(e){if(1!=arguments.length)throw new t.error.ArgumentsError("boolean",arguments.length,0,1);if("true"===e||e===!0)return!0;if("false"===e||e===!1)return!1;if(e instanceof Boolean)return e?!0:!1;if(o(e))return 0!==e;if(e instanceof r)return!e.isZero();if(u(e)){var n=e.toLowerCase();if("true"===n)return!0;if("false"===n)return!1;var f=Number(e);if(""!=e&&!isNaN(f))return 0!==f}if(s(e))return i.deepMap(e,a);throw new SyntaxError(e.toString()+" is no valid boolean")}}},{"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],158:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/collection"),o=s.isCollection,u=n.number.isNumber,a=n.number.toNumber,f=n.string.isString,l=i.isComplex;t.complex=function c(){switch(arguments.length){case 0:return new i(0,0);case 1:var e=arguments[0];if(u(e))return new i(e,0);if(e instanceof r)return new i(a(e),0);if(l(e))return e.clone();if(f(e)){var n=i.parse(e);if(n)return n;throw new SyntaxError('String "'+e+'" is no valid complex number')}if(o(e))return s.deepMap(e,c);throw new TypeError("Two numbers or a single string expected in function complex");case 2:var h=arguments[0],p=arguments[1];if(h instanceof r&&(h=a(h)),p instanceof r&&(p=a(p)),u(h)&&u(p))return new i(h,p);throw new TypeError("Two numbers or a single string expected in function complex");default:throw new t.error.ArgumentsError("complex",arguments.length,0,2)}}}},{"../../type/Complex":208,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],159:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Index"),s=n.number.toNumber;t.index=function(){var e=new i,t=Array.prototype.slice.apply(arguments).map(function(e){return e instanceof r?s(e):Array.isArray(e)?e.map(function(e){return e instanceof r?s(e):e}):e});return i.apply(e,t),e}}},{"../../type/Index":210,"../../util/index":218,"bignumber.js":223}],160:[function(e,t){t.exports=function(t){var n=e("../../type/Matrix");t.matrix=function(e){if(arguments.length>1)throw new t.error.ArgumentsError("matrix",arguments.length,0,1);return new n(e)}}},{"../../type/Matrix":211}],161:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/collection"),s=i.isCollection,o=n.number.toNumber;t.number=function u(e){switch(arguments.length){case 0:return 0;case 1:if(s(e))return i.deepMap(e,u);if(e instanceof r)return o(e);var n=Number(e);if(isNaN(n)&&(n=Number(e.valueOf())),isNaN(n))throw new SyntaxError(e.toString()+" is no valid number");return n;default:throw new t.error.ArgumentsError("number",arguments.length,0,1)}}}},{"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],162:[function(e,t){t.exports=function(t){var n=e("../../expression/Parser");t.parser=function(){return new n(t)}}},{"../../expression/Parser":4}],163:[function(e,t){t.exports=function(e){e.select=function(t){return new e.chaining.Selector(t)}}},{}],164:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("../../type/collection"),i=n.number,s=n.number.isNumber,o=r.isCollection;t.string=function u(e){switch(arguments.length){case 0:return"";case 1:return s(e)?i.format(e):o(e)?r.deepMap(e,u):null===e?"null":e.toString();default:throw new t.error.ArgumentsError("string",arguments.length,0,1)}}}},{"../../type/collection":214,"../../util/index":218}],165:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Unit"),s=e("../../type/collection"),o=s.isCollection,u=n.number.toNumber,a=n.string.isString;t.unit=function f(e){switch(arguments.length){case 1:var n=arguments[0];if(n instanceof i)return n.clone();if(a(n)){if(i.isPlainUnit(n))return new i(null,n);var l=i.parse(n);if(l)return l;throw new SyntaxError('String "'+n+'" is no valid unit')}if(o(e))return s.deepMap(e,f);throw new TypeError("A string or a number and string expected in function unit");case 2:return arguments[0]instanceof r?new i(u(arguments[0]),arguments[1]):new i(arguments[0],arguments[1]);default:throw new t.error.ArgumentsError("unit",arguments.length,1,2)}}}},{"../../type/Unit":213,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],166:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("../../type/collection"),i=n.string.isString,s=r.isCollection;t.eval=function(e,n){if(1!=arguments.length&&2!=arguments.length)throw new t.error.ArgumentsError("eval",arguments.length,1,2);if(n=n||{},i(e))return t.parse(e).compile(t).eval(n);if(s(e))return r.deepMap(e,function(e){return t.parse(e).compile(t).eval(n)});throw new TypeError("String or matrix expected")}}},{"../../type/collection":214,"../../util/index":218}],167:[function(e,t){t.exports=function(t){var n=e("../../type/Help");t.help=function(e){if(1!=arguments.length)throw new SyntaxError("Wrong number of arguments in function help ("+arguments.length+" provided, 1 expected)");var r=null;if(e instanceof String||"string"==typeof e)r=e;else{var i;for(i in t)if(t.hasOwnProperty(i)&&e===t[i]){r=i;break}if(!r)for(i in t.type)if(t.type.hasOwnProperty(i)&&e===t.type[i]){r=i;break}}if(r){var s=t.expression.docs[r];if(!s)throw new Error('No documentation found on "'+r+'"');return new n(t,s)}throw new Error('Could not find search term "'+e+'"')}}},{"../../type/Help":209}],168:[function(e,t){t.exports=function(t){var n=e("../../expression/parse");t.parse=function(){return n.apply(n,arguments)}}},{"../../expression/parse":120}],169:[function(e,t){t.exports=function(t){function n(e,t,r,i){if(r>i){if(e.length!=t.length)throw new Error("Dimensions mismatch ("+e.length+" != "+t.length+")");for(var s=[],o=0;o<e.length;o++)s[o]=n(e[o],t[o],r,i+1);return s}return e.concat(t)}var r=e("../../util/index"),i=e("../../type/Matrix"),s=e("../../type/collection"),o=r.object,u=r.array,a=r.number.isNumber,f=r.number.isInteger,l=s.isCollection;t.concat=function(){var e,r,s=arguments.length,h=-1,p=!1,d=[];for(e=0;s>e;e++){var v=arguments[e];if(v instanceof i&&(p=!0),e==s-1&&a(v)){if(r=h,h=v,!f(h)||0>h)throw new TypeError("Dimension number must be a positive integer (dim = "+h+")");if(e>0&&h>r)throw new RangeError("Dimension out of range ("+h+" > "+r+")")}else{if(!l(v))throw new t.error.UnsupportedTypeError("concat",v);var m=o.clone(v).valueOf(),g=u.size(v.valueOf());if(d[e]=m,r=h,h=g.length-1,e>0&&h!=r)throw new RangeError("Dimension mismatch ("+r+" != "+h+")")}}if(0==d.length)throw new SyntaxError("At least one matrix expected");for(var y=d.shift();d.length;)y=n(y,d.shift(),h,0);return p?new i(y):y}}},{"../../type/Matrix":211,"../../type/collection":214,"../../util/index":218}],170:[function(e,t){t.exports=function(t){function n(e,n,r){if(1==n)return e[0][0];if(2==n)return t.subtract(t.multiply(e[0][0],e[1][1]),t.multiply(e[1][0],e[0][1]));for(var s=1,o=0,u=0;n>u&&!(o>=r);u++){for(var a=u;0==e[a][o];)if(a++,a==n&&(a=u,o++,o==r))return i.deepEqual(e,eye(n).valueOf())?t.round(s,6):0;if(a!=u){for(var f=0;r>f;f++){var l=e[a][f];e[a][f]=e[u][f],e[u][f]=l}s*=-1}for(var c=e[u][o],f=0;r>f;f++)e[u][f]=e[u][f]/c;s*=c;for(var h=0;n>h;h++)if(h!=u)for(var p=e[h][o],f=0;r>f;f++)e[h][f]=e[h][f]-e[u][f]*p;o++}return i.deepEqual(e,t.eye(n).valueOf())?t.round(s,6):0}var r=e("../../util/index"),i=(e("../../type/Matrix"),r.object),s=r.array,o=r.string;t.det=function(e){if(1!=arguments.length)throw new t.error.ArgumentsError("det",arguments.length,1);var r=s.size(e.valueOf());switch(r.length){case 0:return i.clone(e);case 1:if(1==r[0])return i.clone(e.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+o.format(r)+")");case 2:var u=r[0],f=r[1];if(u==f)return n(e.valueOf(),u,f);throw new RangeError("Matrix must be square (size: "+o.format(r)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+o.format(r)+")")}}}},{"../../type/Matrix":211,"../../util/index":218}],171:[function(e,t){t.exports=function(t,n){var r=e("../../util/index"),i=e("../../type/Matrix"),s=(e("../../type/collection"),r.object),o=r.array.isArray,u=r.number.isNumber,a=r.number.isInteger;t.diag=function(e,r){var f,l,c,h;if(1!=arguments.length&&2!=arguments.length)throw new t.error.ArgumentsError("diag",arguments.length,1,2);if(r){if(!u(r)||!a(r))throw new TypeError("Second parameter in function diag must be an integer")}else r=0;var p=r>0?r:0,d=0>r?-r:0;if(!(e instanceof i)){if(!o(e))throw new TypeError("First parameter in function diag must be a Matrix or Array");e=new i(e)}var v=e.size();switch(v.length){case 1:l=e.valueOf();var m=new i,g=0;for(m.resize([l.length+d,l.length+p],g),f=m.valueOf(),h=l.length,c=0;h>c;c++)f[c+d][c+p]=s.clone(l[c]);return"array"===n.matrix?m.valueOf():m;case 2:for(l=[],f=e.valueOf(),h=Math.min(v[0]-d,v[1]-p),c=0;h>c;c++)l[c]=s.clone(f[c+d][c+p]);return"array"===n.matrix?l:new i(l);default:throw new RangeError("Matrix for function diag must be 2 dimensional")}}}},{"../../type/Matrix":211,"../../type/collection":214,"../../util/index":218}],172:[function(e,t){t.exports=function(t,n){var r=e("../../util/index"),i=e("bignumber.js"),s=e("../../type/Matrix"),o=e("../../type/collection"),u=r.number.toNumber,a=r.number.isNumber,f=r.number.isInteger,l=Array.isArray;t.eye=function(e){var r=o.argsToArray(arguments),h=e instanceof s?!0:l(e)?!1:"matrix"===n.matrix;if(0==r.length)return h?new s:[];if(1==r.length)r[1]=r[0];else if(r.length>2)throw new t.error.ArgumentsError("eye",r.length,0,2);var p=r[0]instanceof i,d=r[0],v=r[1];if(d instanceof i&&(d=u(d)),v instanceof i&&(v=u(v)),!a(d)||!f(d)||1>d)throw new Error("Parameters in function eye must be positive integers");if(v&&(!a(v)||!f(v)||1>v))throw new Error("Parameters in function eye must be positive integers");var m=new s,g=p?new i(1):1,y=p?new i(0):0;m.resize(r.map(u),y);for(var b=t.min(r),w=m.valueOf(),E=0;b>E;E++)w[E][E]=g;return h?m:m.valueOf()}}},{"../../type/Matrix":211,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],173:[function(e,t){t.exports=function(t){function n(e,n,r){var i,s,o,u,a;if(1==n){if(u=e[0][0],0==u)throw Error("Cannot calculate inverse, determinant is zero");return[[t.divide(1,u)]]}if(2==n){var f=t.det(e);if(0==f)throw Error("Cannot calculate inverse, determinant is zero");return[[t.divide(e[1][1],f),t.divide(t.unary(e[0][1]),f)],[t.divide(t.unary(e[1][0]),f),t.divide(e[0][0],f)]]}var l=e.concat();for(i=0;n>i;i++)l[i]=l[i].concat();for(var c=t.eye(n).valueOf(),h=0;r>h;h++){for(i=h;n>i&&0==l[i][h];)i++;if(i==n||0==l[i][h])throw Error("Cannot calculate inverse, determinant is zero");i!=h&&(a=l[h],l[h]=l[i],l[i]=a,a=c[h],c[h]=c[i],c[i]=a);var p=l[h],d=c[h];for(i=0;n>i;i++){var v=l[i],m=c[i];if(i!=h){if(0!=v[h]){for(o=t.divide(t.unary(v[h]),p[h]),s=h;r>s;s++)v[s]=t.add(v[s],t.multiply(o,p[s]));for(s=0;r>s;s++)m[s]=t.add(m[s],t.multiply(o,d[s]))}}else{for(o=p[h],s=h;r>s;s++)v[s]=t.divide(v[s],o);for(s=0;r>s;s++)m[s]=t.divide(m[s],o)}}}return c}var r=e("../../util/string"),i=e("../../type/Matrix");e("../../type/collection"),t.inv=function(e){if(1!=arguments.length)throw new t.error.ArgumentsError("inv",arguments.length,1);var s=t.size(e).valueOf();switch(s.length){case 0:return t.divide(1,e);case 1:if(1==s[0])return e instanceof i?new i([t.divide(1,e.valueOf()[0])]):[t.divide(1,e[0])];throw new RangeError("Matrix must be square (size: "+r.format(s)+")");case 2:var o=s[0],u=s[1];if(o==u)return e instanceof i?new i(n(e.valueOf(),o,u)):n(e,o,u);throw new RangeError("Matrix must be square (size: "+r.format(s)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+r.format(s)+")")}}}},{"../../type/Matrix":211,"../../type/collection":214,"../../util/string":221}],174:[function(e,t){t.exports=function(t,n){var r=e("../../util/index"),i=e("bignumber.js"),s=e("../../type/Matrix"),o=e("../../type/collection"),u=r.array,a=r.number.toNumber,f=Array.isArray;t.ones=function(e){var t=o.argsToArray(arguments),r=e instanceof s?!0:f(e)?!1:"matrix"===n.matrix;if(0==t.length)return r?new s:[];var l=[],h=t[0]instanceof i?new i(1):1;return l=u.resize(l,t.map(a),h),r?new s(l):l}}},{"../../type/Matrix":211,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],175:[function(e,t){t.exports=function(t,n){function r(e,t,n){var r=[],i=e;if(n>0)for(;t>i;)r.push(i),i+=n;else if(0>n)for(;i>t;)r.push(i),i+=n;return r}function i(e,t,n){var r=[],i=e;if(n>0)for(;t>=i;)r.push(i),i+=n;else if(0>n)for(;i>=t;)r.push(i),i+=n;return r}function s(e,t,n){var r=[],i=e.clone(),s=new f(0);if(n.gt(s))for(;i.lt(t);)r.push(i),i=i.plus(n);else if(n.lt(s))for(;i.gt(t);)r.push(i),i=i.plus(n);return r}function o(e,t,n){var r=[],i=e.clone(),s=new f(0);if(n.gt(s))for(;i.lte(t);)r.push(i),i=i.plus(n);else if(n.lt(s))for(;i.gte(t);)r.push(i),i=i.plus(n);return r}function u(e){var t=e.split(":"),r=null;if("bignumber"===n.number)try{r=t.map(function(e){return new f(e)})}catch(i){return null}else{r=t.map(function(e){return parseFloat(e)});var s=r.some(function(e){return isNaN(e)});if(s)return null}switch(r.length){case 2:return{start:r[0],end:r[1],step:1};case 3:return{start:r[0],end:r[2],step:r[1]};default:return null}}var a=e("../../util/index"),f=e("bignumber.js"),l=e("../../type/Matrix"),c=(e("../../type/collection"),a["boolean"].isBoolean),h=a.string.isString,p=a.number.isNumber,d=a.number.toNumber,v=a.number.toBigNumber;t.range=function(){var e,a,y,b=Array.prototype.slice.call(arguments),w=!1;switch(c(b[b.length-1])&&(w=b.pop()?!0:!1),b.length){case 1:if(!h(b[0]))throw new TypeError("Two or three numbers or a single string expected in function range");var E=u(b[0]);if(!E)throw new SyntaxError('String "'+E+'" is no valid range');e=E.start,a=E.end,y=E.step;break;case 2:e=b[0],a=b[1],y=1;break;case 3:e=b[0],a=b[1],y=b[2];break;default:throw new t.error.ArgumentsError("range",arguments.length,2,4)}if(!(p(e)||e instanceof f))throw new TypeError("Parameter start must be a number");if(!(p(a)||a instanceof f))throw new TypeError("Parameter end must be a number");if(!(p(y)||y instanceof f))throw new TypeError("Parameter step must be a number");if(!c(w))throw new TypeError("Parameter includeEnd must be a boolean");if(e instanceof f||a instanceof f||y instanceof f){var S=!0;e instanceof f||(e=v(e)),a instanceof f||(a=v(a)),y instanceof f||(y=v(y)),e instanceof f&&a instanceof f&&y instanceof f||(S=!1,e=d(e),a=d(a),y=d(y))}var x=S?w?o:s:w?i:r,T=x(e,a,y);return"array"===n.matrix?T:new l(T)}}},{"../../type/Matrix":211,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],176:[function(e,t){t.exports=function(t,n){function r(e,t,n){if(void 0!==n){if(!f(n)||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";if(1!==t.length)throw new Error("Dimension mismatch: ("+t.length+" != 1)");var r=t[0];if(!c(r)||!h(r))throw new TypeError("Size must contain numbers");if(e.length>r)return e.substring(0,r);if(e.length<r){for(var i=e,s=0,o=r-e.length;o>s;s++)i+=n;return i}return e}var i=e("../../util/index"),s=e("bignumber.js"),o=e("../../type/Matrix"),u=i.array,a=i.object.clone,f=i.string.isString,l=i.number.toNumber,c=i.number.isNumber,h=i.number.isInteger,p=u.isArray;t.resize=function(e,i,c){if(2!=arguments.length&&3!=arguments.length)throw new t.error.ArgumentsError("resize",arguments.length,2,3);var h=e instanceof o?!0:p(e)?!1:"array"!==n.matrix;if(e instanceof o&&(e=e.valueOf()),i instanceof o&&(i=i.valueOf()),i.length&&i[0]instanceof s&&(i=i.map(l)),f(e))return r(e,i,c);if(0==i.length){for(;p(e);)e=e[0];return a(e)}p(e)||(e=[e]),e=a(e);var d=u.resize(e,i,c);return h?new o(d):d}}},{"../../type/Matrix":211,"../../util/index":218,"bignumber.js":223}],177:[function(e,t){t.exports=function(t,n){var r=e("../../util/index"),i=e("bignumber.js"),s=e("../../type/Complex"),o=e("../../type/Unit"),u=e("../../type/Matrix"),a=r.array,f=r.number.isNumber,l=r["boolean"].isBoolean,c=r.string.isString,h=s.isComplex,p=o.isUnit;t.size=function(e){if(1!=arguments.length)throw new t.error.ArgumentsError("size",arguments.length,1);var r="array"===n.matrix;if(f(e)||h(e)||p(e)||l(e)||null==e||e instanceof i)return r?[]:new u([]);if(c(e))return r?[e.length]:new u([e.length]);if(Array.isArray(e))return a.size(e);if(e instanceof u)return new u(e.size());throw new t.error.UnsupportedTypeError("size",e)}}},{"../../type/Complex":208,"../../type/Matrix":211,"../../type/Unit":213,"../../util/index":218,"bignumber.js":223}],178:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("../../type/Matrix"),i=n.object,s=n.array,o=Array.isArray;t.squeeze=function(e){if(1!=arguments.length)throw new t.error.ArgumentsError("squeeze",arguments.length,1);if(o(e))return s.squeeze(i.clone(e));if(e instanceof r){var n=s.squeeze(e.toArray());return o(n)?new r(n):n}return i.clone(e)}}},{"../../type/Matrix":211,"../../util/index":218}],179:[function(e,t){t.exports=function(t){function n(e,n){var i,s;if(c(e))return i=new u(e),s=i.subset(n),s.valueOf();if(e instanceof u)return e.subset(n);if(l(e))return r(e,n);throw new t.error.UnsupportedTypeError("subset",e)}function r(e,t){if(t instanceof a){if(1!=t.size().length)throw new RangeError("Dimension mismatch ("+t.size().length+" != 1)");var n=t.range(0),r="",i=e.length;return n.forEach(function(t){f.validateIndex(t,i),r+=e.charAt(t)}),r}throw new TypeError("Index expected")}function i(e,n,r,i){var o;if(c(e))return o=new u(t.clone(e)),o.subset(n,r,i),o.valueOf();if(e instanceof u)return e.clone().subset(n,r,i);if(l(e))return s(e,n,r,i);throw new t.error.UnsupportedTypeError("subset",e)}function s(e,t,n,r){if(t instanceof a){if(1!=t.size().length)throw new RangeError("Dimension mismatch ("+t.size().length+" != 1)");if(void 0!==r){if(!l(r)||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";var i=t.range(0),s=i.size()[0];if(s!=n.length)throw new RangeError("Dimension mismatch ("+i.size()[0]+" != "+n.length+")");for(var o=e.length,u=[],c=0;o>c;c++)u[c]=e.charAt(c);if(i.forEach(function(e,t){f.validateIndex(e),u[e]=n.charAt(t)}),u.length>o)for(c=o-1,s=u.length;s>c;c++)u[c]||(u[c]=r);return u.join("")}throw new TypeError("Index expected")}var o=e("../../util/index"),u=e("../../type/Matrix"),a=e("../../type/Index"),f=o.array,l=o.string.isString,c=Array.isArray;t.subset=function(){switch(arguments.length){case 2:return n(arguments[0],arguments[1]);case 3:case 4:return i(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw new t.error.ArgumentsError("subset",arguments.length,2,4)}}}},{"../../type/Index":210,"../../type/Matrix":211,"../../util/index":218}],180:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("../../type/Matrix"),i=(e("../../type/collection"),n.object),s=n.string;t.transpose=function(e){if(1!=arguments.length)throw new t.error.ArgumentsError("transpose",arguments.length,1);var n=t.size(e).valueOf();switch(n.length){case 0:return i.clone(e);case 1:return i.clone(e);case 2:var u,a=n[1],f=n[0],l=e instanceof r,c=e.valueOf(),h=[],p=i.clone;if(0===a)throw new RangeError("Cannot transpose a 2D matrix with no rows(size: "+s.format(n)+")");for(var d=0;a>d;d++){u=h[d]=[];for(var v=0;f>v;v++)u[v]=p(c[v][d])}return 0==f&&(h[0]=[]),l?new r(h):h;default:throw new RangeError("Matrix must be two dimensional (size: "+s.format(n)+")")}}}},{"../../type/Matrix":211,"../../type/collection":214,"../../util/index":218}],181:[function(e,t){t.exports=function(t,n){var r=e("../../util/index"),i=e("bignumber.js"),s=e("../../type/Matrix"),o=e("../../type/collection"),u=r.array,a=r.number.toNumber,f=Array.isArray;t.zeros=function(e){var t=o.argsToArray(arguments),r=e instanceof s?!0:f(e)?!1:"matrix"===n.matrix;if(0==t.length)return r?new s:[];var l=[],h=t[0]instanceof i?new i(0):0;return l=u.resize(l,t.map(a),h),r?new s(l):l}}},{"../../type/Matrix":211,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],182:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=(e("../../type/collection"),n.number.isNumber),s=n.number.isInteger,o=n.number.toBigNumber;t.combinations=function(e,n){var f=arguments.length;if(2!=f)throw new t.error.ArgumentsError("combinations",arguments.length,2);if(i(e)){if(!s(e)||0>e)throw new TypeError("Positive integer value enpected in function combinations");if(n>e)throw new TypeError("k must be less than or equal to n");return Math.floor(t.factorial(e)/(t.factorial(n)*t.factorial(e-n)))}if(e instanceof r){if(n=o(n),!(n instanceof r&&u(e)&&u(n)))throw new TypeError("Positive integer value expected in function combinations");if(n.gt(e))throw new TypeError("k must be less than n in function combinations");return t.floor(t.divide(t.factorial(e),t.multiply(t.factorial(n),t.factorial(t.subtract(e,n)))))}throw new t.error.UnsupportedTypeError("combinations",e)};var u=function(e){return e.round().equals(e)&&e.gte(0)}}},{"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],183:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/collection"),s=n.number.isNumber,o=n["boolean"].isBoolean,u=n.number.isInteger,a=i.isCollection;t.factorial=function l(e){var n,h;if(1!=arguments.length)throw new t.error.ArgumentsError("factorial",arguments.length,1);if(s(e)){if(!u(e)||0>e)throw new TypeError("Positive integer value expected in function factorial");for(n=e-1,h=e;n>1;)h*=n,n--;return 0==h&&(h=1),h}if(e instanceof r){if(!f(e))throw new TypeError("Positive integer value expected in function factorial");var p=new r(1);for(n=e.minus(p),h=e;n.gt(p);)h=h.times(n),n=n.minus(p);return h.equals(0)&&(h=p),h}if(o(e))return 1;if(a(e))return i.deepMap(e,l);throw new t.error.UnsupportedTypeError("factorial",e)};var f=function(e){return e.round().equals(e)&&e.gte(0)}}},{"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],184:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=n.number.isNumber,s=n.number.isInteger,o=n.number.toBigNumber;t.permutations=function(e,n){var f=arguments.length;if(f>2)throw new t.error.ArgumentsError("permutations",arguments.length,2);if(i(e)){if(!s(e)||0>e)throw new TypeError("Positive integer value enpected in function permutations");if(1==f)return t.factorial(e);if(2==f&&i(n)){if(!s(n)||0>n)throw new TypeError("Positive integer value enpected in function permutations");if(n>e)throw new TypeError("second argument k must be less than or equal to first argument n");return Math.floor(t.factorial(e)/t.factorial(e-n))}}if(e instanceof r){if(void 0===n&&u(e))return t.factorial(e);if(n=o(n),!(n instanceof r&&u(e)&&u(n)))throw new TypeError("Positive integer value expected in function permutations");if(n.gt(e))throw new TypeError("second argument k must be less than or equal to first argument n");return t.floor(t.divide(t.factorial(e),t.factorial(t.subtract(e,n))))}throw new t.error.UnsupportedTypeError("permutations",e)};var u=function(e){return e.round().equals(e)&&e.gte(0)}}},{"../../util/index":218,"bignumber.js":223}],185:[function(e,t){t.exports=function(t,n){var r=e("../../type/Matrix"),i=(e("../../type/collection"),{uniform:function(){return Math.random},normal:function(){return function(){for(var e,t,n=-1;0>n||n>1;)e=Math.random(),t=Math.random(),n=1/6*Math.pow(-2*Math.log(e),.5)*Math.cos(2*Math.PI*t)+.5;return n}}});t.distribution=function(e){if(!i.hasOwnProperty(e))throw new Error("unknown distribution "+e);var s=Array.prototype.slice.call(arguments,1),o=i[e].apply(this,s);return function(e){var i={random:function(e,i,o){var a,f,l;if(arguments.length>3)throw new t.error.ArgumentsError("random",arguments.length,0,3);if(1===arguments.length?Array.isArray(e)?a=e:l=e:2===arguments.length?Array.isArray(e)?a=e:(f=e,l=i):(a=e,f=i,l=o),void 0===l&&(l=1),void 0===f&&(f=0),void 0!==a){var c=u(a,f,l,s);return"array"===n.matrix?c:new r(c)}return s(f,l)},randomInt:function(e,i,s){var f,l,c;if(arguments.length>3||arguments.length<1)throw new t.error.ArgumentsError("randomInt",arguments.length,1,3);if(1===arguments.length?c=e:2===arguments.length?"[object Array]"===Object.prototype.toString.call(e)?f=e:(l=e,c=i):(f=e,l=i,c=s),void 0===l&&(l=0),void 0!==f){var h=u(f,l,c,o);return"array"===n.matrix?h:new r(h)}return o(l,c)},pickRandom:function(e){if(1!==arguments.length)throw new t.error.ArgumentsError("pickRandom",arguments.length,1);if(!Array.isArray(e))throw new t.error.UnsupportedTypeError("pickRandom",e);return e[Math.floor(Math.random()*e.length)]}},s=function(t,n){return t+e()*(n-t)},o=function(t,n){return Math.floor(t+e()*(n-t))},u=function(e,t,n,r){var i,s,o=[];if(e=e.slice(0),e.length>1)for(s=0,i=e.shift();i>s;s++)o.push(u(e,t,n,r));else for(s=0,i=e.shift();i>s;s++)o.push(r(t,n));return o};return i}(o)};var s=t.distribution("uniform");t.random=s.random,t.randomInt=s.randomInt,t.pickRandom=s.pickRandom}},{"../../type/Matrix":211,"../../type/collection":214}],186:[function(e,t){t.exports=function(t){function n(e,n){return t.larger(e,n)?e:n}function r(e){var n=null;if(i.deepForEach(e,function(e){(null===n||t.larger(e,n))&&(n=e)}),null===n)throw new Error("Cannot calculate max of an empty array");return n}var i=(e("../../type/Matrix"),e("../../type/collection")),s=i.isCollection;t.max=function(e){if(0==arguments.length)throw new SyntaxError("Function max requires one or more parameters (0 provided)");if(s(e)){if(1==arguments.length)return r(e);if(2==arguments.length)return i.reduce(arguments[0],arguments[1],n);throw new SyntaxError("Wrong number of parameters")}return r(arguments)}}},{"../../type/Matrix":211,"../../type/collection":214}],187:[function(e,t){t.exports=function(t){function n(e,n){var r;return r=i.reduce(e,n,t.add),t.divide(r,size(e)[n])}function r(e){var n=0,r=0;if(i.deepForEach(e,function(e){n=t.add(n,e),r++}),0===r)throw new Error("Cannot calculate mean of an empty array");return t.divide(n,r)}var i=(e("../../type/Matrix"),e("../../type/collection")),s=i.isCollection;t.mean=function(e){if(0==arguments.length)throw new SyntaxError("Function mean requires one or more parameters (0 provided)");if(s(e)){if(1==arguments.length)return r(e);if(2==arguments.length)return n(arguments[0],arguments[1]);throw new SyntaxError("Wrong number of parameters")}return r(arguments)}}},{"../../type/Matrix":211,"../../type/collection":214}],188:[function(e,t){t.exports=function(t){function n(e,n){return t.smaller(e,n)?e:n}function r(e){var n=null;if(i.deepForEach(e,function(e){(null===n||t.smaller(e,n))&&(n=e)}),null===n)throw new Error("Cannot calculate min of an empty array");return n}var i=(e("../../type/Matrix"),e("../../type/collection")),s=i.isCollection;t.min=function(e){if(0==arguments.length)throw new SyntaxError("Function min requires one or more parameters (0 provided)");if(s(e)){if(1==arguments.length)return r(e);if(2==arguments.length)return i.reduce(arguments[0],arguments[1],n);throw new SyntaxError("Wrong number of parameters")}return r(arguments)}}},{"../../type/Matrix":211,"../../type/collection":214}],189:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/collection"),o=n.number.isNumber,u=n["boolean"].isBoolean,a=i.isComplex,f=s.isCollection;t.acos=function l(e){if(1!=arguments.length)throw new t.error.ArgumentsError("acos",arguments.length,1);if(o(e))return e>=-1&&1>=e?Math.acos(e):l(new i(e,0));if(a(e)){var h,p=new i(e.im*e.im-e.re*e.re+1,-2*e.re*e.im),d=t.sqrt(p);h=d instanceof i?new i(d.re-e.im,d.im+e.re):new i(d-e.im,e.re);var v=t.log(h);return v instanceof i?new i(1.5707963267948966-v.im,v.re):new i(1.5707963267948966,v)}if(f(e))return s.deepMap(e,l);if(u(e))return Math.acos(e);if(e instanceof r)return l(n.number.toNumber(e));throw new t.error.UnsupportedTypeError("acos",e)}}},{"../../type/Complex":208,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],190:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/collection"),o=n.number.isNumber,u=n["boolean"].isBoolean,a=i.isComplex,f=s.isCollection;t.asin=function l(e){if(1!=arguments.length)throw new t.error.ArgumentsError("asin",arguments.length,1);if(o(e))return e>=-1&&1>=e?Math.asin(e):l(new i(e,0));if(a(e)){var h,p=e.re,d=e.im,v=new i(d*d-p*p+1,-2*p*d),m=t.sqrt(v);h=m instanceof i?new i(m.re-d,m.im+p):new i(m-d,p);var g=t.log(h);return g instanceof i?new i(g.im,-g.re):new i(0,-g)}if(f(e))return s.deepMap(e,l);if(u(e))return Math.asin(e);if(e instanceof r)return l(n.number.toNumber(e));throw new t.error.UnsupportedTypeError("asin",e)}}},{"../../type/Complex":208,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],191:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/collection"),o=n.number.isNumber,u=n["boolean"].isBoolean,a=i.isComplex,f=s.isCollection;t.atan=function l(e){if(1!=arguments.length)throw new t.error.ArgumentsError("atan",arguments.length,1);if(o(e))return Math.atan(e);if(a(e)){var h=e.re,p=e.im,d=h*h+(1-p)*(1-p),v=new i((1-p*p-h*h)/d,-2*h/d),m=t.log(v);return m instanceof i?new i(-0.5*m.im,.5*m.re):new i(0,.5*m)}if(f(e))return s.deepMap(e,l);if(u(e))return Math.atan(e);if(e instanceof r)return l(n.number.toNumber(e));throw new t.error.UnsupportedTypeError("atan",e)}}},{"../../type/Complex":208,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],192:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/collection"),o=n.number.toNumber,u=n.number.isNumber,a=n["boolean"].isBoolean,f=i.isComplex,l=s.isCollection;t.atan2=function c(e,n){if(2!=arguments.length)throw new t.error.ArgumentsError("atan2",arguments.length,2);if(u(e)){if(u(n))return Math.atan2(e,n)}else if(f(e)&&u(n))return Math.atan2(e.re,n);if(l(e)||l(n))return s.deepMap2(e,n,c);if(a(e))return c(+e,n);if(a(n))return c(e,+n);if(e instanceof r)return c(o(e),n);if(n instanceof r)return c(e,o(n));throw new t.error.UnsupportedTypeError("atan2",e,n)}}},{"../../type/Complex":208,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],193:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/Unit"),o=e("../../type/collection"),u=n.number.isNumber,a=n["boolean"].isBoolean,f=i.isComplex,l=s.isUnit,c=o.isCollection;t.cos=function h(e){if(1!=arguments.length)throw new t.error.ArgumentsError("cos",arguments.length,1);if(u(e))return Math.cos(e);if(f(e))return new i(.5*Math.cos(e.re)*(Math.exp(-e.im)+Math.exp(e.im)),.5*Math.sin(e.re)*(Math.exp(-e.im)-Math.exp(e.im)));if(l(e)){if(!e.hasBase(s.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return Math.cos(e.value)}if(c(e))return o.deepMap(e,h);if(a(e))return Math.cos(e);if(e instanceof r)return h(n.number.toNumber(e));throw new t.error.UnsupportedTypeError("cos",e)}}},{"../../type/Complex":208,"../../type/Unit":213,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],194:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/Unit"),o=e("../../type/collection"),u=n.number.isNumber,a=n["boolean"].isBoolean,f=i.isComplex,l=s.isUnit,c=o.isCollection;t.cot=function h(e){if(1!=arguments.length)throw new t.error.ArgumentsError("cot",arguments.length,1);if(u(e))return 1/Math.tan(e);if(f(e)){var p=Math.exp(-4*e.im)-2*Math.exp(-2*e.im)*Math.cos(2*e.re)+1;return new i(2*Math.exp(-2*e.im)*Math.sin(2*e.re)/p,(Math.exp(-4*e.im)-1)/p)}if(l(e)){if(!e.hasBase(s.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return 1/Math.tan(e.value)}if(c(e))return o.deepMap(e,h);if(a(e))return h(+e);if(e instanceof r)return h(n.number.toNumber(e));throw new t.error.UnsupportedTypeError("cot",e)}}},{"../../type/Complex":208,"../../type/Unit":213,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],195:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/Unit"),o=e("../../type/collection"),u=n.number.isNumber,a=n["boolean"].isBoolean,f=i.isComplex,l=s.isUnit,c=o.isCollection;t.csc=function h(e){if(1!=arguments.length)throw new t.error.ArgumentsError("csc",arguments.length,1);if(u(e))return 1/Math.sin(e);if(f(e)){var p=.25*(Math.exp(-2*e.im)+Math.exp(2*e.im))-.5*Math.cos(2*e.re);return new i(.5*Math.sin(e.re)*(Math.exp(-e.im)+Math.exp(e.im))/p,.5*Math.cos(e.re)*(Math.exp(-e.im)-Math.exp(e.im))/p)}if(l(e)){if(!e.hasBase(s.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return 1/Math.sin(e.value)}if(c(e))return o.deepMap(e,h);if(a(e))return h(+e);if(e instanceof r)return h(n.number.toNumber(e));throw new t.error.UnsupportedTypeError("csc",e)}}},{"../../type/Complex":208,"../../type/Unit":213,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],196:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/Unit"),o=e("../../type/collection"),u=n.number.isNumber,a=n["boolean"].isBoolean,f=i.isComplex,l=s.isUnit,c=o.isCollection;t.sec=function h(e){if(1!=arguments.length)throw new t.error.ArgumentsError("sec",arguments.length,1);if(u(e))return 1/Math.cos(e);if(f(e)){var p=.25*(Math.exp(-2*e.im)+Math.exp(2*e.im))+.5*Math.cos(2*e.re);return new i(.5*Math.cos(e.re)*(Math.exp(-e.im)+Math.exp(e.im))/p,.5*Math.sin(e.re)*(Math.exp(e.im)-Math.exp(-e.im))/p)}if(l(e)){if(!e.hasBase(s.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return 1/Math.cos(e.value)}if(c(e))return o.deepMap(e,h);if(a(e))return h(+e);if(e instanceof r)return h(n.number.toNumber(e));throw new t.error.UnsupportedTypeError("sec",e)}}},{"../../type/Complex":208,"../../type/Unit":213,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],197:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/Unit"),o=e("../../type/collection"),u=n.number.isNumber,a=n["boolean"].isBoolean,f=i.isComplex,l=s.isUnit,c=o.isCollection;t.sin=function h(e){if(1!=arguments.length)throw new t.error.ArgumentsError("sin",arguments.length,1);if(u(e))return Math.sin(e);if(f(e))return new i(.5*Math.sin(e.re)*(Math.exp(-e.im)+Math.exp(e.im)),.5*Math.cos(e.re)*(Math.exp(e.im)-Math.exp(-e.im)));if(l(e)){if(!e.hasBase(s.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return Math.sin(e.value)}if(c(e))return o.deepMap(e,h);if(a(e))return Math.sin(e);if(e instanceof r)return h(n.number.toNumber(e));throw new t.error.UnsupportedTypeError("sin",e)}}},{"../../type/Complex":208,"../../type/Unit":213,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],198:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/Unit"),o=e("../../type/collection"),u=n.number.isNumber,a=n["boolean"].isBoolean,f=i.isComplex,l=s.isUnit,c=o.isCollection;t.tan=function h(e){if(1!=arguments.length)throw new t.error.ArgumentsError("tan",arguments.length,1);if(u(e))return Math.tan(e);if(f(e)){var p=Math.exp(-4*e.im)+2*Math.exp(-2*e.im)*Math.cos(2*e.re)+1;return new i(2*Math.exp(-2*e.im)*Math.sin(2*e.re)/p,(1-Math.exp(-4*e.im))/p)}if(l(e)){if(!e.hasBase(s.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return Math.tan(e.value)}if(c(e))return o.deepMap(e,h);if(a(e))return Math.tan(e);if(e instanceof r)return h(n.number.toNumber(e));throw new t.error.UnsupportedTypeError("tan",e)}}},{"../../type/Complex":208,"../../type/Unit":213,"../../type/collection":214,"../../util/index":218,"bignumber.js":223}],199:[function(e,t){t.exports=function(t){var n=e("../../util/index"),r=e("../../type/Unit"),i=e("../../type/collection"),s=n.string.isString,o=r.isUnit,u=i.isCollection;t.to=function a(e,n){if(2!=arguments.length)throw new t.error.ArgumentsError("to",arguments.length,2);if(o(e)&&(o(n)||s(n)))return e.to(n);if(u(e)||u(n))return i.deepMap2(e,n,a);throw new t.error.UnsupportedTypeError("to",e,n)}}},{"../../type/Unit":213,"../../type/collection":214,"../../util/index":218}],200:[function(e,t){t.exports=function(t){var n=e("../../util/object");t.clone=function(e){if(1!=arguments.length)throw new t.error.ArgumentsError("clone",arguments.length,1);return n.clone(e)}}},{"../../util/object":220}],201:[function(e,t){t.exports=function(t){function n(e,t){var n=[],r=function(i,s){Array.isArray(i)?i.forEach(function(e,t){n[s]=t,r(e,s+1)}):t(i,n,e)};r(e,0)}var r=e("../../type/Matrix").isMatrix;t.forEach=function(e,i){if(2!=arguments.length)throw new t.error.ArgumentsError("forEach",arguments.length,2);if(Array.isArray(e))return n(e,i);if(r(e))return e.forEach(i);throw new t.error.UnsupportedTypeError("forEach",e)}}},{"../../type/Matrix":211}],202:[function(e,t){t.exports=function(t){var n=e("../../util/string");t.format=function(e,r){var i=arguments.length;if(1!==i&&2!==i)throw new t.error.ArgumentsError("format",i,1,2);return n.format(e,r)}}},{"../../util/string":221}],203:[function(e,t){t.exports=function(t){function n(e,n,r){(r.override||void 0===t[e])&&(t[e]=r.wrap&&"function"==typeof n?function(){for(var e=[],r=0,i=arguments.length;i>r;r++)e[r]=arguments[r].valueOf();return n.apply(t,e)}:n,t.chaining.Selector.createProxy(e,n))}function r(e){return"function"==typeof e||u(e)||a(e)||f(e)||l(e)}var i=e("../../util/index"),s=e("../../type/Complex"),o=e("../../type/Unit"),u=i.number.isNumber,a=i.string.isString,f=s.isComplex,l=o.isUnit;t["import"]=function c(s,o){var u,f={override:!1,wrap:!0};if(o&&o instanceof Object&&i.object.extend(f,o),a(s)){if("undefined"==typeof e)throw new Error("Cannot load file: require not available.");var l=e(s);c(l)}else if(r(s)){if(u=s.name,!u)throw new Error("Cannot import an unnamed function or object");(f.override||void 0===t[u])&&n(u,s,f)}else if(s instanceof Object)for(u in s)if(s.hasOwnProperty(u)){var h=s[u];r(h)?n(u,h,f):c(h)}}}},{"../../type/Complex":208,"../../type/Unit":213,"../../util/index":218}],204:[function(e,t){t.exports=function(t){function n(e,t){var n=[],r=function(i,s){return Array.isArray(i)?i.map(function(e,t){return n[s]=t,r(e,s+1)}):t(i,n,e)};return r(e,0)}var r=e("../../type/Matrix").isMatrix;t.map=function(e,i){if(2!=arguments.length)throw new t.error.ArgumentsError("map",arguments.length,2);if(Array.isArray(e))return n(e,i);if(r(e))return e.map(i);throw new t.error.UnsupportedTypeError("map",e)}}},{"../../type/Matrix":211}],205:[function(e,t){t.exports=function(t){var n=e("../../util/string"),r=n.isString;t.print=function(e,n,i){var s=arguments.length;if(2!=s&&3!=s)throw new t.error.ArgumentsError("print",s,2,3);if(!r(e))throw new TypeError("String expected as first parameter in function format");if(n instanceof Object)return e.replace(/\$([\w\.]+)/g,function(e,s){for(var o=s.split("."),u=n[o.shift()];o.length&&void 0!==u;){var a=o.shift();u=a?u[a]:u+"."}return void 0!==u?r(u)?u:t.format(u,i):e});throw new TypeError("Object expected as second parameter in function format")}}},{"../../util/string":221}],206:[function(e,t){t.exports=function(t){var n=e("../../util/types"),r=e("bignumber.js"),i=e("../../type/Complex"),s=e("../../type/Matrix"),o=e("../../type/Unit"),u=e("../../type/Index"),a=e("../../type/Range"),f=e("../../type/Help");t["typeof"]=function(e){if(1!=arguments.length)throw new t.error.ArgumentsError("typeof",arguments.length,1);var l=n.type(e);if("object"===l){if(e instanceof i)return"complex";if(e instanceof r)return"bignumber";if(e instanceof s)return"matrix";if(e instanceof o)return"unit";if(e instanceof u)return"index";if(e instanceof a)return"range";if(e instanceof f)return"matrix";if(e instanceof t.chaining.Selector)return"selector"}return l}}},{"../../type/Complex":208,"../../type/Help":209,"../../type/Index":210,"../../type/Matrix":211,"../../type/Range":212,"../../type/Unit":213,"../../util/types":222,"bignumber.js":223}],207:[function(e,t){function n(t){if("function"!=typeof Array.prototype.map)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim library for compatibility.");var n={},i={matrix:"matrix",number:"number"};return n.config=function(t){var n=e("bignumber.js");if(t){if(r.deepExtend(i,t),t.decimals&&n.config({DECIMAL_PLACES:t.decimals}),t.number&&t.number.defaultType)throw new Error("setting `number.defaultType` is deprecated. Use `number` instead.");if(t.number&&t.number.precision)throw new Error("setting `number.precision` is deprecated. Use `decimals` instead.");if(t.matrix&&t.matrix.defaultType)throw new Error("setting `matrix.defaultType` is deprecated. Use `matrix` instead.");if(t.matrix&&t.matrix["default"])throw new Error("setting `matrix.default` is deprecated. Use `matrix` instead.")}var s=r.clone(i);return s.decimals=n.config().DECIMAL_PLACES,s},n.config(t),n.expression={},n.expression.node=e("./expression/node/index.js"),n.expression.parse=e("./expression/parse.js"),n.expression.Scope=function(){throw new Error("Scope is deprecated. Use a regular Object instead")},n.expression.Parser=e("./expression/Parser.js"),n.expression.docs=e("./expression/docs/index.js"),n.type={},n.type.BigNumber=e("bignumber.js"),n.type.Complex=e("./type/Complex"),n.type.Range=e("./type/Range"),n.type.Index=e("./type/Index"),n.type.Matrix=e("./type/Matrix"),n.type.Unit=e("./type/Unit"),n.type.Help=e("./type/Help"),n.collection=e("./type/collection"),e("./type/error")(n),e("./function/expression/eval.js")(n,i),e("./function/expression/help.js")(n,i),e("./function/expression/parse.js")(n,i),e("./function/arithmetic/abs.js")(n,i),e("./function/arithmetic/add.js")(n,i),e("./function/arithmetic/ceil.js")(n,i),e("./function/arithmetic/cube.js")(n,i),e("./function/arithmetic/divide.js")(n,i),e("./function/arithmetic/edivide.js")(n,i),e("./function/arithmetic/emultiply.js")(n,i),e("./function/arithmetic/epow.js")(n,i),e("./function/arithmetic/equal.js")(n,i),e("./function/arithmetic/exp.js")(n,i),e("./function/arithmetic/fix.js")(n,i),e("./function/arithmetic/floor.js")(n,i),e("./function/arithmetic/gcd.js")(n,i),e("./function/arithmetic/larger.js")(n,i),e("./function/arithmetic/largereq.js")(n,i),e("./function/arithmetic/lcm.js")(n,i),e("./function/arithmetic/log.js")(n,i),e("./function/arithmetic/log10.js")(n,i),e("./function/arithmetic/mod.js")(n,i),e("./function/arithmetic/multiply.js")(n,i),e("./function/arithmetic/pow.js")(n,i),e("./function/arithmetic/round.js")(n,i),e("./function/arithmetic/sign.js")(n,i),e("./function/arithmetic/smaller.js")(n,i),e("./function/arithmetic/smallereq.js")(n,i),e("./function/arithmetic/sqrt.js")(n,i),e("./function/arithmetic/square.js")(n,i),e("./function/arithmetic/subtract.js")(n,i),e("./function/arithmetic/unary.js")(n,i),e("./function/arithmetic/unequal.js")(n,i),e("./function/arithmetic/xgcd.js")(n,i),e("./function/complex/arg.js")(n,i),e("./function/complex/conj.js")(n,i),e("./function/complex/re.js")(n,i),e("./function/complex/im.js")(n,i),e("./function/construction/bignumber")(n,i),e("./function/construction/boolean.js")(n,i),e("./function/construction/complex.js")(n,i),e("./function/construction/index.js")(n,i),e("./function/construction/matrix.js")(n,i),e("./function/construction/number.js")(n,i),e("./function/construction/parser.js")(n,i),e("./function/construction/select.js")(n,i),e("./function/construction/string.js")(n,i),e("./function/construction/unit.js")(n,i),e("./function/matrix/concat.js")(n,i),e("./function/matrix/det.js")(n,i),e("./function/matrix/diag.js")(n,i),e("./function/matrix/eye.js")(n,i),e("./function/matrix/inv.js")(n,i),e("./function/matrix/ones.js")(n,i),e("./function/matrix/range.js")(n,i),e("./function/matrix/resize.js")(n,i),e("./function/matrix/size.js")(n,i),e("./function/matrix/squeeze.js")(n,i),e("./function/matrix/subset.js")(n,i),e("./function/matrix/transpose.js")(n,i),e("./function/matrix/zeros.js")(n,i),e("./function/probability/factorial.js")(n,i),e("./function/probability/random.js")(n,i),e("./function/probability/permutations.js")(n,i),e("./function/probability/combinations.js")(n,i),e("./function/statistics/min.js")(n,i),e("./function/statistics/max.js")(n,i),e("./function/statistics/mean.js")(n,i),e("./function/trigonometry/acos.js")(n,i),e("./function/trigonometry/asin.js")(n,i),e("./function/trigonometry/atan.js")(n,i),e("./function/trigonometry/atan2.js")(n,i),e("./function/trigonometry/cos.js")(n,i),e("./function/trigonometry/cot.js")(n,i),e("./function/trigonometry/csc.js")(n,i),e("./function/trigonometry/sec.js")(n,i),e("./function/trigonometry/sin.js")(n,i),e("./function/trigonometry/tan.js")(n,i),e("./function/units/to.js")(n,i),e("./function/utils/clone.js")(n,i),e("./function/utils/format.js")(n,i),e("./function/utils/import.js")(n,i),e("./function/utils/map.js")(n,i),e("./function/utils/print.js")(n,i),e("./function/utils/typeof.js")(n,i),e("./function/utils/forEach.js")(n,i),e("./constants.js")(n,i),n.chaining={},n.chaining.Selector=e("./chaining/Selector.js")(n,i),n}var r=e("./util/object");t.exports=n},{"./chaining/Selector.js":2,"./constants.js":3,"./expression/Parser.js":4,"./expression/docs/index.js":104,"./expression/node/index.js":119,"./expression/parse.js":120,"./function/arithmetic/abs.js":121,"./function/arithmetic/add.js":122,"./function/arithmetic/ceil.js":123,"./function/arithmetic/cube.js":124,"./function/arithmetic/divide.js":125,"./function/arithmetic/edivide.js":126,"./function/arithmetic/emultiply.js":127,"./function/arithmetic/epow.js":128,"./function/arithmetic/equal.js":129,"./function/arithmetic/exp.js":130,"./function/arithmetic/fix.js":131,"./function/arithmetic/floor.js":132,"./function/arithmetic/gcd.js":133,"./function/arithmetic/larger.js":134,"./function/arithmetic/largereq.js":135,"./function/arithmetic/lcm.js":136,"./function/arithmetic/log.js":137,"./function/arithmetic/log10.js":138,"./function/arithmetic/mod.js":139,"./function/arithmetic/multiply.js":140,"./function/arithmetic/pow.js":141,"./function/arithmetic/round.js":142,"./function/arithmetic/sign.js":143,"./function/arithmetic/smaller.js":144,"./function/arithmetic/smallereq.js":145,"./function/arithmetic/sqrt.js":146,"./function/arithmetic/square.js":147,"./function/arithmetic/subtract.js":148,"./function/arithmetic/unary.js":149,"./function/arithmetic/unequal.js":150,"./function/arithmetic/xgcd.js":151,"./function/complex/arg.js":152,"./function/complex/conj.js":153,"./function/complex/im.js":154,"./function/complex/re.js":155,"./function/construction/bignumber":156,"./function/construction/boolean.js":157,"./function/construction/complex.js":158,"./function/construction/index.js":159,"./function/construction/matrix.js":160,"./function/construction/number.js":161,"./function/construction/parser.js":162,"./function/construction/select.js":163,"./function/construction/string.js":164,"./function/construction/unit.js":165,"./function/expression/eval.js":166,"./function/expression/help.js":167,"./function/expression/parse.js":168,"./function/matrix/concat.js":169,"./function/matrix/det.js":170,"./function/matrix/diag.js":171,"./function/matrix/eye.js":172,"./function/matrix/inv.js":173,"./function/matrix/ones.js":174,"./function/matrix/range.js":175,"./function/matrix/resize.js":176,"./function/matrix/size.js":177,"./function/matrix/squeeze.js":178,"./function/matrix/subset.js":179,"./function/matrix/transpose.js":180,"./function/matrix/zeros.js":181,"./function/probability/combinations.js":182,"./function/probability/factorial.js":183,"./function/probability/permutations.js":184,"./function/probability/random.js":185,"./function/statistics/max.js":186,"./function/statistics/mean.js":187,"./function/statistics/min.js":188,"./function/trigonometry/acos.js":189,"./function/trigonometry/asin.js":190,"./function/trigonometry/atan.js":191,"./function/trigonometry/atan2.js":192,"./function/trigonometry/cos.js":193,"./function/trigonometry/cot.js":194,"./function/trigonometry/csc.js":195,"./function/trigonometry/sec.js":196,"./function/trigonometry/sin.js":197,"./function/trigonometry/tan.js":198,"./function/units/to.js":199,"./function/utils/clone.js":200,"./function/utils/forEach.js":201,"./function/utils/format.js":202,"./function/utils/import.js":203,"./function/utils/map.js":204,"./function/utils/print.js":205,"./function/utils/typeof.js":206,"./type/Complex":208,"./type/Help":209,"./type/Index":210,"./type/Matrix":211,"./type/Range":212,"./type/Unit":213,"./type/collection":214,"./type/error":215,"./util/object":220,"bignumber.js":223}],208:[function(e,t,n){function r(e,t){if(!(this instanceof r))throw new SyntaxError("Complex constructor must be called with the new operator");switch(arguments.length){case 0:this.re=0,this.im=0;break;case 2:if(!p(e)||!p(t))throw new TypeError("Two numbers expected in Complex constructor");this.re=e,this.im=t;break;default:if(0!=arguments.length&&2!=arguments.length)throw new SyntaxError("Two or zero arguments expected in Complex constructor")}}function i(){for(;" "==g||" "==g;)u()}function s(e){return e>="0"&&"9">=e||"."==e}function o(e){return e>="0"&&"9">=e}function u(){m++,g=v.charAt(m)}function a(e){m=e,g=v.charAt(m)}function f(){var e,t="";if(e=m,"+"==g?u():"-"==g&&(t+=g,u()),!s(g))return a(e),null;if("."==g){if(t+=g,u(),!o(g))return a(e),null}else{for(;o(g);)t+=g,u();"."==g&&(t+=g,u())}for(;o(g);)t+=g,u();if("E"==g||"e"==g){if(t+=g,u(),("+"==g||"-"==g)&&(t+=g,u()),!o(g))return a(e),null;for(;o(g);)t+=g,u()}return t}function l(){var e=v.charAt(m+1);if("I"==g||"i"==g)return u(),"1";if("+"!=g&&"-"!=g||"I"!=e&&"i"!=e)return null;var t="+"==g?"1":"-1";return u(),u(),t}var c=e("../util/index"),h=c.number,p=c.number.isNumber,d=c.string.isString;r.isComplex=function(e){return e instanceof r};var v,m,g;r.parse=function(e){if(v=e,m=-1,g="",!d(v))return null;u(),i();var t=f();if(t){if("I"==g||"i"==g)return u(),i(),g?null:new r(0,Number(t));i();var n=g;if("+"!=n&&"-"!=n)return i(),g?null:new r(Number(t),0);u(),i();var s=f();if(s){if("I"!=g&&"i"!=g)return null;u()}else if(s=l(),!s)return null;return"-"==n&&(s="-"==s[0]?"+"+s.substring(1):"-"+s),u(),i(),g?null:new r(Number(t),Number(s))}return(t=l())?(i(),g?null:new r(0,Number(t))):null},r.prototype.clone=function(){return new r(this.re,this.im)},r.prototype.equals=function(e){return this.re===e.re&&this.im===e.im},r.prototype.format=function(e){var t="",n=h.format(this.re,e),r=h.format(this.im,e);return t=0==this.im?n:0==this.re?1==this.im?"i":-1==this.im?"-i":r+"i":this.im>0?1==this.im?n+" + i":n+" + "+r+"i":-1==this.im?n+" - i":n+" - "+r.substring(1)+"i"},r.prototype.toString=function(){return this.format()},t.exports=r,n.isComplex=r.isComplex,n.parse=r.parse},{"../util/index":218}],209:[function(e,t,n){function r(e,t){this.math=e,this.doc=t}var i=e("../util/index"),s=i.object,o=i.string;r.isHelp=function(e){return e instanceof r},r.prototype.toString=function(){var e=this.doc||{},t="\n";if(e.name&&(t+="Name: "+e.name+"\n\n"),e.category&&(t+="Category: "+e.category+"\n\n"),e.description&&(t+="Description:\n    "+e.description+"\n\n"),e.syntax&&(t+="Syntax:\n    "+e.syntax.join("\n    ")+"\n\n"),e.examples){var n=this.math.parser();t+="Examples:\n";for(var i=0;i<e.examples.length;i++){var s,u=e.examples[i];try{s=n.eval(u)}catch(f){s=f}t+="    "+u+"\n",!s||s instanceof r||(t+="        "+o.format(s)+"\n")}t+="\n"}return e.seealso&&(t+="See also: "+e.seealso.join(", ")+"\n"),t},r.prototype.toJSON=function(){return s.extend({},this.doc)},t.exports=r,n.isHelp=r.isHelp},{"../util/index":218}],210:[function(e,t,n){function r(){if(!(this instanceof r))throw new SyntaxError("Index constructor must be called with the new operator");this._ranges=[];for(var e=0,t=arguments.length;t>e;e++){var n=arguments[e];if(n instanceof o)this._ranges.push(n);else if(n&&(n=n.valueOf()),l(n))this._ranges.push(i(n));else{if(!a(n))throw new TypeError("Range expected as Array, Number, or String");this._ranges.push(i([n,n+1]))}}}function i(e){for(var t=e.length,n=0;t>n;n++)if(!a(e[n])||!f(e[n]))throw new TypeError("Index parameters must be integer numbers");switch(e.length){case 2:return new o(e[0],e[1]);case 3:return new o(e[0],e[1],e[2]);default:throw new SyntaxError("Wrong number of arguments in Index (2 or 3 expected)")}}var s=e("../util/index"),o=e("./Range"),u=s.number,a=u.isNumber,f=u.isInteger,l=Array.isArray;s.array.validateIndex,r.prototype.clone=function(){var e=new r;return e._ranges=s.object.clone(this._ranges),e},r.isIndex=function(e){return e instanceof r},r.create=function(e){var t=new r;return r.apply(t,e),t},r.prototype.size=function c(){for(var c=[],e=0,t=this._ranges.length;t>e;e++){var n=this._ranges[e];c[e]=n.size()[0]}return c},r.prototype.max=function(){for(var e=[],t=0,n=this._ranges.length;n>t;t++){var r=this._ranges[t];e[t]=r.max()}return e},r.prototype.min=function(){for(var e=[],t=0,n=this._ranges.length;n>t;t++){var r=this._ranges[t];e[t]=r.min()}return e},r.prototype.forEach=function(e){for(var t=0,n=this._ranges.length;n>t;t++)e(this._ranges[t],t,this)},r.prototype.range=function(e){return this._ranges[e]},r.prototype.isScalar=function(){for(var e=this.size(),t=0,n=e.length;n>t;t++)if(1!==e[t])return!1;return!0},r.prototype.toArray=function(){for(var e=[],t=0,n=this._ranges.length;n>t;t++){var r=this._ranges[t],i=[],s=r.start,o=r.end,u=r.step;if(u>0)for(;o>s;)i.push(s),s+=u;else if(0>u)for(;s>o;)i.push(s),s+=u;e.push(i)}return e},r.prototype.valueOf=r.prototype.toArray,r.prototype.toString=function(){for(var e=[],t=0,n=this._ranges.length;n>t;t++){var r=this._ranges[t],i=u.format(r.start);1!=r.step&&(i+=":"+u.format(r.step)),i+=":"+u.format(r.end),e.push(i)}return"["+e.join(",")+"]"},t.exports=r,n.isIndex=r.isIndex,n.create=r.create},{"../util/index":218,"./Range":212}],211:[function(e,t,n){function r(e){if(!(this instanceof r))throw new SyntaxError("Matrix constructor must be called with the new operator");if(e instanceof r)this._data=e.clone()._data;else if(v(e))this._data=f(e);else{if(null!=e)throw new TypeError("Unsupported type of data ("+l.types.type(e)+")");this._data=[]}this._size=p.size(this._data)}function i(e,t){if(t instanceof c){var n=t.isScalar();if(n)return e.get(t.min());var i=t.size();if(i.length!=e._size.length)throw new RangeError("Dimension mismatch ("+i.length+" != "+e._size.length+")");for(var o=new r(s(e._data,t,i.length,0));v(o._data)&&1==o._data.length;)o._data=o._data[0],o._size.shift();return o}throw new TypeError("Invalid index")}function s(e,t,n,r){var i=r==n-1,o=t.range(r);return o.map(i?function(t){return m(t,e.length),e[t]}:function(i){m(i,e.length);var o=e[i];return s(o,t,n,r+1)})}function o(e,t,n,i){if(t instanceof c){var s,o=t.size(),f=t.isScalar();if(n instanceof r?(s=n.size(),n=n.valueOf()):s=p.size(n),f){if(0!=s.length)throw new TypeError("Scalar value expected");e.set(t.min(),n,i)}else{if(o.length<e._size.length)throw new RangeError("Dimension mismatch ("+o.length+" < "+e._size.length+")");for(var l=0,v=o.length-s.length;v>l;l++)n=[n],s.unshift(1);if(!d.deepEqual(o,s))throw new RangeError("Dimensions mismatch ("+h.format(o)+" != "+h.format(s)+")");var m=t.max().map(function(e){return e+1});a(e,m,i);var g=o.length,y=0;u(e._data,t,n,g,y)}return e}throw new TypeError("Invalid index")}function u(e,t,n,r,i){var s=i==r-1,o=t.range(i);o.forEach(s?function(t,r){m(t),e[t]=n[r]}:function(s,o){m(s),u(e[s],t,n[o],r,i+1)})}function a(e,t,n){if(!v(t))throw new Error("Array expected");for(var r=d.clone(e._size),i=!1;r.length<t.length;)r.unshift(0),i=!0;for(var s=0,o=t.length;o>s;s++)t[s]>r[s]&&(r[s]=t[s],i=!0);i&&e.resize(r,n)}function f(e){for(var t=0,n=e.length;n>t;t++){var i=e[t];v(i)?e[t]=f(i):i instanceof r&&(e[t]=f(i._data))}return e}var l=e("../util/index"),c=e("./Index"),h=(l.number,l.string),p=l.array,d=l.object,v=Array.isArray,m=p.validateIndex;r.isMatrix=function(e){return e instanceof r},r.prototype.subset=function(e,t,n){switch(arguments.length){case 1:return i(this,e);case 2:case 3:return o(this,e,t,n);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(e){if(!v(e))throw new Error("Array expected");if(e.length!=this._size.length)throw new RangeError("Dimension mismatch ("+e.length+" != "+this._size.length+")");for(var t=this._data,n=0,r=e.length;r>n;n++){var i=e[n];m(i,t.length),t=t[i]}return d.clone(t)},r.prototype.set=function(e,t,n){var r,i;if(!v(e))throw new Error("Array expected");if(e.length<this._size.length)throw new RangeError("Dimension mismatch ("+e.length+" < "+this._size.length+")");var s=e.map(function(e){return e+1});a(this,s,n);var o=this._data;for(r=0,i=e.length-1;i>r;r++){var u=e[r];m(u,o.length),o=o[u]}return u=e[e.length-1],m(u,o.length),o[u]=t,this},r.prototype.resize=function(e,t){return this._size=d.clone(e),this._data=p.resize(this._data,this._size,t),this},r.prototype.clone=function(){var e=new r;return e._data=d.clone(this._data),e._size=d.clone(this._size),e},r.prototype.size=function(){return this._size},r.prototype.map=function(e){var t=this,n=new r,i=[],s=function(n,r){return v(n)?n.map(function(e,t){return i[r]=t,s(e,r+1)}):e(n,i,t)};return n._data=s(this._data,0),n._size=d.clone(this._size),n},r.prototype.forEach=function(e){var t=this,n=[],r=function(i,s){v(i)?i.forEach(function(e,t){n[s]=t,r(e,s+1)}):e(i,n,t)};r(this._data,0)},r.prototype.toArray=function(){return d.clone(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(e){return h.format(this._data,e)},r.prototype.toString=function(){return h.format(this._data)},t.exports=r,n.isMatrix=r.isMatrix},{"../util/index":218,"./Index":210}],212:[function(e,t,n){function r(e,t,n){if(!(this instanceof r))throw new SyntaxError("Range constructor must be called with the new operator");if(null!=e&&!s.isNumber(e))throw new TypeError("Parameter start must be a number");if(null!=t&&!s.isNumber(t))throw new TypeError("Parameter end must be a number");if(null!=n&&!s.isNumber(n))throw new TypeError("Parameter step must be a number");this.start=null!=e?parseFloat(e):0,this.end=null!=t?parseFloat(t):0,this.step=null!=n?parseFloat(n):1}var i=e("../util/index"),s=i.number,o=i.string;i.array,r.parse=function(e){if(!o.isString(e))return null;var t=e.split(":"),n=t.map(function(e){return parseFloat(e)}),i=n.some(function(e){return isNaN(e)});if(i)return null;switch(n.length){case 2:return new r(n[0],n[1]);case 3:return new r(n[0],n[2],n[1]);default:return null}},r.prototype.clone=function(){return new r(this.start,this.end,this.step)},r.isRange=function(e){return e instanceof r},r.prototype.size=function(){var e=0,t=this.start,n=this.step,r=this.end,i=r-t;return s.sign(n)==s.sign(i)?e=Math.ceil(i/n):0==i&&(e=0),isNaN(e)&&(e=0),[e]},r.prototype.min=function(){var e=this.size()[0];return e>0?this.step>0?this.start:this.start+(e-1)*this.step:void 0},r.prototype.max=function(){var e=this.size()[0];return e>0?this.step>0?this.start+(e-1)*this.step:this.start:void 0},r.prototype.forEach=function(e){var t=this.start,n=this.step,r=this.end,i=0;if(n>0)for(;r>t;)e(t,i,this),t+=n,i++;else if(0>n)for(;t>r;)e(t,i,this),t+=n,i++},r.prototype.map=function(e){var t=[];return this.forEach(function(n,r,i){t[r]=e(n,r,i)}),t},r.prototype.toArray=function(){var e=[];return this.forEach(function(t,n){e[n]=t}),e},r.prototype.valueOf=function(){return this.toArray()},r.prototype.format=function(e){var t=s.format(this.start,e);return 1!=this.step&&(t+=":"+s.format(this.step,e)),t+=":"+s.format(this.end,e)},r.prototype.toString=function(){return this.format()},t.exports=r,n.isRange=r.isRange,n.parse=r.parse},{"../util/index":218}],213:[function(e,t,n){function r(e,t){if(!(this instanceof r))throw new Error("Unit constructor must be called with the new operator");if(null!=e&&!y(e))throw new TypeError("First parameter in Unit constructor must be a number");if(null!=t&&!b(t))throw new TypeError("Second parameter in Unit constructor must be a string");if(null!=t){var n=c(t);if(!n)throw new SyntaxError('Unknown unit "'+t+'"');this.unit=n.unit,this.prefix=n.prefix}else this.unit=UNIT_NONE,this.prefix=E;null!=e?(this.value=this._normalize(e),this.fixPrefix=!1):(this.value=null,this.fixPrefix=!0)}function i(){for(;" "==d||" "==d;)u()}function s(e){return e>="0"&&"9">=e||"."==e}function o(e){return e>="0"&&"9">=e}function u(){p++,d=h.charAt(p)}function a(e){p=e,d=h.charAt(p)}function f(){var e,t="";if(e=p,"+"==d?u():"-"==d&&(t+=d,u()),!s(d))return a(e),null;if("."==d){if(t+=d,u(),!o(d))return a(e),null}else{for(;o(d);)t+=d,u();"."==d&&(t+=d,u())}for(;o(d);)t+=d,u();if("E"==d||"e"==d){if(t+=d,u(),("+"==d||"-"==d)&&(t+=d,u()),!o(d))return a(e),null;for(;o(d);)t+=d,u()}return t}function l(){var e="";for(i();d&&" "!=d&&"   "!=d;)e+=d,u();return e||null}function c(e){for(var t in x)if(x.hasOwnProperty(t)&&g.endsWith(e,t)){var n=x[t],r=e.length-t.length,i=e.substring(0,r),s=n.prefixes[i];if(void 0!==s)return{unit:n,prefix:s}}return null}var h,p,d,v=e("../util/index"),m=v.number,g=v.string,y=v.number.isNumber,b=v.string.isString;r.parse=function(e){if(h=e,p=-1,d="",!b(h))return null;u(),i();var t,n=f();return n?(t=l(),u(),i(),d?null:n&&t?new r(Number(n),t):null):(t=l(),u(),i(),d?null:new r(null,t))},r.isUnit=function(e){return e instanceof r},r.prototype.clone=function(){var e=new r;for(var t in this)this.hasOwnProperty(t)&&(e[t]=this[t]);return e},r.prototype._normalize=function(e){return(e+this.unit.offset)*this.unit.value*this.prefix.value},r.prototype._unnormalize=function(e,t){return void 0==t?e/this.unit.value/this.prefix.value-this.unit.offset:e/this.unit.value/t-this.unit.offset},r.isPlainUnit=function(e){return null!=c(e)},r.prototype.hasBase=function(e){return void 0===this.unit.base?void 0===e:this.unit.base===e},r.prototype.equalBase=function(e){return this.unit.base===e.unit.base},r.prototype.equals=function(e){return this.equalBase(e)&&this.value==e.value},r.prototype.to=function(e){var t;if(b(e)){if(t=new r(null,e),!this.equalBase(t))throw new Error("Units do not match");return t.value=this.value,t}if(e instanceof r){if(!this.equalBase(e))throw new Error("Units do not match");if(null!=e.value)throw new Error("Cannot convert to a unit with a value");if(null==e.unit)throw new Error("Unit expected on the right hand side of function in");return t=e.clone(),t.value=this.value,t.fixPrefix=!0,t}throw new Error("String or Unit expected as parameter")},r.prototype.toNumber=function(e){var t=this.to(e),n=this.fixPrefix?t._bestPrefix():t.prefix;return t._unnormalize(t.value,n.value)},r.prototype.toString=function(){return this.format()},r.prototype.format=function(e){var t,n;if(this.fixPrefix)t=this._unnormalize(this.value),n=null!=this.value?m.format(t,e)+" ":"",n+=this.prefix.name+this.unit.name;else{var r=this._bestPrefix();t=this._unnormalize(this.value,r.value),n=null!=this.value?m.format(t,e)+" ":"",n+=r.name+this.unit.name}return n},r.prototype._bestPrefix=function(){var e=Math.abs(this.value/this.unit.value),t=E,n=Math.abs(Math.log(e/t.value)/Math.LN10-1.2),r=this.unit.prefixes;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];if(s.scientific){var o=Math.abs(Math.log(e/s.value)/Math.LN10-1.2);n>o&&(t=s,n=o)}}return t};var w={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-42,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1024,scientific:!0},M:{name:"M",value:Math.pow(1024,2),scientific:!0},G:{name:"G",value:Math.pow(1024,3),scientific:!0},T:{name:"T",value:Math.pow(1024,4),scientific:!0},P:{name:"P",value:Math.pow(1024,5),scientific:!0},E:{name:"E",value:Math.pow(1024,6),scientific:!0},Z:{name:"Z",value:Math.pow(1024,7),scientific:!0},Y:{name:"Y",value:Math.pow(1024,8),scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1024,scientific:!0},mega:{name:"mega",value:Math.pow(1024,2),scientific:!0},giga:{name:"giga",value:Math.pow(1024,3),scientific:!0},tera:{name:"tera",value:Math.pow(1024,4),scientific:!0},peta:{name:"peta",value:Math.pow(1024,5),scientific:!0},exa:{name:"exa",value:Math.pow(1024,6),scientific:!0},zetta:{name:"zetta",value:Math.pow(1024,7),scientific:!0},yotta:{name:"yotta",value:Math.pow(1024,8),scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}}},E={name:"",value:1,scientific:!0},S={NONE:{},LENGTH:{},MASS:{},TIME:{},CURRENT:{},TEMPERATURE:{},LUMINOUS_INTENSITY:{},AMOUNT_OF_SUBSTANCE:{},FORCE:{},SURFACE:{},VOLUME:{},ANGLE:{},BIT:{}};BASE_UNIT_NONE={},UNIT_NONE={name:"",base:BASE_UNIT_NONE,value:1,offset:0};var x={meter:{name:"meter",base:S.LENGTH,prefixes:w.LONG,value:1,offset:0},inch:{name:"inch",base:S.LENGTH,prefixes:w.NONE,value:.0254,offset:0},foot:{name:"foot",base:S.LENGTH,prefixes:w.NONE,value:.3048,offset:0},yard:{name:"yard",base:S.LENGTH,prefixes:w.NONE,value:.9144,offset:0},mile:{name:"mile",base:S.LENGTH,prefixes:w.NONE,value:1609.344,offset:0},link:{name:"link",base:S.LENGTH,prefixes:w.NONE,value:.201168,offset:0},rod:{name:"rod",base:S.LENGTH,prefixes:w.NONE,value:5.02921,offset:0},chain:{name:"chain",base:S.LENGTH,prefixes:w.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:S.LENGTH,prefixes:w.NONE,value:1e-10,offset:0},m:{name:"m",base:S.LENGTH,prefixes:w.SHORT,value:1,offset:0},"in":{name:"in",base:S.LENGTH,prefixes:w.NONE,value:.0254,offset:0},ft:{name:"ft",base:S.LENGTH,prefixes:w.NONE,value:.3048,offset:0},yd:{name:"yd",base:S.LENGTH,prefixes:w.NONE,value:.9144,offset:0},mi:{name:"mi",base:S.LENGTH,prefixes:w.NONE,value:1609.344,offset:0},li:{name:"li",base:S.LENGTH,prefixes:w.NONE,value:.201168,offset:0},rd:{name:"rd",base:S.LENGTH,prefixes:w.NONE,value:5.02921,offset:0},ch:{name:"ch",base:S.LENGTH,prefixes:w.NONE,value:20.1168,offset:0},mil:{name:"mil",base:S.LENGTH,prefixes:w.NONE,value:254e-7,offset:0},m2:{name:"m2",base:S.SURFACE,prefixes:w.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:S.SURFACE,prefixes:w.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:S.SURFACE,prefixes:w.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:S.SURFACE,prefixes:w.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:S.SURFACE,prefixes:w.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:S.SURFACE,prefixes:w.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:S.SURFACE,prefixes:w.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:S.SURFACE,prefixes:w.NONE,value:6.4516e-10,offset:0},m3:{name:"m3",base:S.VOLUME,prefixes:w.CUBIC,value:1,offset:0},L:{name:"L",base:S.VOLUME,prefixes:w.SHORT,value:.001,offset:0},l:{name:"l",base:S.VOLUME,prefixes:w.SHORT,value:.001,offset:0},litre:{name:"litre",base:S.VOLUME,prefixes:w.LONG,value:.001,offset:0},cuin:{name:"cuin",base:S.VOLUME,prefixes:w.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:S.VOLUME,prefixes:w.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:S.VOLUME,prefixes:w.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:S.VOLUME,prefixes:w.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:S.VOLUME,prefixes:w.NONE,value:15e-6,offset:0},minim:{name:"minim",base:S.VOLUME,prefixes:w.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:S.VOLUME,prefixes:w.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:S.VOLUME,prefixes:w.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:S.VOLUME,prefixes:w.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:S.VOLUME,prefixes:w.NONE,value:1e-6,offset:0},cup:{name:"cup",base:S.VOLUME,prefixes:w.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:S.VOLUME,prefixes:w.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:S.VOLUME,prefixes:w.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:S.VOLUME,prefixes:w.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:S.VOLUME,prefixes:w.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:S.VOLUME,prefixes:w.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:S.VOLUME,prefixes:w.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:S.VOLUME,prefixes:w.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:S.VOLUME,prefixes:w.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:S.VOLUME,prefixes:w.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:S.VOLUME,prefixes:w.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:S.VOLUME,prefixes:w.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:S.VOLUME,prefixes:w.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:S.VOLUME,prefixes:w.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:S.VOLUME,prefixes:w.NONE,value:.1173478,offset:0},obl:{name:"obl",base:S.VOLUME,prefixes:w.NONE,value:.1589873,offset:0},g:{name:"g",base:S.MASS,prefixes:w.SHORT,value:.001,offset:0},gram:{name:"gram",base:S.MASS,prefixes:w.LONG,value:.001,offset:0},ton:{name:"ton",base:S.MASS,prefixes:w.SHORT,value:907.18474,offset:0},tonne:{name:"tonne",base:S.MASS,prefixes:w.SHORT,value:1e3,offset:0},grain:{name:"grain",base:S.MASS,prefixes:w.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:S.MASS,prefixes:w.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:S.MASS,prefixes:w.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:S.MASS,prefixes:w.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:S.MASS,prefixes:w.NONE,value:45.359237,offset:0},stick:{name:"stick",base:S.MASS,prefixes:w.NONE,value:.115,offset:0},gr:{name:"gr",base:S.MASS,prefixes:w.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:S.MASS,prefixes:w.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:S.MASS,prefixes:w.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:S.MASS,prefixes:w.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:S.MASS,prefixes:w.NONE,value:45.359237,offset:0},s:{name:"s",base:S.TIME,prefixes:w.SHORT,value:1,offset:0},min:{name:"min",base:S.TIME,prefixes:w.NONE,value:60,offset:0},h:{name:"h",base:S.TIME,prefixes:w.NONE,value:3600,offset:0},second:{name:"second",base:S.TIME,prefixes:w.LONG,value:1,offset:0},sec:{name:"sec",base:S.TIME,prefixes:w.LONG,value:1,offset:0},minute:{name:"minute",base:S.TIME,prefixes:w.NONE,value:60,offset:0},hour:{name:"hour",base:S.TIME,prefixes:w.NONE,value:3600,offset:0},day:{name:"day",base:S.TIME,prefixes:w.NONE,value:86400,offset:0},rad:{name:"rad",base:S.ANGLE,prefixes:w.NONE,value:1,offset:0},deg:{name:"deg",base:S.ANGLE,prefixes:w.NONE,value:.017453292519943295,offset:0},grad:{name:"grad",base:S.ANGLE,prefixes:w.NONE,value:.015707963267948967,offset:0},cycle:{name:"cycle",base:S.ANGLE,prefixes:w.NONE,value:6.283185307179586,offset:0},A:{name:"A",base:S.CURRENT,prefixes:w.SHORT,value:1,offset:0},ampere:{name:"ampere",base:S.CURRENT,prefixes:w.LONG,value:1,offset:0},K:{name:"K",base:S.TEMPERATURE,prefixes:w.NONE,value:1,offset:0},degC:{name:"degC",base:S.TEMPERATURE,prefixes:w.NONE,value:1,offset:273.15},degF:{name:"degF",base:S.TEMPERATURE,prefixes:w.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:S.TEMPERATURE,prefixes:w.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:S.TEMPERATURE,prefixes:w.NONE,value:1,offset:0},celsius:{name:"celsius",base:S.TEMPERATURE,prefixes:w.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:S.TEMPERATURE,prefixes:w.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:S.TEMPERATURE,prefixes:w.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:S.AMOUNT_OF_SUBSTANCE,prefixes:w.NONE,value:1,offset:0},mole:{name:"mole",base:S.AMOUNT_OF_SUBSTANCE,prefixes:w.NONE,value:1,offset:0},cd:{name:"cd",base:S.LUMINOUS_INTENSITY,prefixes:w.NONE,value:1,offset:0},candela:{name:"candela",base:S.LUMINOUS_INTENSITY,prefixes:w.NONE,value:1,offset:0},N:{name:"N",base:S.FORCE,prefixes:w.SHORT,value:1,offset:0},newton:{name:"newton",base:S.FORCE,prefixes:w.LONG,value:1,offset:0},lbf:{name:"lbf",base:S.FORCE,prefixes:w.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:S.FORCE,prefixes:w.NONE,value:4.4482216152605,offset:0},b:{name:"b",base:S.BIT,prefixes:w.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:S.BIT,prefixes:w.BINARY_LONG,value:1,offset:0},B:{name:"B",base:S.BIT,prefixes:w.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:S.BIT,prefixes:w.BINARY_LONG,value:8,offset:0}},T={meters:"meter",inches:"inch",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",litres:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",seconds:"second",minutes:"minute",hours:"hour",days:"day",radians:"rad",degrees:"deg",gradients:"grad",cycles:"cycle",amperes:"ampere",moles:"mole"};for(var N in T)if(T.hasOwnProperty(N)){var C=x[T[N]],k=Object.create(C);k.name=N,x[N]=k}x.lt=x.l,x.liter=x.litre,x.liters=x.litres,x.lb=x.lbm,r.PREFIXES=w,r.BASE_UNITS=S,r.UNITS=x,t.exports=r,n.isUnit=r.isUnit,n.isPlainUnit=r.isPlainUnit,n.parse=r.parse},{"../util/index":218}],214:[function(e,t,n){function r(e,t,n){var s,o,a,f;if(0>=t){if(u(e[0])){for(f=i(e),o=[],s=0;s<f.length;s++)o[s]=r(f[s],t-1,n);return o}for(a=e[0],s=1;s<e.length;s++)a=n(a,e[s]);return a}for(o=[],s=0;s<e.length;s++)o[s]=r(e[s],t-1,n);return o}function i(e){var t,n,r=e.length,i=e[0].length,s=[];for(n=0;i>n;n++){var o=[];for(t=0;r>t;t++)o.push(e[t][n]);s.push(o)}return s}var s=e("../util/index"),o=e("./Matrix"),u=s.array.isArray;s.string.isString,n.argsToArray=function(e){var t;return 0==e.length?t=[]:1==e.length?(t=e[0],t instanceof o&&(t=t.valueOf()),u(t)||(t=[t])):t=Array.prototype.slice.apply(e),t},n.isCollection=function(e){return u(e)||e instanceof o},n.deepMap=function a(e,t){return e&&"function"==typeof e.map?e.map(function(e){return a(e,t)}):t(e)},n.deepMap2=function f(e,t,n){var r,i,s;if(u(e))if(u(t)){if(e.length!=t.length)throw new RangeError("Dimension mismatch ("+e.length+" != "+t.length+")");for(r=[],i=e.length,s=0;i>s;s++)r[s]=f(e[s],t[s],n)}else{if(t instanceof o)return r=f(e,t.valueOf(),n),new o(r);for(r=[],i=e.length,s=0;i>s;s++)r[s]=f(e[s],t,n)}else{if(e instanceof o)return t instanceof o?(r=f(e.valueOf(),t.valueOf(),n),new o(r)):(r=f(e.valueOf(),t,n),new o(r));if(u(t))for(r=[],i=t.length,s=0;i>s;s++)r[s]=f(e,t[s],n);else{if(t instanceof o)return r=f(e,t.valueOf(),n),new o(r);r=n(e,t)}}return r},n.reduce=function(e,t,n){return e instanceof o?new o(r(e.valueOf(),t,n)):r(e,t,n)},n.deepForEach=function l(e,t){e instanceof o&&(e=e.valueOf());for(var n=0,r=e.length;r>n;n++){var i=e[n];u(i)?l(i,t):t(i)}}},{"../util/index":218,"./Matrix":211}],215:[function(e,t){t.exports=function(t){var n=(e("./../util/types"),{});t.error=n,n.UnsupportedTypeError=function(e,n){if(2==arguments.length){var r=t["typeof"](n);this.message="Function "+e+"("+r+") not supported"}else if(arguments.length>2){var i=Array.prototype.splice.call(arguments,1),s=i.map(function(e){return t["typeof"](e)});this.message="Function "+e+"("+s.join(", ")+") not supported"}else this.message="Unsupported type of argument in function "+e},n.UnsupportedTypeError.prototype=new TypeError,n.UnsupportedTypeError.prototype.name="UnsupportedTypeError",n.ArgumentsError=function(e,t,n,r){this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+n+(void 0!=r?"-"+r:"")+" expected)"},n.ArgumentsError.prototype=new SyntaxError,n.ArgumentsError.prototype.name="ArgumentError"}},{"./../util/types":222}],216:[function(e,t,n){function r(e){for(var t=[];f(e);)t.push(e.length),e=e[0];return t}function i(e,t,n){var r,s=e.length;if(s!=t[n])throw new RangeError("Dimension mismatch ("+s+" != "+t[n]+")");if(n<t.length-1){var o=n+1;for(r=0;s>r;r++){var u=e[r];if(!f(u))throw new RangeError("Dimension mismatch ("+(t.length-1)+" < "+t.length+")");i(e[r],t,o)}}else for(r=0;s>r;r++)if(f(e[r]))throw new RangeError("Dimension mismatch ("+(t.length+1)+" > "+t.length+")")}function s(e,t,n,r){if(!f(e))throw Error("Array expected");var i,o,u=e.length,l=t[n],h=Math.min(u,l);if(e.length=l,n<t.length-1){var p=n+1;for(i=0;h>i;i++)o=e[i],s(o,t,p,r);for(i=h;l>i;i++)o=[],e[i]=o,s(o,t,p,r)}else if(void 0!==r)for(i=u;l>i;i++)e[i]=a.clone(r)}var o=e("./number"),u=e("./string"),a=e("./object"),f=(e("./types"),Array.isArray);n.size=function(e){var t=r(e);return n.validate(e,t),t},n.validate=function(e,t){var n=0==t.length;if(n){if(f(e))throw new RangeError("Dimension mismatch ("+e.length+" != 0)")}else i(e,t,0)},n.validateIndex=function(e,t){if(!o.isNumber(e)||!o.isInteger(e))throw new TypeError("Index must be an integer (value: "+e+")");if(0>e)throw new RangeError("Index out of range ("+e+" < 0)");if(void 0!==t&&e>=t)throw new RangeError("Index out of range ("+e+" > "+(t-1)+")")},n.resize=function(e,t,n){if(!f(e)||!f(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");t.forEach(function(e){if(!o.isNumber(e)||!o.isInteger(e)||0>e)throw new TypeError("Invalid size, must contain positive integers (size: "+u.format(t)+")")});for(var r=1,i=e[0];f(i);)r++,i=i[0];for(;r<t.length;)e=[e],r++;for(;r>t.length;)e=e[0],r--;return s(e,t,0,n),e},n.squeeze=function(e){for(;f(e)&&1===e.length;)e=e[0];return e},n.unsqueeze=function(e,t){for(var r=n.size(e),i=0,s=t-r.length;s>i;i++)e=[e];return e},n.isArray=f},{"./number":219,"./object":220,"./string":221,"./types":222}],217:[function(e,t,n){n.isBoolean=function(e){return e instanceof Boolean||"boolean"==typeof e}},{}],218:[function(e,t,n){n.array=e("./array"),n["boolean"]=e("./boolean"),n.number=e("./number"),n.object=e("./object"),n.string=e("./string"),n.types=e("./types")},{"./array":216,"./boolean":217,"./number":219,"./object":220,"./string":221,"./types":222}],219:[function(e,t,n){function r(e){return e instanceof s?e.isZero():0===e}function i(e,t,n){var r;return e instanceof s?(r=e.abs(),r.gte(t)&&r.lt(n)):(r=Math.abs(e),r>=t&&n>r)}var s=e("bignumber.js");n.isNumber=function(e){return e instanceof Number||"number"==typeof e},n.isInteger=function(e){return e==Math.round(e)},n.sign=function(e){return e>0?1:0>e?-1:0},n.format=function(e,t){if("function"==typeof t)return t(e);if(1/0===e)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var u="auto",a=void 0;switch(void 0!==t&&(t.notation&&(u=t.notation),t&&(n.isNumber(t)?a=t:t.precision&&(a=t.precision))),u){case"fixed":return n.toFixed(e,a);case"scientific":throw new Error('Format notation "scientific" is deprecated. Use "exponential" instead.');case"exponential":return n.toExponential(e,a);case"auto":var f=.001,l=1e5;if(t&&t.exponential)void 0!==t.exponential.lower&&(f=t.exponential.lower),void 0!==t.exponential.upper&&(l=t.exponential.upper);else if(t&&t.scientific)throw new Error("options.scientific is deprecated, use options.exponential instead.");var c=e instanceof s;if(c){var h=s.config().EXPONENTIAL_AT;s.config({EXPONENTIAL_AT:[Math.round(Math.log(f)/Math.LN10),Math.round(Math.log(l)/Math.LN10)]})}if(r(e))return"0";var p;if(i(e,f,l))if(c)p=(new s(e.toPrecision(a))).toString();else{var d=a?e.toPrecision(Math.min(a,21)):e.toPrecision();p=parseFloat(d)+""}else p=n.toExponential(e,a);return c&&s.config({EXPONENTIAL_AT:h}),p.replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw new Error('Unknown notation "'+u+'". Choose "auto", "exponential", or "fixed".')}},n.toExponential=function(e,t){return void 0!==t?e.toExponential(e instanceof s?t-1:Math.min(t-1,20)):e.toExponential()},n.toFixed=function(e,t){return e.toFixed(e instanceof s?t||0:Math.min(t,20))},n.digits=function(e){return e.toExponential().replace(/e[\+\-0-9]*$/,"").replace(/^0\.0*|\./,"").length},n.toBigNumber=function(e){return n.digits(e)>15?e:new s(e)},n.toNumber=function(e){return parseFloat(e.valueOf())}},{"bignumber.js":223}],220:[function(e,t,n){n.clone=function r(e){var t=typeof e;if("number"===t||"string"===t||"boolean"===t||null===e||void 0===e)return e;if("function"==typeof e.clone)return e.clone();if(Array.isArray(e))return e.map(function(e){return r(e)});if(e instanceof Object){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=r(e[i]));return e}throw new TypeError("Cannot clone "+e)},n.extend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},n.deepExtend=function i(e,t){for(var n in t)t.hasOwnProperty(n)&&(t[n]&&t[n].constructor===Object?(void 0===e[n]&&(e[n]={}),e[n].constructor===Object?i(e[n],t[n]):e[n]=t[n]):e[n]=t[n]);return e},n.deepEqual=function(e,t){var r,i,s;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e.length!=t.length)return!1;for(i=0,s=e.length;s>i;i++)if(!n.deepEqual(e[i],t[i]))return!1;return!0}if(e instanceof Object){if(!Array.isArray(t)&&t instanceof Object){for(r in e)if(e.hasOwnProperty(r)&&!n.deepEqual(e[r],t[r]))return!1;for(r in t)if(t.hasOwnProperty(r)&&!n.deepEqual(e[r],t[r]))return!1;return!0}return!1}return e==t}},{}],221:[function(e,t,n){function r(e,t){if(Array.isArray(e)){for(var i="[",s=e.length,o=0;s>o;o++)0!=o&&(i+=", "),i+=r(e[o],t);return i+="]"}return n.format(e,t)}var i=e("./number"),s=e("bignumber.js");n.isString=function(e){return e instanceof String||"string"==typeof e},n.endsWith=function(e,t){var n=e.length-t.length,r=e.length;return e.substring(n,r)===t},n.format=function(e,t){return i.isNumber(e)||e instanceof s?i.format(e,t):Array.isArray(e)?r(e,t):n.isString(e)?'"'+e+'"':"function"==typeof e?e.syntax?e.syntax+"":"function":e instanceof Object?"function"==typeof e.format?e.format(t):e.toString():String(e)}},{"./number":219,"bignumber.js":223}],222:[function(e,t,n){n.type=function r(e){var r=typeof e;if("object"===r){if(null===e)return"null";if(e instanceof Boolean)return"boolean";if(e instanceof Number)return"number";if(e instanceof String)return"string";if(Array.isArray(e))return"array";if(e instanceof Date)return"date"}return r}},{}],223:[function(t,n){!function(t){function r(e,t){var n,o,u,a,c,h,v=this;if(!(v instanceof r))return new r(e,t);if(e instanceof r){if(x=0,t===n)return v.s=e.s,v.e=e.e,void (v.c=(e=e.c)?e.slice():e);e+=""}if("string"!=typeof e&&(e=(u="number"==typeof e||"[object Number]"==Object.prototype.toString.call(e))&&0===e&&0>1/e?"-0":e+""),h=e,t===n&&T.test(e))v.s="-"==e.charAt(0)?(e=e.slice(1),-1):1;else{if(10==t)return f(e,p,d);if(e=N.call(e).replace(/^\+(?!-)/,""),v.s="-"==e.charAt(0)?(e=e.replace(/^-(?!-)/,""),-1):1,null!=t?t!=(0|t)&&b||(l=!(t>=2&&65>t))?(i(t,2),c=T.test(e)):(a="["+S.slice(0,t=0|t)+"]+",e=e.replace(/\.$/,"").replace(/^\./,"0."),(c=(new RegExp("^"+a+"(?:\\."+a+")?$",37>t?"i":"")).test(e))?(u&&(e.replace(/^0\.0*|\./,"").length>15&&i(h,0),u=!u),e=s(e,10,t,v.s)):"Infinity"!=e&&"NaN"!=e&&(i(h,1,t),e="NaN")):c=T.test(e),!c)return v.c=v.e=null,"Infinity"!=e&&("NaN"!=e&&i(h,3),v.s=null),void (x=0)}for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(o=e.search(/e/i))>0?(0>n&&(n=o),n+=+e.slice(o+1),e=e.substring(0,o)):0>n&&(n=e.length),o=0;"0"==e.charAt(o);o++);if(t=e.length,u&&t>15&&e.slice(o).length>15&&i(h,0),x=0,(n-=o+1)>y)v.c=v.e=null;else if(o==t||g>n)v.c=[v.e=0];else{for(;"0"==e.charAt(--t););for(v.e=n,v.c=[],n=0;t>=o;v.c[n++]=+e.charAt(o++));}}function i(e,t,n,r,i,s){if(b){var o,u=["new BigNumber","cmp","div","eq","gt","gte","lt","lte","minus","mod","plus","times","toFr"][x?0>x?-x:x:0>1/x?1:0]+"()",a=l?" out of range":" not a"+(i?" non-zero":"n")+" integer";throw a=([u+" number type has more than 15 significant digits",u+" not a base "+n+" number",u+" base"+a,u+" not a number"][t]||n+"() "+t+(s?" not a boolean or binary digit":a+(r?" or not ["+(l?" negative, positive":" integer, integer")+" ]":"")))+": "+e,l=x=0,o=new Error(a),o.name="BigNumber Error",o}}function s(e,t,n,i){function s(e,r){var i,s,o=0,u=e.length,a=[0];for(r=r||n;u>o;o++){for(s=a.length,i=0;s>i;a[i]*=r,i++);for(a[0]+=S.indexOf(e.charAt(o)),i=0;i<a.length;i++)a[i]>t-1&&(null==a[i+1]&&(a[i+1]=0),a[i+1]+=a[i]/t^0,a[i]%=t)}return a.reverse()}function u(e){for(var t=0,n=e.length,r="";n>t;r+=S.charAt(e[t++]));return r}var a,f,l,c,h,p;if(37>n&&(e=e.toLowerCase()),(a=e.indexOf("."))>-1)if(a=e.length-a-1,f=s((new r(n)).pow(a).toF(),10),c=e.split("."),l=s(c[1]),c=s(c[0]),p=o(l,f,l.length-f.length,i,t,1&c[c.length-1]),h=p.c,a=p.e){for(;++a;h.unshift(0));e=u(c)+"."+u(h)}else h[0]?c[a=c.length-1]<t-1?(++c[a],e=u(c)):e=(new r(u(c),t)).plus(C).toS(t):e=u(c);else e=u(s(e));return e}function o(e,t,n,i,s,o){var u,f,l,c,h,d=t.slice(),v=u=t.length,m=e.length,b=e.slice(0,u),w=b.length,E=new r(C),S=E.c=[],x=0,T=p+(E.e=n)+1;for(E.s=i,i=0>T?0:T;w++<u;b.push(0));d.unshift(0);do{for(l=0;s>l;l++){if(u!=(w=b.length))c=u>w?1:-1;else for(h=-1,c=0;++h<u;)if(t[h]!=b[h]){c=t[h]>b[h]?1:-1;break}if(!(0>c))break;for(f=w==u?t:d;w;){if(b[--w]<f[w]){for(h=w;h&&!b[--h];b[h]=s-1);--b[h],b[w]+=s}b[w]-=f[w]}for(;!b[0];b.shift());}S[x++]=c?l:++l,b[0]&&c?b[w]=e[v]||0:b=[e[v]]}while((v++<m||null!=b[0])&&i--);return S[0]||1==x||(--E.e,S.shift()),x>T&&a(E,p,s,o,null!=b[0]),E.e>y?E.c=E.e=null:E.e<g&&(E.c=[E.e=0]),E}function u(e,t,n){var i=t-(e=new r(e)).e,s=e.c;if(!s)return e.toS();for(s.length>++t&&a(e,i,10),i=0==s[0]?i+1:n?t:e.e+i+1;s.length<i;s.push(0));return i=e.e,1==n||2==n&&(--t<i||v>=i)?(e.s<0&&s[0]?"-":"")+(s.length>1?(s.splice(1,0,"."),s.join("")):s[0])+(0>i?"e":"e+")+i:e.toS()}function a(e,t,n,r,i){var s=e.c,o=e.s<0,u=n/2,a=e.e+t+1,f=s[a],l=i||0>a||null!=s[a+1];if(i=4>d?(null!=f||l)&&(0==d||2==d&&!o||3==d&&o):f>u||f==u&&(4==d||l||6==d&&(1&s[a-1]||!t&&r)||7==d&&!o||8==d&&o),1>a||!s[0])return s.length=0,s.push(0),i?(s[0]=1,e.e=-t):e.e=0,e;if(s.length=a--,i)for(--n;++s[a]>n;)s[a]=0,a--||(++e.e,s.unshift(1));for(a=s.length;!s[--a];s.pop());return e}function f(e,t,n){var i=d;return d=n,e=new r(e),e.c&&a(e,t,10),d=i,e}var l,c=1e9,h=1e6,p=20,d=4,v=-7,m=21,g=-c,y=c,b=!0,w=parseInt,E=r.prototype,S="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",x=0,T=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,N=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},C=r(1);r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.config=function(){var e,t,n=0,r={},s=arguments,o=s[0],u="config",a=function(e,t,n){return!((l=t>e||e>n)||w(e)!=e&&0!==e)},f=o&&"object"==typeof o?function(){return o.hasOwnProperty(t)?null!=(e=o[t]):void 0}:function(){return s.length>n?null!=(e=s[n++]):void 0};return f(t="DECIMAL_PLACES")&&(a(e,0,c)?p=0|e:i(e,t,u)),r[t]=p,f(t="ROUNDING_MODE")&&(a(e,0,8)?d=0|e:i(e,t,u)),r[t]=d,f(t="EXPONENTIAL_AT")&&(a(e,-c,c)?v=-(m=~~(0>e?-e:+e)):!l&&e&&a(e[0],-c,0)&&a(e[1],0,c)?(v=~~e[0],m=~~e[1]):i(e,t,u,1)),r[t]=[v,m],f(t="RANGE")&&(a(e,-c,c)&&~~e?g=-(y=~~(0>e?-e:+e)):!l&&e&&a(e[0],-c,-1)&&a(e[1],1,c)?(g=~~e[0],y=~~e[1]):i(e,t,u,1,1)),r[t]=[g,y],f(t="ERRORS")&&(e===!!e||1===e||0===e?(l=x=0,w=(b=!!e)?parseInt:parseFloat):i(e,t,u,0,0,1)),r[t]=b,r},E.abs=E.absoluteValue=function(){var e=new r(this);return e.s<0&&(e.s=1),e},E.ceil=function(){return f(this,0,2)},E.comparedTo=E.cmp=function(e,t){var n,i=this,s=i.c,o=(x=-x,e=new r(e,t)).c,u=i.s,a=e.s,f=i.e,l=e.e;if(!u||!a)return null;if(n=s&&!s[0],t=o&&!o[0],n||t)return n?t?0:-a:u;if(u!=a)return u;if(n=0>u,t=f==l,!s||!o)return t?0:!s^n?1:-1;if(!t)return f>l^n?1:-1;for(u=-1,a=(f=s.length)<(l=o.length)?f:l;++u<a;)if(s[u]!=o[u])return s[u]>o[u]^n?1:-1;return f==l?0:f>l^n?1:-1},E.dividedBy=E.div=function(e,t){var n=this.c,i=this.e,s=this.s,u=(x=2,e=new r(e,t)).c,a=e.e,f=e.s,l=s==f?1:-1;return(i||n&&n[0])&&(a||u&&u[0])?o(n,u,i-a,l,10):new r(s&&f&&(n?!u||n[0]!=u[0]:u)?n&&0==n[0]||!u?0*l:l/0:0/0)},E.equals=E.eq=function(e,t){return x=3,0===this.cmp(e,t)},E.floor=function(){return f(this,0,3)},E.greaterThan=E.gt=function(e,t){return x=4,this.cmp(e,t)>0},E.greaterThanOrEqualTo=E.gte=function(e,t){return x=5,1==(t=this.cmp(e,t))||0===t},E.isFinite=E.isF=function(){return!!this.c},E.isNaN=function(){return!this.s},E.isNegative=E.isNeg=function(){return this.s<0},E.isZero=E.isZ=function(){return!!this.c&&0==this.c[0]},E.lessThan=E.lt=function(e,t){return x=6,this.cmp(e,t)<0},E.lessThanOrEqualTo=E.lte=function(e,t){return x=7,-1==(t=this.cmp(e,t))||0===t},E.minus=function(e,t){var n,i,s,o,u=this,a=u.s;if(t=(x=8,e=new r(e,t)).s,!a||!t)return new r(0/0);if(a!=t)return e.s=-t,u.plus(e);var f=u.c,l=u.e,c=e.c,h=e.e;if(!l||!h){if(!f||!c)return f?(e.s=-t,e):new r(c?u:0/0);if(!f[0]||!c[0])return c[0]?(e.s=-t,e):new r(f[0]?u:3==d?0:0)}if(f=f.slice(),a=l-h){for(n=(o=0>a)?(a=-a,f):(h=l,c),n.reverse(),t=a;t--;n.push(0));n.reverse()}else for(s=((o=f.length<c.length)?f:c).length,a=t=0;s>t;t++)if(f[t]!=c[t]){o=f[t]<c[t];break}if(o&&(n=f,f=c,c=n,e.s=-e.s),(t=-((s=f.length)-c.length))>0)for(;t--;f[s++]=0);for(t=c.length;t>a;){if(f[--t]<c[t]){for(i=t;i&&!f[--i];f[i]=9);--f[i],f[t]+=10}f[t]-=c[t]}for(;0==f[--s];f.pop());for(;0==f[0];f.shift(),--h);return(g>h||!f[0])&&(f[0]||(e.s=3==d?-1:1),f=[h=0]),e.c=f,e.e=h,e},E.modulo=E.mod=function(e,t){var n=this,i=n.c,s=(x=9,e=new r(e,t)).c,o=n.s,u=e.s;return t=!o||!u||s&&!s[0],t||i&&!i[0]?new r(t?0/0:n):(n.s=e.s=1,t=1==e.cmp(n),n.s=o,e.s=u,t?new r(n):(o=p,u=d,p=0,d=1,n=n.div(e),p=o,d=u,this.minus(n.times(e))))},E.negated=E.neg=function(){var e=new r(this);return e.s=-e.s||null,e},E.plus=function(e,t){var n,i=this,s=i.s;if(t=(x=10,e=new r(e,t)).s,!s||!t)return new r(0/0);if(s!=t)return e.s=-t,i.minus(e);var o=i.e,u=i.c,a=e.e,f=e.c;if(!o||!a){if(!u||!f)return new r(s/0);if(!u[0]||!f[0])return f[0]?e:new r(u[0]?i:0*s)}if(u=u.slice(),s=o-a){for(n=s>0?(a=o,f):(s=-s,u),n.reverse();s--;n.push(0));n.reverse()}for(u.length-f.length<0&&(n=f,f=u,u=n),s=f.length,t=0;s;t=(u[--s]=u[s]+f[s]+t)/10^0,u[s]%=10);for(t&&(u.unshift(t),++a>y&&(u=a=null)),s=u.length;0==u[--s];u.pop());return e.c=u,e.e=a,e},E.toPower=E.pow=function(e){var t=0*e==0?0|e:e,n=new r(this),s=new r(C);if(((l=-h>e||e>h)&&(t=1*e/0)||w(e)!=e&&0!==e&&!(t=0/0))&&!i(e,"exponent","pow")||!t)return new r(Math.pow(n.toS(),t));for(t=0>t?-t:t;1&t&&(s=s.times(n)),t>>=1,t;)n=n.times(n);return 0>e?C.div(s):s},E.round=function(e,t){return e=null==e||((l=0>e||e>c)||w(e)!=e)&&!i(e,"decimal places","round")?0:0|e,t=null==t||((l=0>t||t>8)||w(t)!=t&&0!==t)&&!i(t,"mode","round")?d:0|t,f(this,e,t)},E.squareRoot=E.sqrt=function(){var e,t,n,i,s=this,o=s.c,u=s.s,f=s.e,l=p,c=d,h=new r("0.5");if(1!==u||!o||!o[0])return new r(!u||0>u&&(!o||o[0])?0/0:o?s:1/0);for(u=Math.sqrt(s.toS()),d=1,0==u||u==1/0?(e=o.join(""),e.length+f&1||(e+="0"),t=new r(Math.sqrt(e)+""),t.c||(t.c=[1]),t.e=((f+1)/2|0)-(0>f||1&f)):t=new r(e=u.toString()),n=t.e,u=n+(p+=4),3>u&&(u=0),f=u;;)if(i=t,t=h.times(i.plus(s.div(i))),i.c.slice(0,u).join("")===t.c.slice(0,u).join("")){if(o=t.c,u-=e&&t.e<n,9!=o[u]||9!=o[u-1]||9!=o[u-2]||!(9==o[u-3]||e&&4==o[u-3])){if(!(o[f]||o[f-1]||o[f-2]||o[f-3]&&5!=o[f-3]||(o.length>f-2&&(o.length=f-2),t.times(t).eq(s)))){for(;o.length<f-3;)o.push(0);o[f-3]++}return d=c,a(t,p=l,10),t}if(e&&9==o[u-3]&&(i=t.round(l,0),i.times(i).eq(s)))return d=c,p=l,i;p+=4,u+=4,e=""}},E.times=function(e,t){var n,i=this,s=i.c,o=(x=11,e=new r(e,t)).c,u=i.e,a=e.e,f=i.s;if(e.s=f==(t=e.s)?1:-1,!(u||s&&s[0])||!(a||o&&o[0]))return new r(!f||!t||s&&!s[0]&&!o||o&&!o[0]&&!s?0/0:s&&o?0*e.s:e.s/0);for(e.e=u+a,(f=s.length)<(t=o.length)&&(n=s,s=o,o=n,a=f,f=t,t=a),a=f+t,n=[];a--;n.push(0));for(u=t-1;u>-1;u--){for(t=0,a=f+u;a>u;t=n[a]+o[u]*s[a-u-1]+t,n[a--]=t%10|0,t=t/10|0);t&&(n[a]=(n[a]+t)%10)}for(t&&++e.e,!n[0]&&n.shift(),a=n.length;!n[--a];n.pop());return e.c=e.e>y?e.e=null:e.e<g?[e.e=0]:n,e},E.toExponential=E.toE=function(e){return u(this,(null==e||((l=0>e||e>c)||w(e)!=e&&0!==e)&&!i(e,"decimal places","toE"))&&this.c?this.c.length-1:0|e,1)},E.toFixed=E.toF=function(e){var t,n,r,s=this;return null==e||((l=0>e||e>c)||w(e)!=e&&0!==e)&&!i(e,"decimal places","toF")||(r=s.e+(0|e)),t=v,e=m,v=-(m=1/0),r==n?n=s.toS():(n=u(s,r),s.s<0&&s.c&&(s.c[0]?n.indexOf("-")<0&&(n="-"+n):n=n.replace(/^-/,""))),v=t,m=e,n},E.toFraction=E.toFr=function(e){var t,n,s,o,u,a,f,c=o=new r(C),h=s=new r("0"),v=this,m=v.c,g=y,w=p,E=d,S=new r(C);if(!m)return v.toS();for(f=S.e=m.length-v.e-1,(null==e||(!(x=12,a=new r(e)).s||(l=a.cmp(c)<0||!a.c)||b&&a.e<a.c.length-1)&&!i(e,"max denominator","toFr")||(e=a).cmp(S)>0)&&(e=f>0?S:c),y=1/0,a=new r(m.join("")),p=0,d=1;t=a.div(S),u=o.plus(t.times(h)),1!=u.cmp(e);)o=h,h=u,c=s.plus(t.times(u=c)),s=u,S=a.minus(t.times(u=S)),a=u;return u=e.minus(o).div(h),s=s.plus(u.times(c)),o=o.plus(u.times(h)),s.s=c.s=v.s,p=2*f,d=E,n=c.div(h).minus(v).abs().cmp(s.div(o).minus(v).abs())<1?[c.toS(),h.toS()]:[s.toS(),o.toS()],y=g,p=w,n},E.toPrecision=E.toP=function(e){return null==e||((l=1>e||e>c)||w(e)!=e)&&!i(e,"precision","toP")?this.toS():u(this,0|--e,2)},E.toString=E.toS=function(e){var t,n,r,o=this,a=o.e;if(null===a)n=o.s?"Infinity":"NaN";else{if(e===t&&(v>=a||a>=m))return u(o,o.c.length-1,1);if(n=o.c.join(""),0>a){for(;++a;n="0"+n);n="0."+n}else if(r=n.length,a>0)if(++a>r)for(a-=r;a--;n+="0");else r>a&&(n=n.slice(0,a)+"."+n.slice(a));else if(t=n.charAt(0),r>1)n=t+"."+n.slice(1);else if("0"==t)return t;if(null!=e)if((l=!(e>=2&&65>e))||e!=(0|e)&&b)i(e,"base","toS");else if(n=s(n,0|e,10,o.s),"0"==n)return n}return o.s<0?"-"+n:n},E.valueOf=function(){return this.toS()},"undefined"!=typeof n&&n.exports?n.exports=r:"function"==typeof e&&e.amd?e(function(){return r}):t.BigNumber=r}(this)},{}]},{},[1])(1)}),define("text",["module"],function(e){var t,n,r,i,s,o=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],u=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,a=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,f=typeof location!="undefined"&&location.href,l=f&&location.protocol&&location.protocol.replace(/\:/,""),c=f&&location.hostname,h=f&&(location.port||undefined),p={},d=e.config&&e.config()||{};t={version:"2.0.10",strip:function(e){if(e){e=e.replace(u,"");var t=e.match(a);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=o[t];try{e=new ActiveXObject(n)}catch(r){}if(e){o=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,s=e.indexOf("."),o=e.indexOf("./")===0||e.indexOf("../")===0;return s!==-1&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1,e.length)):t=e,r=n||t,s=r.indexOf("!"),s!==-1&&(i=r.substring(s+1)==="strip",r=r.substring(0,s),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,d.isBuild&&(p[e]=r),i(r)},load:function(e,n,r,i){if(i.isBuild&&!i.inlineText){r();return}d.isBuild=i.isBuild;var s=t.parseName(e),o=s.moduleName+(s.ext?"."+s.ext:""),u=n.toUrl(o),a=d.useXhr||t.useXhr;if(u.indexOf("empty:")===0){r();return}!f||a(u,l,c,h)?t.get(u,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([o],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(p.hasOwnProperty(n)){var s=t.jsEscape(p[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.ext?"."+o.ext:"",a=o.moduleName+u,f=r.toUrl(o.moduleName+u)+".js";t.load(a,r,function(n){var r=function(e){return i(f,e)};r.asModule=function(e,t){return i.asModule(e,f,t)},t.write(e,a,r,s)},s)}};if(d.env==="node"||!d.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node&&!process.versions["node-webkit"])n=require.nodeRequire("fs"),t.get=function(e,t,r){try{var i=n.readFileSync(e,"utf8");i.indexOf("﻿")===0&&(i=i.substring(1)),t(i)}catch(s){r(s)}};else if(d.env==="xhr"||!d.env&&t.createXhr())t.get=function(e,n,r,i){var s=t.createXhr(),o;s.open("GET",e,!0);if(i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);d.onXhr&&d.onXhr(s,e),s.onreadystatechange=function(t){var i,o;s.readyState===4&&(i=s.status,i>399&&i<600?(o=new Error(e+" HTTP status: "+i),o.xhr=s,r(o)):n(s.responseText),d.onXhrComplete&&d.onXhrComplete(s,e))},s.send(null)};else if(d.env==="rhino"||!d.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),r!==null&&n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};else if(d.env==="xpconnect"||!d.env&&typeof Components!="undefined"&&Components.classes&&Components.interfaces)r=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in r,t.get=function(e,t){var n,o,u,a={};s&&(e=e.replace(/\//g,"\\")),u=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(u,1,0,!1),o=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),o.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),o.readString(n.available(),a),o.close(),n.close(),t(a.value)}catch(f){throw new Error((u&&u.path||"")+": "+f)}};return t}),define("json",["text"],function(text){function cacheBust(e){return e=e.replace(CACHE_BUST_FLAG,""),e+=e.indexOf("?")<0?"?":"&",e+CACHE_BUST_QUERY_PARAM+"="+Math.round(2147483647*Math.random())}var CACHE_BUST_QUERY_PARAM="bust",CACHE_BUST_FLAG="!bust",jsonParse=typeof JSON!="undefined"&&typeof JSON.parse=="function"?JSON.parse:function(val){return eval("("+val+")")},buildMap={};return{load:function(e,t,n,r){!r.isBuild||r.inlineJSON!==!1&&e.indexOf(CACHE_BUST_QUERY_PARAM+"=")===-1?text.get(t.toUrl(e),function(t){r.isBuild?(buildMap[e]=t,n(t)):n(jsonParse(t))},n.error,{accept:"application/json"}):n(null)},normalize:function(e,t){return e.indexOf(CACHE_BUST_FLAG)!==-1&&(e=cacheBust(e)),t(e)},write:function(e,t,n){if(t in buildMap){var r=buildMap[t];n('define("'+e+"!"+t+'", function(){ return '+r+";});\n")}}}}),define("json!data/vampire.json",function(){return[1435,1530,1260,2187,6880,1827,1395,135837,104260,140350,132430,145314,163944,131242,133245,134725,153436,124483,146137,174370,126846,193945,125500,105210,150300,102510,125460,105264,241564,123354,254740,125433,156289,245182,284598,152685,135828,193257,315594,120600,263074,152608,286416,125460,326452,213466,126027,368550,136525,336550,341653,182650,416650,156240,392566,216733,217638,284760,365638,233896,110758,117067,457600,105750,304717,197725,116725,129775,253750,312475,173250,175329,516879,115672,486720,172822,378400,108135,180225,201852,260338,205785,182250,226872,125248,386415,475380,118440,458640,226498,414895,498550,456840,251896,538650,215860,338296,186624,567648,378450,568750,738468,378418,218488,428980,384912,416988,489159,180297,489955,315900,789250,190260,679500,809964,404968,319059,809919,192150,129640,162976,229648,262984,296320,329656,362992,429664,529672,629680,729688,829696,792585,336960,673920,136948,447916,146952,841995,346968,156915,319536,559188,815958,536539,789525,329346,736695,369189,371893,312975,211896,361989,638950,794088,939658,769792]}),define("json!data/carmichael.json",function(){return[561,1105,1729,2465,2821,6601,8911,10585,15841,29341,41041,46657,52633,62745,63973,75361,101101,115921,126217,162401,172081,188461,252601,278545,294409,314821,334153,340561,399001,410041,449065,488881,512461]}),define("json!data/metadromes.json",function(){return[0,1,5,27,194,1865,22875,342391,6053444,123456789,2853116705,73686780563,2103299351334,65751519677857,0x7eff32a409b77,81985529216486900,0x2cd843cb47643800,0x7616a635f072e4000,6.106233505124425e21,2.9046426592797785e23]}),define("json!data/fibonacci-primes.json",function(){return[2,3,5,13,89,233,1597,28657,514229,433494437,2971215073]}),define("json!data/mult-partition.json",function(){return[1,1,1,2,1,2,1,3,2,2,1,4,1,2,2,5,1,4,1,4,2,2,1,7,2,2,3,4,1,5,1,7,2,2,2,9,1,2,2,7,1,5,1,4,4,2,1,12,2,4,2,4,1,7,2,7,2,2,1,11,1,2,4,11,2,5,1,4,2,5,1,16,1,2,4,4,2,5,1,12,5,2,1,11,2,2,2,7,1,11,2,4,2,2,2,19,1,4,4,9,1,5,1,7,5,2,1,16,1,5,2,12,1,5,2,4,4,2,2,21,2,2,2,4,3,11,1,15,2,5,1,11,2,2,7,7,1,5,1,11,2,2,2,29,2,2,4,4,1,11,1,7,4,5,2,11,1,2,2,19,2,12,1,4,5,2,1,21,2,5,4,4,1,5,4,12,2,2,1,26,1,5,2,7,2,5,2,4,7,5,1,30,1,2,5,9,1,11,1,16,2,2,2,11,2,2,4,12,2,15,1,4,2,2,2,31,2,2,2,11,2,5,1,19,9,2,1,11,1,5,5,7,1,11,2,4,2,5,1,38,1,4,7,4,4,5,2,7,2,7,1,26,2,2,5,22,1,5,2,11,4,2,1,21,2,5,2,4,1,21,1,12,5,2,4,11,1,2,4,21,1,5,1,4,5,5,2,47,2,5,2,4,1,11,2,7,7,2,2,26,2,2,2,12,2,11,1,11,2,5,1,21,1,2,11,4,1,5,2,30,2,5,2,29,4,2,2,7,2,15,1,4,4,2,2,38,1,4,2,11,2,11,3,7,5,2,1,11,1,11,7,19,1,5,2,4,5,2,1,52,2,2,4,11,2,5,1,12,4,5,2,11,1,5,7,7,2,21,1,11,2,2,1,45,5,2,4,4,1,15,2,16,2,2,2,26,1,2,5,29,1,5,2,4,12,5,2,21,1,5,2,4,2,11,2,19,2,5,1,36,1,2,4,7,4,5,2,4,5,5,1,57,1,5,5,4,2,5,1,21,9,5,1,11,2,2,2,30,1,26,2,4,2,2,5,21,1,2,7,11,1,15,1,12,5,2,1,26,2,5,2,7,2,5,4,11,4,2,1,64,2,2,5,9,2,19,1,7,2,11,1,11,2,5,11,12,2,5,1,16,2,2,1,52,2,5,4,4,1,15,2,30,7,2,2,11,2,5,2,21,1,11,1,4,11,2,2,38,2,5,4,11,2,5,2,7,2,2,4,52,1,2,2,19,2,15,1,4,4,11,2,21,2,2,5,4,1,11,2,38,5,2,1,11,2,2,12,7,1,15,1,11,2,5,4,77,1,4,2,11,2,5,2,7,11,2,1,26,2,5,2,12,1,21,5,4,2,5,1,52,1,5,4,4,4,5,1,19,5,5,2,26,1,2,5,21,1,5,1,11,7,2,2,38,5,2,5,4,2,36,1,7,2,2,2,11,4,5,4,45,1,5,1,11,5,5,1,57,2,11,5,4,1,5,2,12,4,5,1,36,1,2,5,7,5,11,2,4,2,5,2,64,1,2,16,9,1,5,2,21,2,5,1,26,2,7,2,12,2,15,1,4,11,2,2,21,2,2,2,26,1,21,2,30,5,2,2,11,1,5,4,7,2,15,5,4,2,2,1,98,2,4,2,4,4,11,1,21,11,5,2,11,1,2,11,19,2,11,1,11,5,5,1,21,2,2,4,11,2,21,1,12,2,5,2,52,1,2,5,21,1,5,2,4,11,2,2,67,1,15,2,4,1,11,4,7,5,2,2,36,2,5,7,29,2,5,1,4,2,5,2,52,2,2,5,4,1,15,2,47,4,2,2,11,5,5,2,7,1,38,1,11,2,5,2,38,2,2,11,11,1,5,1,7,11,5,1,26,1,5,2,30,4,5,2,11,7,2,1,74,2,2,2,4,4,11,4,12,2,11,2,11,1,5,11,7,1,15,1,11,5,2,1,97,2,2,4,11,2,15,2,7,4,5,7,11,1,2,2,38,1,26,1,11,5,2,1,21,2,5,12,4,2,5,2,45,5,2,2,66,2,5,5,7,2,5,1,4,4,15,1,38,2,2,5,4,2,21,1,21,2,2,2,36,4,2,4,19,1,15,4,4,2,2,5,52,1,5,2,11,1,5,2,12,21,5,1,11,2,11,2,21,1,11,2,4,5,2,2,105,2,5,4,4,2,15,1,16,5,5,1,47,2,2,11,12,1,5,2,26,4,2,1,21,2,5,5,11,2,36,1,19,2,5,2,11,1,2,7,31,5,5,2,4,5,2,2,98,1,5,2,11,1,11,5,7,4,2,1,36,1,5,5,42,4,21,2,4,7,5,1,21,1,5,11,11,2,5,1,38,2,2,2,26,5,2,2,7,1,36,1,4,12,5,2,64,2,4,2,11,1,11,1,21,5,5,2,11,1,5,11,12,2,5,4,4,2,11,2,109,2,2,4,4,5,5,1,30,9,5,1,36,1,2,5,7,1,11,2,26,2,5,1,38,5,5,7,4,1,15,2,7,5,2,2,26,1,5,2,64,2,15,1,4,16,2,4,21,1,5,5,4,2,38,2,12,2,2,2,36,2,2,4,21,2,5,2,11,2,11,1,118,1,2,15,9,2,5,2,21,7,5,1,11,2,5,2,12,2,36,1,4,5,2,4,52,2,5,4,11,1,5,4,19,5,2,1,52,2,15,2,7,1,5,2,11,11,2,2,98,1,2,2,11,2,11,2,7,5,11,2,11,1,2,19,30,1,15,2,11,5,5,1,52,9,2,2,4,1,15,1,38,4,2,5,11,1,2,5,21,2,21,2,4,5,5,2,64,1,12,4,4,2,15,2,7,2,5,1,92,2,2,2,12,5,5,2,4,7,5,2,21,2,11,11,11,1,11,1,67,5,2,1,11,2,2,11,21,1,15,1,11,2,2,5,109,1,5,2,26,1,15,1,7,11,2,1,11,5,5,5,19,2,11,2,11,2,2,1,74,1,2,16,4,4,15,1,12,2,15,3,26,2,5,5,7,2,5,2,11,4,5,2,105,2,2,2,4,2,52,2,16,5,2,2,11,2,5,4,38,1,5,2,11,15,2,1,52,2,5,2,16,1,5,7,19,12,5,2,36,1,2,2,7,2,36,2,4,2,5,2,38,2,5,11,4,2,5,1,52,2,2,2,52,2,5,5,45,1,15,2,4,4,5,2,21,2,2,5,11,4,11,1,12,11,5,1,36,1,15,7,7,1,5,5,4,2,2,1,171,2,5,5,9,4,5,1,7,11,11,1,26,1,2,5,38,2,30,1,11,2,5,5,21,2,2,4,4,2,36,1,30,2,5,4,26,2,2,5,21,1,15,1,11,21,2,1,38,1,5,5,4,1,11,5,21,2,5,1,52,2,2,4,19,5,5,2,11,2,5,1,109,2,2,5,4,2,15,4,38,9,2,1,11,4,5,2,7,2,36,1,4,5,5,2,97,2,2,12,36,2,5,1,7,5,2,5,26,1,11,5,12,1,15,2,4,4,5,1,74,2,5,2,11,2,21,1,47,2,5,1,11,4,2,26,7,2,5,1,11,5,5,1,98,2,5,4,4,2,15,2,7,7,2,5,36,1,5,5,77,1,11,2,4,5,5,1,21,1,15,4,11,1,5,5,12,11,2,1,98,1,2,2,21,7,5,1,11,4,5,2,64,2,5,5,4,1,36,2,21,2,2,2,11,5,2,7,12,2,36,2,11,5,2,2,52,1,2,5,11,2,5,1,45,11,11,1,11,1,5,2,21,2,21,4,4,5,2,2,141,2,4,11,4,2,5,2,7,2,11,2,26,1,11,5,19,1,5,1,26,19,5,2,21,5,2,2,11,1,36,2,12,2,2,7,36,2,2,4,21,1,15,1,4,11,2,2,162,5,5,2,4,1,11,2,21,4,5,2,36,1,5,5,12,2,11,1,11,5,21,2,21,1,2,21,4,2,5,1,64,2,2,2,66,2,2,5,21,2,15,5,4,4,2,4,38,1,5,2,11,2,38,1,7,15,5,1,11,1,5,4,67,2,15,2,4,2,5,2,137,1,5,2,11,4,15,2,12,7,5,1,11,4,2,11,7,2,11,2,36,2,2,1,64,4,5,11,4,2,15,1,7,5,5,2,52,2,2,2,38,2,5,2,4,11,5,1,74,2,11,2,4,2,11,5,30,2,2,4,36,1,11,12,7,2,5,1,4,5,15,1,98,1,2,12,11,1,5,1,21,11,2,2,11,5,5,5,19,1,74,2,11,2,2,2,21,2,5,4,26,1,5,2,38,5,2,1,26,2,5,11,7,1,15,2,4,7,5,2,165,2,4,2,11,11,11,2,7,2,5,1,36,1,2,11,29,2,15,2,11,2,2,2,97,2,5,5,4,1,36,1,19,11,2,5,11,2,5,2,52,2,11,2,4,5,2,2,38,2,5,7,11,1,15,4,21,2,5,1,92,2,2,2,30,2,5,1,11,11,5,2,21,1,2,15,4,1,21,1,57,5,15,1,11,2,5,4,7,4,15,1,4,5,5,5,171,1,2,2,11,2,5,4,21,29,2,1,26,1,15,2,12,2,11,5,4,5,2,1,74,2,2,4,11,2,15,2,56,2,11,2,52,1,5,5,7,4,21,2,11,4,2,1,38,5,2,5,11,1,36,2,21,2,5,4,11,2,2,21,64,1,5,1,4,5,5,1,52,1,15,5,4,5,5,2,12,4,2,1,92,2,2,2,7,2,38,4,11,5,5,1,105,1,5,11,9,2,5,2,21,5,2,2,26,7,2,2,38,1,15,1,11,7,5,5,21,1,2,5,11,1,36,1,19,15,5,2,11,2,11,4,7,1,5,2,26,2,5,2,212,1,5,5,4,2,11,2,7,4,15,2,11,2,2,11,45,2,26,1,11,2,2,2,74,5,2,15,4,2,15,2,12,5,2,2,26,3,5,2,52,2,5,1,11,26,2,1,64,2,15,5,11,1,21,2,7,2,2,2,36,1,5,11,12,4,15,2,4,2,5,2,52,5,2,5,11,1,5,1,105,7,5,1,36,2,2,5,7,2,52,1,4,2,11,5,38,2,2,4,11,5,15,2,7,5,5,1,98,1,5,2,19,1,5,11,4,11,5,2,74,1,5,2,4,2,11,1,38,5,5,2,11,1,5,21,21,1,5,4,26,5,2,4,181,2,2,2,4,1,52,1,16,4,5,2,11,2,5,2,38,2,21,2,11,11,2,2,21,2,5,11,11,1,5,2,19,5,5,1,92,1,2,5,7,5,15,1,4,12,11,1,98,2,5,5,11,1,11,2,21,2,2,2,11,5,11,4,30,2,15,1,4,5,2,7,109,1,5,5,36,1,5,1,12,11,2,5,11,1,5,2,21,1,36,2,4,5,5,1,171,5,2,7,4,5,5,2,21,5,5,1,26,2,5,15,12,1,15,2,26,4,5,1,21,4,2,2,4,2,64,5,45,2,2,2,36,1,5,4,21,1,15,2,11,5,2,1,98,2,26,5,4,2,5,2,7,21,2,1,36,2,2,2,64,5,11,1,4,2,15,2,21,1,2,26,4,1,15,2,38,2,5,2,52,5,5,2,7,2,15,2,11,4,5,2,105,2,2,11,29,2,11,1,7,5,5,2,36,2,5,12,12,2,5,2,11,2,2,2,198,1,5,4,4,4,5,4,19,4,15,1,11,2,5,11,7,2,21,1,11,11,5,1,38,2,5,4,26,1,36,1,21,5,2,5,26,1,2,2,97,2,15,2,4,21,2,2,21,2,5,2,4,2,36,4,38,2,2,1,36,2,2,11,21,5,5,2,4,2,15,1,189,1,2,5,11,4,5,2,52,9,2,2,36,2,2,5,12,1,36,2,4,5,2,2,21,1,15,7,11,1,15,2,30,21,5,2,26,2,5,2,21,1,5,5,4,4,2,5,141,2,2,2,4,4,52,1,7,2,11,2,36,2,2,11,19,1,5,1,36,2,7,1,52,5,5,5,11,2,15,1,12,19,5,4,11,1,5,5,21,2,11,1,11,5,5,1,165,1,5,11,4,1,5,11,7,5,5,1,137,2,5,5,29,2,15,1,4,11,5,1,21,1,5,5,11,5,11,1,64,2,2,2,11,4,5,7,21,1,52,1,4,2,2,2,98,5,4,5,11,1,5,2,31,11,2,2,11,1,21,5,30,1,38,5,11,2,5,2,74,2,2,4,4,5,5,1,12,5,5,2,92,2,5,11,7,1,5,2,11,7,5,4,64,2,5,2,11,1,36,1,7,11,5,5,11,1,2,4,98,1,5,1,4,15,5,2,109,2,5,2,11,2,15,2,67,4,2,1,36,5,5,2,7,4,11,2,11,5,5,2,38,1,5,38,4,1,15,2,21,2,11,1,26,2,2,5,19,5,36,1,11,4,2,2,74,1,2,2,36,1,21,2,12,5,2,2,11,2,15,11,7,4,5,7,4,5,2,1,289,2,5,4,11,2,15,1,16,7,11,4,11,2,2,5,12,1,36,2,26,2,2,1,52,5,2,11,4,1,15,2,64,2,5,5,77,1,2,5,21,2,5,2,11,26,15,1,38,2,5,2,4,2,11,2,7,5,5,1,92,2,2,7,45,5,5,2,11,2,11,2,52,1,5,5,4,1,15,2,38,11,2,1,36,2,2,5,21,1,74,1,4,2,2,11,64,2,2,4,11,2,15,2,7,5,2,2,26,4,15,2,38,2,5,2,11,12,2,1,109,1,5,15,4,2,11,2,30,5,15,1,11,2,5,11,21,2,5,1,11,5,2,1,212,9,5,2,4,2,15,2,7,4,5,2,36,1,11,2,64,1,26,2,4,15,2,2,21,1,11,7,11,2,5,5,12,2,5,5,92,1,2,2,7,2,15,1,11,11,5,2,139,2,5,11,4,2,38,1,74,5,5,1,11,2,2,16,12,1,15,2,4,2,15,2,52,2,2,2,26,2,15,2,19,21,2,2,36,1,5,5,7,2,11,5,11,2,2,1,141,1,5,4,11,7,5,2,21,5,5,2,52,2,2,15,77,1,5,2,11,4,2,2,21,5,11,2,4,2,92,2,12,2,5,2,11,5,2,19,21,2,15,1,11,5,2,1,171,1,5,5,11,2,11,4,7,4,5,4,36,1,5,2,12,11,21,1,4,2,15,1,74,2,2,11,11,2,15,2,118,5,2,1,26,2,5,2,7,1,15,4,11,21,2,2,38,1,2,5,36,1,11,2,21,11,2,2,11,1,15,4,19,2,36,2,4,5,2,2,212,2,2,5,4,5,5,2,38,9,21,1,11,1,2,15,21,1,11,1,11,2,5,2,105,2,5,16,11,2,15,1,7,2,2,4,92,2,5,2,38,2,5,4,4,11,5,2,21,5,15,2,4,2,21,2,19,5,5,1,92,1,5,4,21,2,15,1,4,2,5,5,98,1,2,15,4,2,15,1,21,12,5,1,11,11,2,2,67,1,36,1,26,5,2,5,21,2,2,11,11,2,5,1,38,5,5,1,52,2,11,2,7,2,15,5,4,4,5,1,250,1,4,5,9,2,36,5,7,2,5,1,11,1,5,31,12,2,5,2,26,11,5,2,52,2,2,2,26,1,15,1,30,11,2,5,11,2,2,5,52,2,64,2,11,5,5,1,38,2,15,4,4,1,5,2,21,5,2,2,92,2,5,5,19,4,5,2,4,7,21,2,74,1,5,5,4,2,11,2,38,5,2,2,36,5,2,4,7,1,36,5,4,2,5,2,257,1,15,2,11,1,5,1,7,36,2,1,26,1,5,5,38,2,11,4,11,5,5,4,74,2,2,12,11,5,15,2,19,2,5,1,26,2,2,5,21,2,15,1,52,4,5,2,38,2,2,5,4,4,74,1,7,2,5,5,11,1,2,11,105,2,5,2,4,11,5,1,137,1,5,5,4,1,15,5,38,7,5,1,36,1,15,2,7,2,11,1,4,11,11,2,64,5,2,11,11,1,5,1,21,2,5,2,98,5,2,5,12,2,52,1,11,4,2,11,21,4,2,2,11,1,11,1,97,5,5,2,36,2,5,21,7,1,5,2,11,5,5,2,269,2,2,2,11,5,5,1,21,4,11,2,36,1,5,5,19,1,21,5,11,5,2,1,21,7,11,11,4,2,36,1,12,5,5,2,26,1,5,2,74,2,5,1,4,30,2,2,105,2,11,2,11,2,36,5,7,5,5,1,36,2,2,11,12,2,15,2,11,2,5,1,109,1,5,26,4,1,5,2,64,4,5,2,11,5,5,2,7,5,36,1,11,2,2,2,141,1,4,7,26,1,5,4,7,15,5,2,26,1,15,2,45,2,5,2,4,11,11,1,74,2,2,5,26,4,38,1,12,5,5,5,11,1,2,11,7,2,15,1,36,5,2,2,171,5,2,2,4,2,38,4,21,7,2,2,11,4,2,5,38,1,36,2,4,5,5,1,21,1,15,4,11,7,15,4,30,2,2,1,198,2,5,5,21,2,5,2,4,4,5,2,38,1,5,15,11,1,11,2,52,5,2,1,11,2,5,12,64,2,15,2,4,5,2,5,52,2,5,5,11,1,36,1,12,26,2,2,36,2,5,2,7,1,21,5,11,2,5,2,254,2,5,11,9,2,5,1,21,2,36,1,26,1,5,5,12,5,5,2,11,21,2,1,74,2,2,2,4,2,36,4,47,2,5,7,36,1,5,4,21,1,5,2,4,15,5,4,189,1,5,2,11,2,15,5,7,4,2,2,92,2,2,2,30,5,36,1,4,2,15,1,21,5,5,21,11,1,5,1,98,2,5,1,26,4,5,15,7,1,15,1,4,11,5,2,64,2,5,5,11,2,21,1,21,5,2,1,36,2,11,4,38,2,5,5,11,2,2,2,198,2,5,2,4,5,5,1,45,29,5,4,11,2,2,11,21,2,36,2,11,2,5,2,38,2,2,4,4,1,52,2,7,7,2,5,52,2,2,5,97,1,15,1,36,11,2,1,21,2,5,5,11,1,11,5,12,5,11,1,36,1,2,7,7,11,15,1,11,5,15,2,289,2,2,5,4,2,5,2,21,4,5,2,11,2,11,5,38,1,98,1,4,5,2,2,52,1,2,11,36,2,5,2,19,5,5,4,26,2,15,5,7,1,15,4,4,7,2,1,141,5,5,2,4,5,11,2,21,5,5,1,36,1,5,36,77,2,5,1,26,2,5,2,109,2,2,4,11,2,15,1,12,4,11,2,52,2,5,2,21,2,11,5,4,21,2,1,64,1,15,19,4,1,15,2,21,5,2,1,92,2,5,2,38,2,5,5,11,4,11,2,21,1,5,5,4,1,74,1,105,5,2,2,11,11,2,4,7,2,15,2,11,5,2,4,98,1,2,5,36,2,15,2,7,21,15,2,11,2,5,5,19,2,11,2,4,2,2,5,198,1,5,4,4,4,5,2,12,5,5,1,98,2,11,5,21,1,15,1,11,11,2,2,165,9,2,2,11,1,36,1,16,5,5,11,11,2,5,7,38,1,15,1,4,5,5,2,52,2,21,5,4,1,5,5,64,11,2,1,36,1,2,11,21,2,21,2,11,2,15,1,38,1,2,26,4,5,15,2,21,2,2,1,92,2,2,2,30,1,52,2,11,12,5,2,21,1,5,2,26,5,11,2,12,15,2,2,11,2,5,4,52,2,5,2,11,2,5,2,382,2,2,5,11,4,15,1,7,11,5,2,26,2,5,11,12,1,11,1,36,2,5,2,21,5,5,21,4,1,36,2,67,2,5,5,66,1,2,2,21,4,5,1,4,11,5,2,141,2,15,5,4,1,45,12,7,2,5,2,36,2,5,4,19,2,15,2,4,15,5,1,52,2,7,5,11,1,5,2,98,7,5,5,11,2,2,5,21,1,92,2,4,2,2,2,105,2,4,4,36,1,15,1,21,11,2,2,52,2,5,5,12,5,5,2,4,11,5,2,74,1,2,2,11,5,36,1,19,2,11,1,36,2,5,38,7,1,5,7,11,2,5,1,98,5,15,2,4,2,15,2,21,11,2,4,11,4,2,2,165,1,21,1,11,15,2,2,74,2,5,4,4,1,15,5,12,2,5,2,137,2,2,5,7,5,5,1,26,7,15,2,64,1,5,15,4,1,11,1,21,5,15,1,36,4,5,4,12,2,15,2,11,2,2,2,212,2,2,5,11,2,5,5,30,11,2,1,11,1,36,5,7,2,36,2,11,11,5,2,141,1,2,16,11,5,5,1,7,2,5,2,26,2,2,11,64,2,15,2,11,4,5,1,21,5,2,5,11,2,74,1,38,2,2,2,11,1,11,11,52,2,15,1,4,5,11,2,267,2,5,5,4,2,5,5,7,19,2,2,135,1,2,5,29,7,11,2,11,2,5,2,21,2,5,11,11,1,5,1,64,15,5,1,52,2,5,2,21,1,36,1,4,11,5,11,38,1,5,2,11,2,36,1,21,5,2,2,11,5,5,7,30,1,15,11,11,2,2,1,198,2,2,5,4,2,15,2,12,4,15,1,36,4,2,5,7,5,38,2,26,2,2,1,171,2,5,4,11,2,15,2,21,2,2,5,26,2,5,11,38,1,5,1,4,52,5,2,21,1,15,5,26,1,11,2,45,2,5,2,36,2,2,11,7,5,15,2,4,2,21,1,212,4,2,5,11,2,15,1,74,9,2,2,11,2,2,5,19,2,36,2,4,5,15,4,21,2,2,12,11,2,5,1,38,15,2,1,92,1,5,2,7,1,15,5,11,11,2,1,289,1,12,2,4,4,21,5,7,5,15,2,11,1,5,11,38,1,15,2,11,2,2,5,52,4,5,2,11,2,52,1,19,7,2,2,36,2,5,2,52,2,11,2,11,15,2,2,38,2,11,26,4,2,5,2,7,2,5,2,171,1,15,2,67,5,5,2,4,4,5,1,74,2,2,21,11,1,11,5,38,2,2,2,36,2,5,7,21,1,15,2,4,5,2,5,171,2,5,5,66,4,15,1,7,11,5,2,11,1,5,2,12,3,74,2,4,5,2,1,74,5,5,4,4,4,5,2,105,5,15,1,26,1,2,15,7,1,5,2,36,12,5,1,38,5,2,5,4,4,92,1,7,5,2,2,36,1,5,11,64,4,5,2,11,5,5,1,109,1,15,2,11,1,5,4,12,11,5,2,36,2,5,5,21,2,11,1,11,2,5,5,165,1,5,21,4,2,36,1,57,2,5,1,26,15,2,2,12,1,15,1,11,4,5,5,74,2,5,5,11,1,38,1,19,11,5,2,11,2,5,11,21,2,5,5,4,5,5,1,392,2,2,4,11,2,11,4,7,21,11,1,11,2,11,5,30,2,11,1,36,5,2,2,21,2,5,4,11,2,36,2,12,5,5,11,52,1,2,2,21,1,36,5,11,11,2,1,64,2,5,2,11,2,11,2,52,2,2,1,92,1,2,30,38,2,15,1,4,5,15,2,52,1,2,15,4,5,5,1,139,4,5,2,36,7,5,2,7,2,74,2,4,5,5,5,38,2,5,4,11,2,5,2,7,21,5,1,92,2,11,5,64,1,5,2,4,7,2,5,74,2,5,2,4,2,36,1,38,2,15,1,11,2,5,26,7,2,5,1,36,5,2,2,323,5,2,15,4,1,15,2,21,4,11,2,11,1,5,2,98,2,26,4,4,5,5,2,74,1,5,7,4,2,15,5,19,5,2,2,92,2,5,2,7,11,15,1,4,11,5,1,38,1,2,5,36,1,21,4,21,2,2,4,36,2,5,11,45,2,74,2,11,5,5,2,52,2,5,2,11,1,5,2,38,38,2,2,11,2,15,5,7,1,11,4,4,2,15,1,250,1,5,4,4,5,5,2,7,5,11,5,137,2,2,5,12,1,5,2,26,11,5,1,74,2,5,5,4,1,36,2,30,15,2,2,11,2,2,7,74,2,5,1,16,11,2,2,98,2,15,2,11,1,15,5,21,4,5,2,36,4,2,5,19,2,64,1,11,2,11,1,21,2,2,36,11,2,15,2,38,2,5,2,26,5,2,2,21,5,15,2,11,7,2,7,254,2,2,5,11,1,36,2,7,5,2,1,11,2,36,4,12,1,15,5,11,5,2,1,300,2,5,2,11,5,15,1,47,4,5,2,36,1,2,11,7,1,36,1,11,5,2,5,38,11,2,12,11,2,15,1,21,2,15,2,26,1,2,11,105,1,5,1,4,26,5,2,21,1,11,5,11,5,21,2,38,5,2,2,135,2,2,4,7,2,5,5,4,2,5,1,171,2,15,11,9,1,15,1,21,21,2,1,11,2,5,5,57,2,36,4,4,2,5,5,21,2,2,11,52,1,15,1,45,5,2,1,98,2,15,5,21,2,5,2,11,4,5,1,141,1,5,5,4,11,11,1,7,5,15,1,11,2,2,21,19,4,15,2,11,2,5,2,198,2,5,4,11,2,36,5,12,4,2,5,11,1,5,5,21,2,21,1,11,15,11,2,105,1,5,4,11,1,5,4,21,11,2,2,92,1,2,2,12,2,36,2,11,19,15,1,21,5,2,5,4,2,11,2,171,2,2,2,11,5,2,11,7,2,52,2,11,2,5,2,212,2,4,2,11,5,5,1,21,29,5,2,36,2,5,2,97,2,11,11,4,2,2,1,74,1,15,21,11,2,5,1,12,5,11,1,26,1,5,15,21,1,15,1,11,11,5,2,64,5,2,2,11,1,141,2,7,5,2,4,36,2,5,4,38,5,5,1,26,5,2,4,52,1,5,5,4,1,15,5,30,7,15,2,92,1,2,2,21,5,11,2,4,5,5,1,141,2,2,11,4,1,5,5,74,2,2,2,52,4,5,5,19,2,15,2,4,26,5,5,21,1,5,2,36,1,36,1,12,5,11,2,11,1,21,12,7,2,15,2,4,5,2,2,467,2,5,5,11,2,11,2,21,4,5,2,36,2,2,36,29,2,21,1,26,5,11,1,21,5,5,4,4,2,15,1,19,2,2,5,92,5,5,2,52,1,5,2,4,21,2,1,98,2,15,5,4,1,36,2,7,5,2,4,36,1,5,4,105,4,5,1,11,5,15,7,162,2,2,5,4,2,15,1,38,11,5,1,11,5,5,2,21,1,92,1,36,2,2,2,64,1,5,21,11,1,5,5,7,15,5,1,26,1,5,5,12,2,15,7,11,4,2,1,198,1,5,5,4,5,21,4,67,5,15,2,11,2,5,11,21,1,5,2,26,5,5,1,98,2,2,5,11,2,15,2,7,12,2,11,36,2,5,2,64,2,36,1,4,11,2,1,74,9,5,4,4,2,15,2,38,2,2,1,198,2,2,5,7,5,5,2,4,4,36,2,105,1,5,5,4,5,11,2,21,2,5,2,36,2,5,21,12,2,15,2,4,5,5,4,52,2,11,2,36,1,5,2,64,36,5,1,11,2,5,2,21,2,38,5,4,2,2,2,212,2,2,11,11,2,52,1,7,2,5,1,26,2,5,5,45,2,15,2,36,7,2,2,21,4,5,11,11,1,36,2,38,2,5,5,11,1,2,11,21,2,15,1,4,15,2,1,382,2,26,2,11,1,5,5,7,4,5,2,36,5,5,5,12,2,11,1,11,11,5,2,74,1,2,47,26,2,5,1,105,2,2,5,66,2,5,2,7,1,52,1,4,4,5,5,38,5,2,5,26,1,21,2,21,15,5,2,11,2,15,11,19,1,5,2,11,2,15,2,198,1,2,5,4,16,5,2,12,7,5,1,36,1,2,5,21,4,36,2,11,5,5,1,195,2,5,4,11,5,36,1,7,5,5,2,98,2,2,2,141,2,15,1,11,11,2,2,21,2,5,11,4,1,52,11,19,5,2,2,36,2,5,7,7,2,5,2,36,2,5,2,98,2,5,15,4,1,5,1,52,11,5,1,36,5,5,2,30,2,74,1,4,5,5,5,74,1,2,4,11,1,15,4,12,11,5,2,26,1,15,5,21,2,5,5,4,38,2,2,250,2,2,2,11,2,11,1,21,2,19,5,11,4,5,11,38,1,15,2,11,2,5,1,109,5,5,2,4,1,52,1,118,11,2,4,11,1,5,15,21,2,11,2,4,5,5,1,38,2,15,7,26,5,5,2,7,2,5,1,249,1,5,5,19,5,5,5,11,4,5,1,21,2,15,5,4,1,64,2,38,11,5,1,36,11,2,11,21,1,15,2,4,2,2,5,289,1,2,2,11,2,15,1,21,21,5,2,26,2,11,5,12,1,11,5,11,5,11,1,74,1,2,11,11,5,5,1,19,5,36,2,52,1,2,21,7,2,5,1,36,4,2,2,141,2,5,2,4,1,36,5,21,2,5,2,36,1,5,12,181,2,15,2,4,15,2,2,52,5,5,2,11,4,5,2,12,11,2,4,36,1,11,2,21,4,74,1,4,2,5,2,64,2,2,36,4,2,15,2,74,5,2,2,26,2,5,5,38,1,36,1,4,7,5,2,21,2,2,2,36,5,11,2,30,5,5,2,92,1,5,4,7,1,15,11,4,5,5,5,424,1,5,2,4,2,15,2,7,11,15,1,11,2,5,5,64,2,26,2,52,5,2,2,21,2,2,7,4,2,52,2,38,5,2,2,26,7,2,5,21,1,5,2,11,26,5,2,165,1,5,5,11,2,52,2,21,2,5,2,36,2,2,4,12,15,5,1,4,5,11,1,198,1,5,15,11,2,5,2,64,22,5,1,11,5,11,5,7,1,36,1,11,5,5,4,38,1,15,11,36,1,5,2,7,5,5,2,52,2,5,7,30,2,15,2,11,4,2,1,198,5,2,5,11,2,11,1,38,2,5,2,36,2,2,52,7,2,5,1,11,2,15,2,171,7,2,4,4,2,52,2,7,11,5,2,36,1,2,2,38,2,38,5,11,5,2,4,21,2,36,4,4,1,5,7,97,5,2,1,92,1,2,2,52,5,15,2,4,21,15,2,38,1,5,11,4,2,36,1,21,5,5,2,11,5,2,4,64,1,15,1,11,5,2,5,109,2,5,15,26,1,5,1,12,11,5,2,36,1,15,2,7,4,11,5,11,2,2,1,426,5,2,12,9,4,15,4,16,2,5,2,92,1,15,5,12,1,5,2,11,11,2,2,21,5,2,5,11,2,109,2,19,2,5,5,11,2,5,4,52,1,36,1,11,15,5,2,98,2,5,5,4,2,5,4,52,7,2,1,36,1,2,15,45,5,36,2,4,5,15,1,21,1,5,11,4,2,15,2,98,2,5,1,171,2,5,2,21,2,15,4,11,4,2,5,64,2,5,2,36,2,11,1,7,36,2,1,11,1,5,21,38,1,15,2,4,5,5,2,198,1,5,2,11,4,15,2,30,4,11,5,11,5,5,5,7,1,21,3,52,2,5,1,141,2,2,11,11,1,15,1,7,5,5,12,26,4,5,2,64,2,15,1,4,38,5,2,74,2,15,2,4,2,11,5,12,11,2,1,92,2,15,11,7,2,5,1,11,11,5,1,401,2,2,5,36,1,5,5,21,4,2,5,11,4,2,2,12,4,135,2,4,2,2,5,52,2,2,7,11,2,15,2,64,5,5,1,26,1,11,5,21,2,15,5,11,4,11,1,141,1,4,5,4,5,38,1,21,5,15,1,36,2,5,26,30,1,5,2,11,5,2,1,52,5,5,5,4,2,15,1,38,21,5,2,36,1,2,2,109,1,11,2,11,5,5,11,64,2,5,11,4,1,15,5,7,2,11,1,198,5,2,2,12,4,5,1,11,11,15,2,21,2,2,15,4,2,36,1,165,2,5,1,11,2,5,19,7,5,36,2,11,2,2,5,269,1,2,5,11,2,15,2,7,11,2,2,36,1,15,2,64,2,21,4,11,5,2,1,74,2,2,4,36,5,5,2,12,5,5,2,26,2,2,15,7,2,36,2,26,7,5,1,105,11,15,5,4,1,36,2,21,2,2,2,11,2,2,11,38,1,5,2,11,21,5,1,212,1,15,2,4,2,15,2,19,11,5,4,135,2,2,2,21,2,11,2,4,2,36,1,38,2,11,21,4,2,5,1,21,15,2,5,26,2,2,2,139,2,15,2,11,4,5,11,74,1,5,2,11,2,74,2,12,5,2,1,11,5,5,11,21,1,15,2,11,2,5,2,484,2,5,12,4,5,5,1,21,12,15,1,11,1,2,15,38,2,11,1,26,5,5,2,74,9,2,11,11,1,15,2,30,2,2,2,52,1,15,5,21,2,15,1,4,36,2,1,38,2,21,2,26,1,36,2,7,5,5,5,92,2,2,7,19,2,15,4,11,2,5,2,52,2,2,11,11,2,5,2,141,4,5,1,11,5,2,5,7,2,105,2,4,15,5,2,165,1,5,4,26,4,5,2,21,5,5,1,92,1,15,2,12,2,15,15,11,7,2,2,74,1,5,2,4,4,36,2,19,5,5,1,36,1,5,11,21,5,5,2,11,2,2,2,212,5,2,5,11,1,92,1,7,11,2,2,11,2,5,5,105,2,11,2,11,5,5,2,21,1,15,38,11,2,5,7,12,2,15,2,92,4,2,5,21,5,5,2,4,4,5,2,250,1,2,15,9,2,21,4,52,2,2,2,11,2,11,4,12,2,52,1,11,5,5,2,52,1,2,2,36,2,5,2,67,52,5,2,11,5,5,2,7,1,36,2,26,5,2,2,141,2,4,4,4,2,15,2,52,5,11,1,98,2,2,15,19,1,15,1,11,4,15,2,21,2,2,5,4,5,36,2,12,5,5,11,36,1,2,7,74,1,15,2,4,5,5,1,289,1,15,5,4,2,5,2,7,26,5,1,98,2,11,5,38,5,21,1,4,2,5,5,21,2,11,11,4,1,15,2,64,5,2,1,92,11,5,5,7,1,15,2,11,19,2,5,38,1,2,5,36,1,11,2,21,5,21,1,36,1,11,4,45,5,5,2,4,5,2,1,444,1,5,2,11,5,15,5,38,9,5,2,11,1,5,11,7,1,11,5,11,11,5,1,64,5,2,7,11,1,52,1,21,2,2,11,26,2,5,5,98,2,15,1,4,26,2,1,21,2,5,5,11,2,38,2,105,2,5,2,36,1,5,26,7,7,15,2,4,2,15,2,98,2,5,5,11,2,15,1,21,7,2,1,92,5,2,2,19,1,92,2,4,2,5,2,74,5,5,11,11,2,5,2,12,15,2,5,52,1,15,2,21,1,5,4,11,4,5,2,381,1,5,5,11,5,36,1,16,5,5,1,11,4,2,38,38,2,5,1,92,5,2,1,52,5,2,5,11,2,15,2,19,4,15,2,11,1,5,5,21,2,74,1,4,11,2,1,141,2,5,4,4,5,5,15,7,2,5,2,92,1,11,5,77,2,5,2,11,21,21,2,74,1,2,15,11,1,11,1,38,5,2,2,11,2,5,4,7,2,52,2,11,2,11,4,339,5,2,2,11,2,5,2,21,11,5,2,36,1,15,11,12,1,11,2,4,5,5,2,198,2,5,16,4,5,5,2,45,5,15,2,92,2,2,5,7,1,5,2,36,11,2,1,38,4,15,2,11,1,74,2,21,5,2,2,11,2,2,11,171,1,5,5,11,5,2,5,52,2,11,2,11,1,52,2,12,12,2,2,36,2,2,2,7,11,36,1,11,5,5,2,105,1,5,52,11,1,15,1,21,5,5,1,52,5,2,5,38,7,15,2,4,4,2,2,74,2,5,2,26,1,11,2,64,15,5,1,11,2,15,7,21,2,5,2,4,15,5,1,392,2,5,5,11,4,5,1,7,4,15,5,11,1,2,11,67,1,98,2,11,2,11,4,21,5,5,4,4,1,36,1,38,5,5,5,92,2,5,5,21,2,5,1,11,21,5,2,64,2,5,2,4,5,11,11,7,2,2,2,135,2,5,4,12,2,21,4,4,2,15,2,109,1,5,15,4,2,15,2,162,11,2,2,36,2,2,5,74,1,36,1,4,2,2,5,38,1,5,30,11,2,15,2,21,11,2,2,26,5,15,2,19,2,15,2,26,11,2,1,74,5,2,5,4,2,21,2,12,2,36,2,36,1,2,11,21,2,15,1,36,2,5,2,467,2,5,2,4,1,15,2,7,21,5,11,11,2,5,2,38,1,11,2,11,36,5,1,21,1,5,11,26,1,15,2,64,2,2,5,269,1,2,5,7,2,15,4,4,11,5,1,98,5,2,5,4,1,36,2,74,2,5,1,11,12,5,21,30,2,15,2,11,2,11,2,52,2,5,2,36,2,15,2,12,11,2,1,36,2,11,15,7,2,21,5,4,2,2,2,250,1,15,4,11,5,5,1,7,5,15,1,26,2,5,11,38,5,15,1,11,12,2,4,74,2,2,2,11,2,135,1,101,2,5,5,11,2,2,4,52,2,5,2,11,5,5,2,212,1,5,15,4,2,11,5,21,11,5,1,36,1,2,2,19,11,11,2,26,5,5,1,109,1,5,21,11,1,5,5,38,5,5,1,26,5,15,2,7,2,74,2,4,11,2,5,105,2,2,2,36,2,64,1,7,15,2,2,36,1,5,4,38,1,15,4,4,5,2,2,198,9,5,5,11,2,5,1,64,7,5,1,11,1,15,15,21,1,11,2,26,2,5,4,38,5,2,11,11,2,15,1,7,5,2,2,198,1,2,5,165,2,15,5,4,26,5,2,21,1,36,2,4,2,11,2,12,5,5,2,36,2,5,12,21,2,15,2,4,11,11,2,171,1,2,5,4,2,15,2,74,4,5,1,36,5,5,2,12,1,74,2,36,2,5,7,21,1,5,26,11,4,15,2,30,15,5,1,26,1,5,2,7,5,5,5,4,7,15,2,392,2,2,2,11,4,11,2,7,2,11,2,11,2,5,36,19,2,15,1,11,5,2,1,212,4,5,4,26,1,15,1,38,4,2,5,36,5,2,5,21,2,36,1,4,5,5,1,254,5,26,7,4,2,5,5,21,2,2,2,92,1,2,15,29,2,15,1,11,4,36,2,21,2,5,11,11,4,21,2,64,5,2,2,36,2,2,11,7,2,15,2,11,5,5,2,98,2,5,2,52,1,15,2,7,64,2,2,11,2,15,2,105,1,36,5,4,5,2,2,74,1,2,4,4,11,36,1,38,2,5,2,52,5,5,5,21,1,5,1,36,11,2,1,64,2,2,15,4,2,92,2,7,2,15,5,36,2,5,7,38,2,5,1,4,5,2,2,198,5,5,2,4,1,5,16,45,4,2,2,135,1,5,2,21,5,38,2,11,5,5,4,38,2,2,11,11,1,5,1,52,5,15,2,26,2,5,5,19,1,52,2,4,21,5,2,21,2,5,11,11,2,11,1,98,21,5,1,11,1,5,11,21,2,5,5,11,2,5,2,662,1,5,5,4,15,15,1,21,9,11,2,36,2,2,5,12,2,36,2,11,2,5,1,52,2,5,12,11,1,36,5,19,11,2,4,26,1,2,5,74,1,5,2,11,11,5,5,38,1,15,2,11,1,74,5,7,5,2,1,92,5,5,4,97,2,5,1,11,2,15,2,137,1,2,15,4,2,5,1,38,21,11,5,11,4,2,2,7,5,36,1,11,5,5,2,250,1,5,4,36,1,15,2,7,15,2,1,118,2,38,2,12,1,5,5,11,11,5,2,74,1,5,5,11,2,11,2,30,5,5,4,36,2,5,52,7,2,52,1,11,2,2,1,98,5,5,5,16,5,15,2,21,4,2,2,11,2,5,5,171,2,21,1,11,5,15,1,21,2,5,11,4,2,15,5,38,2,2,1,249,1,5,5,7,4,5,5,4,12,5,1,165,4,5,15,9,1,11,1,74,5,2,2,36,5,2,4,38,1,36,2,4,5,5,15,109,2,5,2,11,1,15,1,19,11,15,1,11,4,5,2,7,2,36,7,11,5,5,2,141,2,2,21,4,2,5,1,21,2,15,2,92,1,2,5,30,5,5,2,26,11,2,2,74,5,5,2,11,2,141,5,12,2,2,2,11,2,21,4,21,2,5,1,11,36,2,2,171,1,15,5,36,1,5,2,7,7,5,2,36,1,5,5,38,2,36,2,4,5,11,1,21,2,11,11,4,4,5,4,254,5,2,1,52,5,2,11,21,1,52,1,4,4,5,4,141,2,4,5,11,2,11,2,7,5,2,5,36,2,15,19,19,4,5,5,11,2,5,1,300,1,5,2,4,2,15,1,12,36,15,1,11,1,2,5,52,2,21,2,36,5,5,2,105,9,2,11,11,1,52,2,7,2,2,5,26,2,2,5,38,1,15,1,36,21,2,2,74,1,11,5,11,2,11,2,19,2,5,1,36,5,5,11,21,11,5,1,4,2,5,2,424,2,5,26,4,2,15,2,21,4,5,2,11,5,15,5,45,2,36,1,4,5,2,5,21,2,2,7,92,2,15,1,12,5,5,2,92,1,5,2,21,2,36,2,11,4,5,2,250,2,2,2,4,7,52,1,21,5,15,2,11,1,2,36,12,1,5,5,11,5,5,2,52,5,5,2,4,2,36,1,105,12,5,2,36,1,5,5,21,1,11,11,11,15,2,2,38,2,15,4,4,1,15,4,21,15,5,2,198,1,2,2,64,5,5,1,4,4,5,5,21,2,2,5,26,2,36,1,98,2,5,1,36,5,2,21,7,1,15,2,26,5,5,5,392,2,5,5,11,1,15,2,7,26,5,1,11,2,15,5,12,2,64,2,4,2,5,1,296,1,2,11,4,4,15,2,47,2,21,4,26,2,5,5,21,1,5,2,11,31,5,2,38,5,5,2,11,5,36,2,21,5,2,11,11,1,2,4,105,1,52,1,11,5,2,2,109,2,5,5,11,1,5,11,38,4,2,2,92,2,2,5,7,2,36,2,11,5,36,1,64,2,2,38,11,7,5,1,21,5,5,1,92,4,2,2,38,2,15,5,4,11,5,2,21,1,15,5,11,1,21,1,45,15,2,2,36,1,36,4,21,2,5,2,4,2,2,4,392,5,5,2,4,2,15,5,7,7,5,1,36,5,5,19,19,1,11,2,36,5,2,2,74,2,11,11,4,2,15,1,12,5,15,2,98,1,5,5,52,5,5,1,4,36,2,2,289,2,5,2,11,1,11,5,21,5,5,1,36,1,5,7,38,11,5,2,4,5,15,1,52,1,5,15,11,1,36,1,64,4,2,5,11,2,2,5,7,2,198,2,11,5,5,5,38,4,2,4,36,1,15,1,52,5,2,1,26,2,5,15,67,1,5,4,11,30,5,1,74,2,5,5,4,5,36,2,12,2,15,1,36,2,5,11,7,1,5,5,52,2,2,5,382,2,11,2,4,2,15,1,21,11,5,5,36,2,2,5,141,1,26,2,4,11,5,2,21,2,5,7,4,1,15,2,30,11,5,1,92,5,5,2,7,5,15,1,36,4,11,1,38,2,5,36,4,2,38,4,21,2,5,2,11,2,2,4,64,2,52,2,4,2,2,4,198,2,2,5,11,5,5,4,12,21,2,1,36,2,15,5,21,2,36,5,4,5,2,2,467,1,2,11,29,5,5,2,7,2,11,2,52,1,15,5,12,2,15,1,36,4,5,1,21,21,2,2,11,1,36,1,64,11,2,5,36,2,5,38,21,2,5,1,4,5,15,2,98,1,11,2,11,4,5,2,21,11,5,2,135,1,2,2,30,2,21,2,4,5,5,2,74,2,5,26,11,1,5,1,98,5,5,2,26,5,5,2,21,1,52,2,4,7,5,5,64,1,5,5,26,2,92,2,7,5,5,2,11,5,5,11,12,2,5,5,11,5,5,1,382,1,2,5,36,4,5,2,97,11,15,2,11,1,5,15,7,5,11,1,11,5,2,1,141,2,5,16,4,1,74,4,21,2,2,2,26,2,15,2,64,2,5,2,4,36,5,1,74,1,5,2,11,2,21,11,38,2,2,5,36,1,5,4,7,5,15,1,4,5,15,1,289,2,5,5,11,2,15,2,137,29,11,1,36,5,2,5,12,2,36,1,11,2,5,5,21,1,2,4,11,5,5,5,19,11,7,2,198,1,5,5,7,1,15,5,4,4,2,1,141,2,15,5,11,5,11,2,7,11,11,1,11,2,5,21,165,1,15,1,36,5,2,2,52,2,2,15,4,2,52,1,12,4,2,7,11,5,5,5,74,2,38,1,11,5,2,1,64,5,15,11,4,2,15,2,7,2,11,2,249,1,2,2,12,5,15,1,4,7,5,5,74,2,2,5,11,2,36,5,105,2,11,1,11,4,5,4,21,1,15,1,11,15,2,2,212,2,2,2,36,1,5,2,21,36,2,7,11,1,11,5,19,2,36,5,11,2,5,2,74,2,5,19,11,2,15,1,38,2,5,4,26,1,2,36,21,2,5,2,11,4,15,2,254,2,2,2,11,2,74,2,7,2,5,2,92,2,2,11,109]}),define("modules/sequences",["lodash","json!data/vampire.json","json!data/carmichael.json","json!data/metadromes.json","json!data/fibonacci-primes.json","json!data/mult-partition.json"],function(e,t,n,r,i,s){function l(e){return Math.log(e*a+.5)*u|0}function c(e){return Math.round(Math.pow(o,e)*f)}function h(e){return Math.floor(Math.random()*e)}var o=(1+Math.sqrt(5))/2,u=1/Math.log(o),a=Math.sqrt(5),f=1/a,p={maxSeqLength:100};p.primes=function(e){e=e||this.maxSeqLength;var t=[2],n=2,r=1,i=!0;if(e<=2)return t;while(n<e){i=!0;for(var s=0;s<r;s++)if(n%t[s]===0){i=!1;break}i&&(r=t.push(n)),n++}return t},p.fibonaccis=function(e,t){e=e||this.maxSeqLength;var n=[0,1],r=1,i=1;t=!!t;while(t?r<e:i<e)i=n[r]+n[r-1],n.push(i),r++;return n.shift(),n.shift(),n};var d=e.memoize(function(e){var t=l(e),n=c(t),r=e-n;return e<0?0:e<=2?1:r>=0&&r<c(t-3)?d(c(t-2)+r)+d(r):r>=c(t-3)&&r<c(t-2)?2*d(r):d(c(t+1)-2-r)});return p.fibonacciSums=function(e){var t=[],n=1;for(;n<e;++n)t.push(d(n));return t},p.randoms=function(e){e=e||this.maxSeqLength;var t=0,n=[];while(t<e)t++,Math.random()>.5&&n.push(t);return n},p.pythTriples=function(t){var n,r,i,s,o,u=[];for(n=2;n<=t;n++)for(r=1;r<n;r++){if(r*r>t){t=0;break}i=n*n-r*r,s=2*n*r,o=n*n+r*r,u.push(i,s,o)}return e(u).sortBy().uniq(!0).valueOf()},p.pythPrimes=function(t){return e.filter(p.primes(t),function(e){return(e-1)%4===0})},r.shift(),p.vampire=e.sortBy(t),p.carmichael=n,p.metadromes=r,p.fibonacciPrimes=i,p.multPartition=s,p}),define("modules/spirals",["lodash"],function(e){function i(e){return e>=0?1:-1}function s(e,t){var n=t+e,r=t-e,s,o;return s=Math.abs(n),o=Math.abs(r),Math.pow(s+o,2)+i(r)*(s-n)+r+1}function o(e){var t=[],n;for(var r=-e;r<=e;r++)for(var i=-e;i<=e;i++)n=s(i,r),t[n]=[i,-r];return t}function u(e){var t=1,n=1,r=1,i=0,s=0,o=1,u=0,a=[[0,0]],f=e||100;while(o<f){for(u=0;u<r;u++,o++)i+=t,a.push([i,s]);t*=-1;for(u=0;u<r;u++,o++)s+=n,a.push([i,s]);n*=-1,r++}return a}function a(e){var n=1,r=[],i,s=e||100;while(n<s)i=Math.sqrt(n),r.push([Math.cos(i*t)*i,Math.sin(i*t)*i]),n++;return r}function f(e){var n=1,i=[],s,o,u=e||100;while(n<u)s=Math.sqrt(n),o=n*(t/r),i.push([Math.cos(o)*s,Math.sin(o)*s]),n++;return i}function l(e){var t=1,n=0,r=0,i=[],s=Math.max(2,Math.round(Math.sqrt(e)));while(t<e){for(n=0;n<s;n++,t++){if(t>=e)break;i.push([n,-r])}r++}return i}function c(e){var t=0,n=Math.PI*2/3,r=0,i=1,s=0,o=0,u=1,a=[[0,0]];while(u<e){for(t=0;t<i&&u<e;++t,++u)s+=Math.cos(r),o+=Math.sin(r),a.push([s,o]);r+=n,i++}return a}function h(e){var t=0,n=Math.sqrt(3),r=1,i=0,s=1,o=0,u=0,a=[];while(i<e){for(t=0;t<s&&i<e;++t,++i)o=n*(t-(s-1)/2),u=r*s,a.push([o,-u]);s++}return a}var t=Math.PI*2,n=(1+Math.sqrt(5))/2,r=Math.pow(n,2);return{ulamSpiral:u,sacksSpiral:a,vogelSpiral:f,grid:l,pyramid:h,triangle:c}}),define("mediators/boilerplate",["jquery","lodash","moddef","kinetic","hammer.jquery","mousetrap","dat","math","when","modules/sequences","modules/spirals"],function(e,t,n,r,i,s,o,u,a,f,l){function v(e){return e>=0?1:-1}function m(e){var t={n:0},n,r;return n=c.parse(e),r=n.compile(c),function(e){return t.n=e+1,r.eval(t)}}var c=u(),h={preset:"Default",closed:!1,remembered:{Default:{0:{Layout:"ulamSpiral",Limit:1e4,Family:"primes",custom:"n^2",connect:!1,highlight:"rgb(167, 42, 34)","zoom to":1}}},folders:{}},p={"Prime Numbers":"primes",Carmichael:"carmichael","Fibonacci Numbers":"fibonaccis","Fibonacci Primes":"fibonacciPrimes","Fibonacci Sums":"fibonacciSums","Pythagorean Primes":"pythPrimes","Pythagorean Triples":"pythTriples","Multiplicative Partitions":"multPartition","Vampire Numbers":"vampire","Largest Metadromes in base n":"metadromes",Random:"randoms","Random Opacity":"randomsWeighted","Custom Function":"custom"},d=t.invert(p),g=n({constructor:function(){var t=this;t.markers=[],t.labels=[],t.maxScale=20,t.minScale=.01,t.scale=1,t.offset={x:0,y:0},t.selected=1,t.setLayout=t.nonBlocking(t.setLayout),t.highlightSequence=t.nonBlocking(t.highlightSequence),t.clickCallback=t.clickCallback.bind(this),t.restoreHash(),e(function(){t.resolve("domready")}),t.after("domready").then(function(){t.onDomReady()}),t.initEvents(),t.initStage(),t.initSettings()},restoreHash:function(){var t=this,n=window.location.hash.substr(1);n=n.match(/settings=([^&]*)/);if(!n||!n.length)return;try{n=window.atob(window.decodeURIComponent(n[1])),n=e.parseJSON(n)}catch(r){return}if(!n)return;n.gui&&(t.guiSharePreset=n.gui),n.scale&&(t.scale=n.scale),n.offset&&(t.offset=n.offset),n.selected&&(t.selected=n.selected)},updateHash:function(){var e=this,t=e.gui.getSaveObject(),n=t.preset,r=t.remembered[n],i={gui:r[0],scale:e.scale,offset:e.offset,selected:parseInt(e.$number.text())};window.location.hash="#settings="+window.encodeURIComponent(window.btoa(JSON.stringify(i)))},getPresets:function(){var t=this,n=t.guiSharePreset?{remembered:{shared:{0:t.guiSharePreset}}}:null;return{load:e.extend(!0,{},h,n),preset:t.guiSharePreset?"shared":"Default"}},clickCallback:function(e){this.emit("clicked",e.targetNode)},nonBlocking:function(e,n){var r=this,i,s,o;return n=n||200,s=function(t){e.apply(r,t),o&&o.resolve(),o=!1},i=t.debounce(function(){r.emit("progress",!0),t.defer(s,arguments)},n),function(){return o=o||a.defer(),i.apply(r,arguments),o.promise}},initEvents:function(){function r(){t.scale=Math.max(t.minScale,Math.min(t.maxScale,t.scale)),t.emit("scale",t.scale)}var t=this,n;t.after("domready").then(function(){var i=e("#viewport").hammer();i.on("mousewheel","#canvas-wrap",function(e){var n=Math.min(Math.abs(e.originalEvent.wheelDelta)/50,.2)*v(e.originalEvent.wheelDelta);t.scale*=Math.pow(2,n),r(),e.preventDefault()}),i.on("transformstart","#canvas-wrap",function(e){n=t.scale}),i.on("transform","#canvas-wrap",function(e){t.scale=n*e.gesture.scale,r(),e.preventDefault()}),i.on("dragstart","#canvas-wrap",function(e){t.emit("movestart")}),i.on("drag","#canvas-wrap",function(e){t.emit("move",{x:e.gesture.deltaX,y:e.gesture.deltaY})}),i.on("dragend","#canvas-wrap",function(e){t.emit("moveend")}),i.on("tap","#more-info",function(n){t.resolve("first-open"),e(this).toggleClass("closed")}).on("tap","#more-info .hide",function(t){return t.preventDefault(),e("#more-info").addClass("closed"),!1}).on("tap","#what-is-this",function(n){return n.preventDefault(),t.resolve("first-open"),e("#more-info").removeClass("closed"),t.emit("describe","what"),!1}).on("tap","#back-to",function(n){return n.preventDefault(),t.emit("describe",p[e(this).attr("data-about")]),!1}),t.on("hash",t.updateHash,t)}),t.on("zoomin",function(){t.scale*=2,r()}),t.on("zoomout",function(){t.scale*=.5,r()}),s.bind("command+=",function(e){return e.preventDefault(),t.emit("zoomin"),!1}),s.bind("command+-",function(e){return e.preventDefault(),t.emit("zoomout"),!1}),t.on("refresh-highlight",function(e){var n=t.stage.find("#circle-"+t.selected)[0];t.emit("clicked",n),t.off(e.topic,e.handler)}),t.on("describe",function(n,r){t.after("domready").then(function(){var t=e("#describe-"+r);e("#what-is-this").toggle(r!=="what"),t.length&&(e("#more-info .content > div").hide(),t.show()),r!=="what"&&e("#back-to").attr("data-about",d[r])})}),t.after("first-open").then(function(){e("#more-info .tip .arrow").hide()})},initSettings:function(){var n=this,r=new o.GUI(n.getPresets()),i,s=["fibonacciSums","khintchine","multPartition","randomsWeighted"],u=function(){n.emit("hash")},a=t.debounce(function(){i.refreshSequence(),n.emit("describe",i._family),n.highlightSequence(i._familyArr,i._highlight,i._connect,i._weighted).then(function(){n.emit("refresh")})},200),c,h,d,v=!1;n.gui=r,i={_layout:"ulamSpiral",get Layout(){return this._layout},set Layout(e){var t=this._highlight,r=this._connect;this._layout=e,this._layoutArr=l[e](this._limit),this.refreshSequence(),n.sequence=this._familyArr,n.setLayout(this._layoutArr).then(function(){return n.highlightSequence(!0,t,r)}).then(function(){n.emit("refresh")})},_limit:1e4,get Limit(){return this._limit},set Limit(e){this._limit!==e&&(this._limit=e,this.refreshSequence(),n.sequence=this._familyArr,this.Layout=this.Layout)},_family:"primes",get Family(){return this._family},set Family(e){this._family=e,a()},refreshSequence:function(){var e=this._family;if(e==="custom")try{this._familyArr=t.times(this._limit,m(this._custom)),this._familyArr=t(this._familyArr).sortBy().uniq(!0).reject(function(e){return e<1}).valueOf()}catch(n){this._familyArr=[];return}else if(e==="randomsWeighted")this._familyArr=t.times(this._limit,Math.random);else{var r=f[e];t.isFunction(r)?this._familyArr=r(this._limit):this._familyArr=r}this._weighted=t.indexOf(s,e)>-1},_custom:"n^2",get custom(){return this._custom},set custom(e){this._custom=e,c()},_connect:!1,get connect(){return this._connect},set connect(e){this._connect=e,n.highlightSequence(this._familyArr,this._highlight,this._connect,this._weighted).then(function(){n.emit("refresh")})},_highlight:"#a33",get highlight(){return this._highlight},set highlight(e){this._highlight=e,n.highlightSequence(this._familyArr,this._highlight,this._connect,this._weighted).then(function(){n.emit("refresh")})},"zoom to":42},c=t.debounce(function(){i.Family=i.Family},800),i["zoom in"]=function(){n.emit("zoomin")},i["zoom out"]=function(){n.emit("zoomout")},i["zoom to selected number"]=function(){n.emit("goto",this.select)},r.remember(i),r.add(i,"Layout",{Grid:"grid","Ulam Spiral":"ulamSpiral","Sacks Spiral":"sacksSpiral","Vogel Spiral":"vogelSpiral",Triangle:"triangle",Pyramid:"pyramid"}).onChange(u),r.add(i,"Limit",[10,100,1e3,1e4,5e4,1e5]).onChange(u),h=r.add(i,"Family",p).onChange(u),d=r.add(i,"custom").onChange(u),e(d.__li).on("keyup","input",function(e){i.Family!=="custom"&&(i._family="custom",h.updateDisplay())}),r.add(i,"connect").onChange(u),r.addColor(i,"highlight").onChange(u);var g=r.addFolder("Navigation");g.add(i,"zoom in"),g.add(i,"zoom out"),g.add(i,"zoom to",1).onChange(t.debounce(function(e){n.emit("goto",e)},100)),g.open()},initStage:function(){function m(e){s.setWidth(h),s.setHeight(p),o.offsetX(-h/2),o.offsetY(-p/2),a.offsetX(d.x),a.offsetY(d.y),a.scale({x:l,y:l}),s.batchDraw(),e!==!1&&v()}var n=this,i=document.createElement("div"),s=n.stage=new r.Stage({container:i}),o=n.mainLayer=new r.Layer,u=n.mainGroup=new r.Group,a=n.panGroup=new r.Group,f,l=n.scale,c=e(window),h=c.width(),p=c.height(),d=n.offset;n.connectLine=new r.Line({points:[0,0,100,100],x:0,y:0,strokeWidth:2}),u.add(n.connectLine),a.add(u),o.add(a),s.add(o),f=new r.Circle({x:0,y:0,radius:10,fill:!1,stroke:"#000",strokeWidth:2}),a.add(f);var v=t.debounce(function(){var e=1/l;u.cache({x:0,y:0,width:h,height:p}).offsetX(-d.x*l+h/2).offsetY(-d.y*l+p/2).scaleX(e).scaleY(e),s.draw(),n.emit("redraw"),n.emit("progress",!1),n.emit("hash")},400);c.on("resize",function(){h=c.width(),p=c.height(),m()}),n.on("scale",function(e,t){l=t,m()}),n.on("movestart",function(){function r(){m(),n.off("moveend",r),n.off("move",i)}function i(t,n){d.x=e.x-n.x/l,d.y=e.y-n.y/l,m(!1)}var e={x:d.x,y:d.y},t=f.offset();n.on("moveend",r),n.on("move",i)}),n.on("refresh",m),n.on("clicked",function(e,t){var r=t.id(),i=t.position();r&&(n.selectedNode=t,r=r.replace(/^[^-]*-/,""),f.position(i),o.draw(),n.emit("hash"),n.after("domready").then(function(){n.$number.text(r)}))}),n.on("refresh-layout",function(){n.selectedNode&&n.emit("clicked",n.selectedNode)}),n.on("goto",function(e,t){var r=t&&s.find("#circle-"+t),i;r&&r.length&&(r=r[0],i=r.position(),d.x=i.x,d.y=i.y,n.scale=l=2,n.emit("clicked",r),m())}),n.after("domready").then(function(){n.$el.append(i),c.trigger("resize")})},setLayout:function(e){var t=this,n,i,s=20,o=s*.5,u,a,f,l,c=t.markers.length,h=t.labels.length;if(e===t.layout)return;t.layout=e;for(f=0,l=e.length;f<l;++f)n=e[f],u=n[0]*s,a=-n[1]*s,f<c?(i=t.markers[f],i.x(u),i.y(a),i.show(),i.fill("#ccc")):(i=new r.Circle({x:u,y:a,width:s-2,height:s-2,fill:"#ccc",id:"circle-"+(f+1)}),i.on("click tap",t.clickCallback),t.markers.push(i),t.mainGroup.add(i)),f<99&&(f<h?(i=t.labels[f],i.x(u),i.y(a)):(i=new r.Text({x:u,y:a,width:s,height:s,text:f+1+"",id:"text-"+(f+1),fontSize:12,fontFamily:"monospace",fill:"rgba(20, 20, 20, 0.5)",align:"center",offset:{x:s/2,y:(s-8)/2}}),i.on("click tap",t.clickCallback),t.labels.push(i),t.mainGroup.add(i)));for(f=l;f<c;++f)i=t.markers[f],i.hide();t.emit("refresh-layout")},highlightSequence:function(e,n,r,i){var s=this,o=this.markers,u,a,f,l,c,h=[];r=!!r;if(e!==!0&&e===s.sequence&&s.highlightColor===n&&s.connectLine.visible()===r)return;if(s.sequence&&e!==s.sequence)for(f=0,l=o.length;f<l;++f)o[f].fill("#ccc").opacity(1);e===!0?(e=s.sequence,i=s.weighted,n=n||s.highlightColor,r=s.connectLine.visible()):(s.sequence=e,s.weighted=i,s.highlightColor=n||"#a33",s.connectLine.visible(!!r));if(!e)return;if(i){c=1/t.max(e);for(f=0,l=e.length;f<l;++f){a=e[f],u=o[f];if(!u)break;u.fill(n),u.opacity(a*c)}s.connectLine.points([])}else{for(f=0,l=e.length;f<l;++f){a=e[f]-1,u=o[a];if(!u)break;u.fill(n),r&&h.push(u.x(),u.y())}s.connectLine.points(h).stroke(s.highlightColor).moveToTop(),t.each(s.labels,function(e){e.moveToTop()})}s.emit("refresh-highlight"),s.resolve("render")},onDomReady:function(){var n=this,r=e("#progress");n.$el=e("#canvas-wrap"),n.el=n.$el[0],n.$number=e("#number-id"),n.on("progress",function(e,t){n.$el.toggleClass("loading",t),r.toggle(t)}),n.on("redraw",function(){r.hide()}),n.after("render").then(function(){var n=e("#more-info .tip");t.delay(function(){n.addClass("flash")},2500)})}},["events"]);return new g}),require(["config/require-config"],function(){require(["mediators/boilerplate"])}),define("page-boilerplate",function(){}),define("page-boilerplate",function(){});